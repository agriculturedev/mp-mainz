(window.webpackJsonp=window.webpackJsonp||[]).push([[98,220,221,552,553,554,555,556],{260:function(O,M,a){var d=Object.create,u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,j=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,y=(g,i)=>{for(var l in i)u(g,l,{get:i[l],enumerable:!0})},S=(g,i,l,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let e of V(i))!x.call(g,e)&&e!==l&&u(g,e,{get:()=>i[e],enumerable:!(r=b(i,e))||r.enumerable});return g},m=(g,i,l)=>(l=g!=null?d(j(g)):{},S(i||!g||!g.__esModule?u(l,"default",{value:g,enumerable:!0}):l,g)),P=g=>S(u({},"__esModule",{value:!0}),g),c={};y(c,{default:()=>q}),O.exports=P(c);var n=m(a(5787)),f=m(a(4092)),w=m(a(4093)),h=m(a(4094)),q={component:n.default,store:f.default,locales:{de:w.default,en:h.default}}},3703:function(O,M){var a=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,V=(P,c)=>{for(var n in c)a(P,n,{get:c[n],enumerable:!0})},j=(P,c,n,f)=>{if(c&&typeof c=="object"||typeof c=="function")for(let w of u(c))!b.call(P,w)&&w!==n&&a(P,w,{get:()=>c[w],enumerable:!(f=d(c,w))||f.enumerable});return P},x=P=>j(a({},"__esModule",{value:!0}),P),y={};V(y,{default:()=>m}),O.exports=x(y);var m={active:!1,id:"vcOblique",name:"additional:menu.tools.obliqueViewer",icon:"bi-camera-fill",styleId:"",renderToWindow:!1,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!0,initialWidth:500,obliqueViewerURL:"",lastCoordinates:"",defaultMapMarkerStyleId:"",heading:0,serviceId:"oblique",dataYear:""}},3853:function(O,M,a){var d=Object.create,u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,m=(r,e,t)=>e in r?u(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e)=>{for(var t in e||(e={}))y.call(e,t)&&m(r,t,e[t]);if(j)for(var t of j(e))S.call(e,t)&&m(r,t,e[t]);return r},c=(r,e)=>{for(var t in e)u(r,t,{get:e[t],enumerable:!0})},n=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of V(e))!y.call(r,v)&&v!==t&&u(r,v,{get:()=>e[v],enumerable:!(s=b(e,v))||s.enumerable});return r},f=(r,e,t)=>(t=r!=null?d(x(r)):{},n(e||!r||!r.__esModule?u(t,"default",{value:r,enumerable:!0}):t,r)),w=r=>n(u({},"__esModule",{value:!0}),r),h={};c(h,{default:()=>l}),O.exports=w(h);var q=a(10),g=f(a(3703)),l=P({},(0,q.generateSimpleMutations)(g.default))},3883:function(O,M,a){(function(d){var u=Object.create,b=Object.defineProperty,V=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,x=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,S=(i,l)=>{for(var r in l)b(i,r,{get:l[r],enumerable:!0})},m=(i,l,r,e)=>{if(l&&typeof l=="object"||typeof l=="function")for(let t of j(l))!y.call(i,t)&&t!==r&&b(i,t,{get:()=>l[t],enumerable:!(e=V(l,t))||e.enumerable});return i},P=(i,l,r)=>(r=i!=null?u(x(i)):{},m(l||!i||!i.__esModule?b(r,"default",{value:i,enumerable:!0}):r,i)),c=i=>m(b({},"__esModule",{value:!0}),i),n=(i,l,r)=>new Promise((e,t)=>{var s=o=>{try{E(r.next(o))}catch(_){t(_)}},v=o=>{try{E(r.throw(o))}catch(_){t(_)}},E=o=>o.done?e(o.value):Promise.resolve(o.value).then(s,v);E((r=r.apply(i,l)).next())}),f={};S(f,{default:()=>g}),O.exports=c(f);var w=P(a(45)),h=P(a(68)),g={initObliqueView({commit:i,dispatch:l,getters:r,rootGetters:e}){const t=document.getElementById("obliqueIframe");t?.addEventListener("load",()=>{const s=new MutationObserver(()=>{const v=t.contentWindow.document.getElementById("header"),E=t.contentWindow.document.getElementsByClassName("vcm-btn-icon single-first maptool-btn vcm-btn-base-default vcm-btn-base-splash-hover vcm-border vcm-border-dye03 vcm-btn-icon-font-default vcm-btn-icon-font-dye01-hover vcm-no-select vcm-btn-map-Oblique")[0],o=t.contentWindow.document.getElementsByClassName("overview-map-wrap")[0],_=document.getElementById("obliqueIframe").contentWindow.vcs,p=_.vcm.Framework.getInstance().getActiveMap(),C=mapCollection.getMap("2D").getPixelFromCoordinate(e["Maps/initialCenter"]),D=t.contentWindow.document.getElementsByClassName("mapElement vcm-map-top");if(i("Maps/setClickCartesianCoordinate",C,{root:!0}),p&&(p.olMap.on("moveend",()=>{const I=w.default.transform("EPSG:4326",mapCollection.getMapView("2D").getProjection().getCode(),p.getViewPointSync().groundPosition);I.every((R,L)=>Math.round(R)!==Math.round(r.lastCoordinates[L])&&(R-r.lastCoordinates[L]>50||R-r.lastCoordinates[L]<-50)?(l("setObliqueView",I),!1):!0)}),p.imageChanged.addEventListener(()=>n(this,null,function*(){const I=yield p.getViewPoint();I.heading!==r.heading&&l("MapMarker/rotatePointMarker",I.heading,{root:!0}),i("setHeading",I.heading)}))),v){v.style.display="none",v.parentElement.style.display="none";for(const I of D)I.style.top=0;i("setDefaultMapMarkerStyleId",e["MapMarker/pointStyleId"]),r.styleId&&i("MapMarker/setPointStyleId",r.styleId,{root:!0}),l("setObliqueView",e["Maps/center"]),s.disconnect()}E&&(E.style.display="none"),o&&(o.style.display="none")});s.observe(t.contentDocument,{childList:!0,subtree:!0})})},resetObliqueViewer({commit:i,dispatch:l,getters:r}){i("MapMarker/setPointStyleId",r.defaultMapMarkerStyleId,{root:!0}),l("MapMarker/removePointMarker",null,{root:!0})},setObliqueView(i){return n(this,arguments,function*({commit:l,dispatch:r,getters:e},t=[]){var s,v,E,o,_;const p=(v=(s=document.getElementById("obliqueIframe"))==null?void 0:s.contentWindow)==null?void 0:v.vcs,C=(o=(E=p?.vcm)==null?void 0:E.Framework)==null?void 0:o.getInstance(),D=C?.getActiveMap();let I={};C&&t&&Array.isArray(t)&&t.length>1?(l("setLastCoordinates",t),(_=p?.vcm)!=null&&_.util&&(I=new p.vcm.util.ViewPoint({groundPosition:w.default.transform(mapCollection.getMapView("2D").getProjection().getCode(),"EPSG:4326",t),heading:e.heading,distance:D.getViewPointSync().distance})),yield C?.getActiveMap().gotoViewPoint(I),r("MapMarker/placingPointMarker",t,{root:!0}),r("MapMarker/rotatePointMarker",e.heading,{root:!0})):r("Alerting/addSingleAlert","<strong>"+d.t("additional:modules.tools.vcOblique.frameworkUndefined")+"</strong><br><small>"+d.t("additional:modules.tools.vcOblique.frameworkUndefinedMessage")+"</small>",{root:!0})})},setObliqueViewerURL({commit:i,dispatch:l,getters:r,rootGetters:e},t){if(t&&Array.isArray(t)&&t.length>1){const s=w.default.transform(mapCollection.getMapView("2D").getProjection().getCode(),"EPSG:4326",t),v=s[0]+", "+s[1];document.location.hostname==="localhost"?i("setObliqueViewerURL",(0,h.default)(e.getRestServiceById(r.serviceId).url)+"?groundPosition="+v):l("setObliqueViewerURLWithSameHostname",v)}},setObliqueViewerURLWithSameHostname({commit:i,dispatch:l,getters:r,rootGetters:e},t){const s=e.getRestServiceById(r.serviceId).url,v=new URL(s),E=new URL(document.location.href);v.hostname===E.hostname?i("setObliqueViewerURL",s+"?groundPosition="+t):document.location.hostname.startsWith("www.")&&document.location.hostname.split("www.")[1]===v.hostname?l("setObliqueViewerURLWithReplacedHostname",{urlParts:v.pathname,startCoordinates:t}):l("Alerting/addSingleAlert",d.t("additional:modules.tools.vcOblique.sameOrigin"),{root:!0})},setObliqueViewerURLWithReplacedHostname({commit:i},{urlParts:l,startCoordinates:r}){let e="https:/";l.forEach((t,s)=>{s===0?e=e+"/"+document.location.hostname:e=e+"/"+t}),i("setObliqueViewerURL",e+"?groundPosition="+r)}}}).call(this,a(6))},3884:function(O,M,a){var d=Object.create,u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,m=(r,e,t)=>e in r?u(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e)=>{for(var t in e||(e={}))y.call(e,t)&&m(r,t,e[t]);if(j)for(var t of j(e))S.call(e,t)&&m(r,t,e[t]);return r},c=(r,e)=>{for(var t in e)u(r,t,{get:e[t],enumerable:!0})},n=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of V(e))!y.call(r,v)&&v!==t&&u(r,v,{get:()=>e[v],enumerable:!(s=b(e,v))||s.enumerable});return r},f=(r,e,t)=>(t=r!=null?d(x(r)):{},n(e||!r||!r.__esModule?u(t,"default",{value:r,enumerable:!0}):t,r)),w=r=>n(u({},"__esModule",{value:!0}),r),h={};c(h,{default:()=>l}),O.exports=w(h);var q=a(10),g=f(a(3703)),l=P({},(0,q.generateSimpleGetters)(g.default))},4092:function(O,M,a){var d=Object.create,u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,m=(e,t,s)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,P=(e,t)=>{for(var s in t||(t={}))y.call(t,s)&&m(e,s,t[s]);if(j)for(var s of j(t))S.call(t,s)&&m(e,s,t[s]);return e},c=(e,t)=>{for(var s in t)u(e,s,{get:t[s],enumerable:!0})},n=(e,t,s,v)=>{if(t&&typeof t=="object"||typeof t=="function")for(let E of V(t))!y.call(e,E)&&E!==s&&u(e,E,{get:()=>t[E],enumerable:!(v=b(t,E))||v.enumerable});return e},f=(e,t,s)=>(s=e!=null?d(x(e)):{},n(t||!e||!e.__esModule?u(s,"default",{value:e,enumerable:!0}):s,e)),w=e=>n(u({},"__esModule",{value:!0}),e),h={};c(h,{default:()=>r}),O.exports=w(h);var q=f(a(3883)),g=f(a(3853)),i=f(a(3884)),l=f(a(3703)),r={namespaced:!0,state:P({},l.default),mutations:g.default,actions:q.default,getters:i.default}},4093:function(O){O.exports=JSON.parse('{"menu":{"tools":{"vcOblique":"Schr\xE4gluftbilder"}},"modules":{"tools":{"vcOblique":{"title":"Schr\xE4gluftbilder","frameworkUndefined":"Schr\xE4gluftbilder","frameworkUndefinedMessage":"Es ist ein Fehler bei der Anzeige der Schr\xE4gluftbilder aufgetreten. Starten Sie die Anwendung bitte erneut. Sollte der Fehler weiterhin auftreten melden Sie ihn bitte \xFCber Kontakt.","sameOrigin":"Die eingebundene Website kann nicht angezeigt werden. Bitte stellen Sie sicher, dass sich die eingebundene Website auf dem selben Server wie das aufgerufene Portal befindet."}}}}')},4094:function(O){O.exports=JSON.parse('{"menu":{"tools":{"vcOblique":"Oblique aerial view"}},"modules":{"tools":{"vcOblique":{"title":"Oblique aerial view","frameworkUndefined":"Oblique aerial view","frameworkUndefinedMessage":"An error has occurred while displaying the oblique aerial images. Please restart the application. If the error still occurs, please report it via Contact.","sameOrigin":"The included website cannot be displayed. Please make sure that the included website is on the same server as the accessed portal."}}}}')},4603:function(O,M,a){"use strict";a.r(M);var d=a(4604),u=a.n(d);for(var b in d)["default"].indexOf(b)<0&&function(V){a.d(M,V,function(){return d[V]})}(b);M.default=u.a},4604:function(O,M,a){var d=Object.create,u=Object.defineProperty,b=Object.defineProperties,V=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,S=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,c=(o,_,p)=>_ in o?u(o,_,{enumerable:!0,configurable:!0,writable:!0,value:p}):o[_]=p,n=(o,_)=>{for(var p in _||(_={}))m.call(_,p)&&c(o,p,_[p]);if(y)for(var p of y(_))P.call(_,p)&&c(o,p,_[p]);return o},f=(o,_)=>b(o,j(_)),w=(o,_)=>{for(var p in _)u(o,p,{get:_[p],enumerable:!0})},h=(o,_,p,C)=>{if(_&&typeof _=="object"||typeof _=="function")for(let D of x(_))!m.call(o,D)&&D!==p&&u(o,D,{get:()=>_[D],enumerable:!(C=V(_,D))||C.enumerable});return o},q=(o,_,p)=>(p=o!=null?d(S(o)):{},h(_||!o||!o.__esModule?u(p,"default",{value:o,enumerable:!0}):p,o)),g=o=>h(u({},"__esModule",{value:!0}),o),i={};w(i,{default:()=>E}),O.exports=g(i);var l=q(a(316)),r=a(8),e=a(41),t=q(a(59)),s=q(a(3853)),v=q(a(5789));l.default.directive("resize",{bind:function(o,{value:_={}}){o.addEventListener("load",()=>(0,v.default)(_,o))},unbind:function(o){var _;(_=o?.iFrameResizer)==null||_.removeListeners()}});var E={name:"VcOblique",components:{ToolTemplate:t.default},computed:n(n(n({},(0,r.mapGetters)("Tools/VcOblique",["active","deactivateGFI","defaultMapMarkerStyleId","icon","initialWidth","name","obliqueViewerURL","renderToWindow","resizableWindow","dataYear"])),(0,r.mapGetters)("Maps",["clickCoordinate","initialCenter"])),(0,r.mapGetters)({isMobile:"mobile"})),watch:{active(o){o?this.$nextTick(()=>{this.setObliqueViewerURL(this.initialCenter),this.initObliqueView()}):this.resetObliqueViewer()},clickCoordinate(o){this.active===!0&&this.setObliqueView(o)},isMobile(o){this.setRenderToWindow(o)}},created(){this.$on("close",this.close)},methods:f(n(n({},(0,r.mapMutations)("Tools/VcOblique",Object.keys(s.default))),(0,r.mapActions)("Tools/VcOblique",["initObliqueView","resetObliqueViewer","setObliqueView","setObliqueViewerURL"])),{close(){const o=(0,e.getComponent)("vcOblique");this.setActive(!1),o&&o.set("isActive",!1)},translate(o,_=null){return o==="additional:"+this.$t(o)&&console.warn("the key "+JSON.stringify(o)+" is unknown to the additional translation"),this.$t(o,_)}})}},5029:function(O,M,a){var d=Object.defineProperty,u=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,V=Object.prototype.hasOwnProperty,j=(c,n)=>{for(var f in n)d(c,f,{get:n[f],enumerable:!0})},x=(c,n,f,w)=>{if(n&&typeof n=="object"||typeof n=="function")for(let h of b(n))!V.call(c,h)&&h!==f&&d(c,h,{get:()=>n[h],enumerable:!(w=u(n,h))||w.enumerable});return c},y=c=>x(d({},"__esModule",{value:!0}),c),S={};j(S,{render:()=>m,staticRenderFns:()=>P}),O.exports=y(S);var m=function(){var n=this,f=n._self._c;return f("ToolTemplate",{attrs:{title:`${n.translate(n.name)} ${n.dataYear}`,icon:n.icon,active:n.active,"render-to-window":n.renderToWindow,"resizable-window":n.resizableWindow,"deactivate-gfi":n.deactivateGFI,"initial-width":n.initialWidth},scopedSlots:n._u([{key:"toolBody",fn:function(){return[n.active?f("div",{attrs:{id:"obliqueViewer"}},[f("iframe",{directives:[{name:"resize",rawName:"v-resize",value:{},expression:"{}"}],ref:"iframeContent",attrs:{id:"obliqueIframe",title:"ObliqueIframe",width:"100%",height:"100%",frameboarder:"0",src:n.obliqueViewerURL}})]):n._e()]},proxy:!0}])})},P=[];m._withStripped=!0},5030:function(O,M,a){},5787:function(O,M,a){"use strict";a.r(M);var d=a(5788),u=a(4603);for(var b in u)["default"].indexOf(b)<0&&function(y){a.d(M,y,function(){return u[y]})}(b);var V=a(5790),j=a(1),x=Object(j.a)(u.default,d.render,d.staticRenderFns,!1,null,"62b3f54b",null);M.default=x.exports},5788:function(O,M,a){"use strict";var d=a(5029),u=a.n(d);a.o(d,"render")&&a.d(M,"render",function(){return d.render}),a.o(d,"staticRenderFns")&&a.d(M,"staticRenderFns",function(){return d.staticRenderFns})},5790:function(O,M,a){"use strict";var d=a(5030),u=a.n(d)}}]);
