(window.webpackJsonp=window.webpackJsonp||[]).push([[520],{4069:function(O,D,u){(function(C){var F=Object.create,a=Object.defineProperty,A=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,_=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,V=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},g=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of P(t))!M.call(e,l)&&l!==r&&a(e,l,{get:()=>t[l],enumerable:!(o=A(t,l))||o.enumerable});return e},d=(e,t,r)=>(r=e!=null?F(_(e)):{},g(t||!e||!e.__esModule?a(r,"default",{value:e,enumerable:!0}):r,e)),j=e=>g(a({},"__esModule",{value:!0}),e),h={};V(h,{default:()=>E}),O.exports=j(h);var f=u(40),v=u(285),p=d(u(18)),c=d(u(284));function x(e,t,r){return!Array.isArray(e)||typeof t!="string"||typeof r>"u"?[]:e.filter(o=>o.get(t).split(r).length-1===1)}function N(e,t,r,o,l){if(!Array.isArray(e)||!Array.isArray(r))return;const i=m(t,r,o);Object.keys(t).forEach(s=>{const y=w(i,t[s][o]),n=e.find(J=>J.get(l)===s);b(n,r[y])})}function b(e,t=[255,255,255,.9]){typeof e?.setStyle=="function"&&e.setStyle(()=>new f.Style({fill:new f.Fill({color:t}),stroke:new f.Stroke({color:[166,166,166,1],width:1})}))}function m(e,t,r){const o=W(e,r),l=Math.min(...o),i=Math.max(...o);return S(l,i,t.length)}function S(e,t,r=5){if(typeof e!="number"||typeof t!="number"||typeof r!="number"||r<=1)return[0];if(e===t)return[e];const o=[e],l=(t-e)/(r-1);for(let i=0;i<r-1;i++)o.push(Number((o[i]+l).toFixed(2)));return o}function W(e,t){return Object.keys(e).filter(r=>typeof e[r][t]=="number").map(r=>e[r][t])}function w(e,t){if(!Array.isArray(e)||typeof t!="number")return-1;const r=e.map(i=>Math.abs(t-i)),o=Math.min(...r);return r.findIndex(i=>i===o)}function k(e,t){var r;if(!(0,p.default)(e)||!(0,p.default)(t))return e;const o=(0,v.convertColor)(t.polygonFillColor,"rgbString"),l=(0,v.convertColor)(t.polygonStrokeColor,"rgbString"),i=t.polygonStrokeWidth,s=((r=t.polygonFillColor)==null?void 0:r[3])||0,y=t.polygonStrokeColor[3]||0;let n="data:image/svg+xml;charset=utf-8,";return n+="<svg height='35' width='35' version='1.1' xmlns='http://www.w3.org/2000/svg'>",n+="<polygon points='5,5 30,5 30,30 5,30' style='fill:",n+=o,n+=";fill-opacity:",n+=s,n+=";stroke:",n+=l,n+=";stroke-opacity:",n+=y,n+=";stroke-width:",n+=i,n+=";stroke-linecap:",n+="round",n+=";stroke-dasharray:",n+=";'/>",n+="</svg>",e.graphic=n,e}function B(e){if(!(0,p.default)(e)||!e?.color||!e?.value)return[];if(!Array.isArray(e.color)||!Array.isArray(e.value))return[];if(e.color.length<e.value.length)return[];const t=[];return e.value.forEach((r,o)=>{if(!isNaN(r)&&isFinite(r)){let l,i;o===e.value.length-1?(l={name:(0,c.default)(Math.round(r))},i={polygonFillColor:e.color[o],polygonStrokeColor:e.color[o],polygonStrokeWidth:3}):(l={name:C.t("additional:modules.tools.statisticDashboard.legend.between",{minimum:(0,c.default)(Math.round(r)),maximum:(0,c.default)(Math.round(e.value[o+1]))})},i={polygonFillColor:e.color[o],polygonStrokeColor:e.color[o],polygonStrokeWidth:3}),t[o]=k(l,i)}}),t}var E={filterFeaturesByKeyValue:x,styleFeaturesByStatistic:N,styleFeature:b,calcStepValues:S,getStepValue:m,getLegendValue:B,closestIndex:w,prepareLegendForPolygon:k}}).call(this,u(6))}}]);
