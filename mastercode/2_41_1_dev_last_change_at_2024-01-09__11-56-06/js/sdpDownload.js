(window.webpackJsonp=window.webpackJsonp||[]).push([[91,92,207,208,496,497,498,499],{199:function(y,v,t){var n=Object.create,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,g=(_,r,o)=>r in _?l(_,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):_[r]=o,D=(_,r)=>{for(var o in r||(r={}))E.call(r,o)&&g(_,o,r[o]);if(T)for(var o of T(r))x.call(r,o)&&g(_,o,r[o]);return _},c=(_,r)=>{for(var o in r)l(_,o,{get:r[o],enumerable:!0})},e=(_,r,o,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of w(r))!E.call(_,u)&&u!==o&&l(_,u,{get:()=>r[u],enumerable:!(a=p(r,u))||a.enumerable});return _},s=(_,r,o)=>(o=_!=null?n(M(_)):{},e(r||!_||!_.__esModule?l(o,"default",{value:_,enumerable:!0}):o,_)),f=_=>e(l({},"__esModule",{value:!0}),_),h={};c(h,{default:()=>b}),y.exports=f(h);var A=s(t(3840)),S=s(t(3841)),R=s(t(3842)),N=s(t(3697)),b={namespaced:!0,state:D({},N.default),mutations:S.default,getters:A.default,actions:R.default}},254:function(y,v,t){var n=Object.create,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,T=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,E=(S,R)=>{for(var N in R)l(S,N,{get:R[N],enumerable:!0})},x=(S,R,N,b)=>{if(R&&typeof R=="object"||typeof R=="function")for(let _ of w(R))!M.call(S,_)&&_!==N&&l(S,_,{get:()=>R[_],enumerable:!(b=p(R,_))||b.enumerable});return S},g=(S,R,N)=>(N=S!=null?n(T(S)):{},x(R||!S||!S.__esModule?l(N,"default",{value:S,enumerable:!0}):N,S)),D=S=>x(l({},"__esModule",{value:!0}),S),c={};E(c,{default:()=>A}),y.exports=D(c);var e=g(t(5694)),s=g(t(199)),f=g(t(4058)),h=g(t(4059)),A={component:e.default,store:s.default,locales:{de:f.default,en:h.default}}},3697:function(y,v){var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,p=Object.prototype.hasOwnProperty,w=(D,c)=>{for(var e in c)t(D,e,{get:c[e],enumerable:!0})},T=(D,c,e,s)=>{if(c&&typeof c=="object"||typeof c=="function")for(let f of l(c))!p.call(D,f)&&f!==e&&t(D,f,{get:()=>c[f],enumerable:!(s=n(c,f))||s.enumerable});return D},M=D=>T(t({},"__esModule",{value:!0}),D),E={};w(E,{default:()=>g}),y.exports=M(E);var g={active:!1,id:"SdpAddon",name:"SDP Download",icon:"bi-download",isVisibleInMenu:!0,deactivateGFI:!0,renderToSidebar:!0,renderToWindow:!1,resizableWindow:!0,initialWidth:500,wmsRasterLayerId:"4707",formats:[{id:"NAS",label:"additional:modules.tools.sdpdownload.nasLabel",isSelected:!0,desc:"additional:modules.tools.sdpdownload.nasDescription",fileId:"nas"},{id:"DWG_310",label:"additional:modules.tools.sdpdownload.dwg310Label",isSelected:!1,desc:"additional:modules.tools.sdpdownload.dwg310Description",fileId:"dwg310"},{id:"DWG_320",label:"additional:modules.tools.sdpdownload.dwg320Label",isSelected:!1,desc:"additional:modules.tools.sdpdownload.dwg320Description",fileId:"dwg320"},{id:"JPG",label:"additional:modules.tools.sdpdownload.jpgLabel",isSelected:!1,desc:"additional:modules.tools.sdpdownload.jpgDescription",fileId:"jpg"}],selectedFormat:"NAS",compressDataId:"compressData_nodejs",wfsRasterParams:{url:"https://geodienste.hamburg.de/HH_WFS_Uebersicht_Kachelbezeichnungen",request:"GetFeature",service:"WFS",version:"1.1.0",typename:"app:lgv_kachel_dk5_1km_utm"},wfsRaster:{},graphicalSelectModel:{},graphicalSelectStatus:!0,selectedRasterLimit:9,rasterNames:[],selectFormat:"additional:modules.tools.sdpdownload.selectFormat",howToChooseTiles:"additional:modules.tools.sdpdownload.howToChooseTiles",downloadDataPackage:"additional:modules.tools.sdpdownload.downloadDataPackage",specialDownloads:"additional:modules.tools.sdpdownload.specialDownloads",neuwerkDataPackage:"additional:modules.tools.sdpdownload.neuwerkDataPackage",scharhoernDataPackage:"additional:modules.tools.sdpdownload.scharhoernDataPackage",tileOverview310:"additional:modules.tools.sdpdownload.tileOverview310",tileOverview320:"additional:modules.tools.sdpdownload.tileOverview320",pleaseSelectTiles:"additional:modules.tools.sdpdownload.pleaseSelectTiles",failedToDownload:"additional:modules.tools.sdpdownload.failedToDownload",details:"additional:modules.tools.sdpdownload.details",serviceNotResponding:"additional:modules.tools.sdpdownload.serviceNotResponding",error:"additional:modules.tools.sdpdownload.alerts.error",info:"additional:modules.tools.sdpdownload.alerts.info",tooManyTilesSelected:"additional:modules.tools.sdpdownload.tooManyTilesSelected"}},3840:function(y,v,t){var n=Object.create,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,g=(b,_,r)=>_ in b?l(b,_,{enumerable:!0,configurable:!0,writable:!0,value:r}):b[_]=r,D=(b,_)=>{for(var r in _||(_={}))E.call(_,r)&&g(b,r,_[r]);if(T)for(var r of T(_))x.call(_,r)&&g(b,r,_[r]);return b},c=(b,_)=>{for(var r in _)l(b,r,{get:_[r],enumerable:!0})},e=(b,_,r,o)=>{if(_&&typeof _=="object"||typeof _=="function")for(let a of w(_))!E.call(b,a)&&a!==r&&l(b,a,{get:()=>_[a],enumerable:!(o=p(_,a))||o.enumerable});return b},s=(b,_,r)=>(r=b!=null?n(M(b)):{},e(_||!b||!b.__esModule?l(r,"default",{value:b,enumerable:!0}):r,b)),f=b=>e(l({},"__esModule",{value:!0}),b),h={};c(h,{default:()=>N}),y.exports=f(h);var A=t(10),S=s(t(3697)),N=D({},(0,A.generateSimpleGetters)(S.default))},3841:function(y,v,t){var n=Object.create,l=Object.defineProperty,p=Object.defineProperties,w=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,c=(o,a,u)=>a in o?l(o,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[a]=u,e=(o,a)=>{for(var u in a||(a={}))g.call(a,u)&&c(o,u,a[u]);if(E)for(var u of E(a))D.call(a,u)&&c(o,u,a[u]);return o},s=(o,a)=>p(o,T(a)),f=(o,a)=>{for(var u in a)l(o,u,{get:a[u],enumerable:!0})},h=(o,a,u,C)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of M(a))!g.call(o,i)&&i!==u&&l(o,i,{get:()=>a[i],enumerable:!(C=w(a,i))||C.enumerable});return o},A=(o,a,u)=>(u=o!=null?n(x(o)):{},h(a||!o||!o.__esModule?l(u,"default",{value:o,enumerable:!0}):u,o)),S=o=>h(l({},"__esModule",{value:!0}),o),R={};f(R,{default:()=>r}),y.exports=S(R);var N=t(10),b=A(t(3697)),r=s(e({},(0,N.generateSimpleMutations)(b.default)),{applyTranslationKey:(o,a)=>{a&&a.indexOf("translate#")>-1&&(o.name=a.substr(10))},setSelectedAreaGeoJson:(o,a)=>{a&&(o.graphicalSelectModel.attributes.selectedAreaGeoJson=a)}})},3842:function(y,v,t){(function(n,l){var p=Object.create,w=Object.defineProperty,T=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,E=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,g=(r,o)=>{for(var a in o)w(r,a,{get:o[a],enumerable:!0})},D=(r,o,a,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let C of M(o))!x.call(r,C)&&C!==a&&w(r,C,{get:()=>o[C],enumerable:!(u=T(o,C))||u.enumerable});return r},c=(r,o,a)=>(a=r!=null?p(E(r)):{},D(o||!r||!r.__esModule?w(a,"default",{value:r,enumerable:!0}):a,r)),e=r=>D(w({},"__esModule",{value:!0}),r),s=(r,o,a)=>new Promise((u,C)=>{var i=L=>{try{j(a.next(L))}catch(d){C(d)}},P=L=>{try{j(a.throw(L))}catch(d){C(d)}},j=L=>L.done?u(L.value):Promise.resolve(L.value).then(i,P);j((a=a.apply(r,o)).next())}),f={};g(f,{default:()=>_}),y.exports=e(f);var h=c(t(90)),A=t(58),S=c(t(4568)),R=t(4269),N=c(t(25)),_={addModelsByAttributesToModelList:function(r,o){n.request("ModelList","getModelsByAttributes",{id:o}).length===0&&n.trigger("ModelList","addModelsByAttributes",{id:o})},setModelAttributesByIdToModelList:function(r,o){n.trigger("ModelList","setModelAttributesById",o.layerId,{isSelected:o.isActive,isVisibleInMap:o.isActive})},toggleRasterLayer:function({getters:r,dispatch:o}){const a=r.wmsRasterLayerId,u=r.active;o("addModelsByAttributesToModelList",a),o("setModelAttributesByIdToModelList",{layerId:a,isActive:u})},loadWfsRaster:function({getters:r,dispatch:o}){const a=r.wfsRasterParams,u={Service:a.service,Version:a.version,Request:a.request,TypeName:a.typename};let C={};N.default.get(a.url,{params:u,headers:{"Content-Type":"text/xml"},responseType:"document"}).then(i=>{o("readFeatures",i.data)}).catch(i=>{C={category:l.t(r.error),content:l.t(r.downloadError),displayClass:"error"},o("Alerting/addSingleAlert",C,{root:!0}),console.error(i.response)})},readFeatures:function({commit:r},o){const a=new A.WFS,u=a.readFeatures(o);r("setWfsRaster",u)},calculateSelectedRasterNames:function(r){return s(this,arguments,function*({getters:o,dispatch:a,commit:u,rootState:C}){const i=o.wfsRaster,P=C.GraphicalSelect.selectedAreaGeoJson,j=[];if(P&&P.coordinates){const L=(0,R.polygon)([P.coordinates[0]]);i.forEach(d=>s(this,null,function*(){const O=yield a("GraphicalSelect/featureToGeoJson",d,{root:!0}),m=(0,R.polygon)([O.coordinates[0]]);(0,S.default)(L,m)&&(yield a("addFeaturenameToRasternames",{feature:d,rasterNames:j}))}))}u("setRasterNames",j)})},addFeaturenameToRasternames:function(r,o){if(o.feature&&o.rasterNames){const a=o.feature.getProperties().kachel;o.rasterNames.find(C=>C===a)===void 0&&o.rasterNames.push(a)}},requestCompressedData:function(r){return s(this,arguments,function*({getters:o,dispatch:a}){const u={};a("calculateSelectedRasterNames").then(()=>a("checkRasterNamesAmount").then(C=>{if(C===!0){const i=[];o.rasterNames.forEach(j=>{const L=j.substring(0,2)+"0"+j.substring(2,4)+"0";i.push(L)}),u.query="kacheln="+i.join("\xA7")+"&type="+o.selectedFormat,u.downloadName="zip_"+o.selectedFormat+"_"+i.sort()[0]+".zip",a("doRequest",u)}}))})},checkRasterNamesAmount:function({getters:r,dispatch:o}){const a=r.rasterNames;let u={},C={};return a.length>r.selectedRasterLimit?(u={category:l.t(r.info),content:l.t(r.tooManyTilesSelected,{tilesCount:a.length,maxTiles:r.selectedRasterLimit}),displayClass:"info"},o("Alerting/addSingleAlert",u,{root:!0}),h.default.hide(),!1):a.length===0?(C={category:l.t(r.info),content:"<strong>"+r.pleaseSelectTiles+"</strong>",displayClass:"info"},o("Alerting/addSingleAlert",C,{root:!0}),!1):!0},requestCompressIslandData:function({getters:r,dispatch:o},a){const u={downloadName:"zip_"+r.selectedFormat+"_"+a+".zip",query:"insel="+a+"&type="+r.selectedFormat};o("doRequest",u)},requestCompressRasterOverviewData:function({dispatch:r},o){const a={downloadName:"U__Kachel_Uebersichten_UTM_Kachel_1KM_"+o+".dwg",query:"system=utm&type="+o};r("doRequest",a)},doRequest:function({getters:r,dispatch:o,commit:a},u){const C=n.request("RestReader","getServiceById",r.compressDataId).get("url"),i=N.default.create();let P={},j={};i.interceptors.request.use(function(L){return h.default.show(15e3),L}),i.interceptors.response.use(function(L){return h.default.hide(),L}),i.post(C,u.query,{timeout:15e3,responseType:"blob"}).then(L=>{if(a("setGraphicalSelectStatus",!0),L.status!==200)P={category:l.t(r.error),content:"<strong>"+l.t(r.failedToDownload)+"</strong> <br> <small>"+l.t(r.details)+" "+L.data+"</small>",displayClass:"error"},o("Alerting/addSingleAlert",P,{root:!0});else{const d=new Blob([L.data]),O=window.URL.createObjectURL(d),m=document.createElement("a");window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(d,u.downloadName):(m.href=O,m.setAttribute("download",u.downloadName),document.body.appendChild(m),m.click(),m.remove())}}).catch(()=>{j={category:l.t(r.error),content:"<strong>"+l.t(r.failedToDownload)+"</strong> <br> <small>"+l.t(r.details)+" "+l.t(r.serviceNotResponding)+"</small>",displayClass:"error"},a("setGraphicalSelectStatus",!1),o("Alerting/addSingleAlert",j,{root:!0})})}}}).call(this,t(3),t(6))},4058:function(y){y.exports=JSON.parse('{"modules":{"tools":{"sdpdownload":{"name":"SDP Download","selectFormat":"W\xE4hlen Sie das Format aus:","howToChooseTiles":"Wie m\xF6chten Sie die Kacheln ausw\xE4hlen?","downloadDataPackage":"Datenpaket herunterladen","specialDownloads":"Spezielle Downloads","neuwerkDataPackage":"Datenpaket von Neuwerk - Format bitte oben ausw\xE4hlen","scharhoernDataPackage":"Datenpaket von Scharh\xF6rn - Format bitte oben ausw\xE4hlen","tileOverview310":"UTM-Kachel \xDCbersichten LS310","tileOverview320":"UTM-Kachel \xDCbersichten LS320","nasLabel":"NAS","nasDescription":"Daten im NAS-Format herunterladen","dwg310Label":"DWG, Lagestatus 310 (kurz)","dwg310Description":"Daten im DWG-Format herunterladen, Lagestatus: ETRS89, UTM-Projektion","dwg320Label":"DWG, Lagestatus 320","dwg320Description":"Daten im DWG-Format herunterladen, Lagestatus: ETRS89, Gau\xDF-Kr\xFCger-Projektion","jpgLabel":"JPG + JGW, Lagestatus 310 (kurz)","jpgDescription":"Daten im JPG-Format herunterladen, inkl. JGW-Dateien im Lagestatus: ETRS89, UTM-Projektion","pleaseSelectTiles":"Bitte w\xE4hlen Sie Kacheln aus!","tooManyTilesSelected":"Die von Ihnen getroffene Auswahl beinhaltet {{tilesCount}} Kacheln. Sie d\xFCrfen maximal {{maxTiles}} Kacheln aufeinmal herunterladen. Bitte reduzieren Sie Ihre Auswahl!","failedToDownload":"Die Daten konnten leider nicht heruntergeladen werden!","details":"Details:","serviceNotResponding":"Ein ben\xF6tigter Dienst antwortet nicht.","alerts":{"info":"Info","error":"Fehler","downloadError":"Der Layer: wfsRaster konnte nicht geladen werden, da der Dienst nicht antwortet. Bitte versuchen Sie es zu einem sp\xE4teren Zeitpunkt erneut. Falls das Problem weiterhin besteht wenden Sie sich bitte an den Betreiber des Dienstes: wfsRaster"}}}}}')},4059:function(y){y.exports=JSON.parse('{"modules":{"tools":{"sdpdownload":{"name":"SDP Download","selectFormat":"Select the format:","howToChooseTiles":"How would you like to choose the tiles?","downloadDataPackage":"Download data package","specialDownloads":"Special downloads","neuwerkDataPackage":"Neuwerk data package - please select the format above","scharhoernDataPackage":"Scharh\xF6rn data package - please select the format above","tileOverview310":"UTM tile overviews LS310","tileOverview320":"UTM tile overviews LS320","nasLabel":"NAS","nasDescription":"Download data in NAS format","dwg310Label":"DWG, location status 310 (short)","dwg310Description":"Download data in DWG format, location status: ETRS89, UTM projection","dwg320Label":"DWG, location status 320","dwg320Description":"Download data in DWG format, location status: ETRS89, Gau\xDF-Kr\xFCger projection","jpgLabel":"JPG + JGW, situation status 310 (short)","jpgDescription":"Download data in JPG format, including JGW files in the lcoation status: ETRS89, UTM projection","pleaseSelectTiles":"Please select tiles!","tooManyTilesSelected":"The selection you made contains {{tilesCount}} tiles. You can download a maximum of  {{maxTiles}} tiles at a time. Please reduce your selection!","failedToDownload":"Unfortunately the data could not be downloaded!","details":"Details:","serviceNotResponding":"A required service is not responding.","alerts":{"info":"Info","error":"Error","downloadError":"The layer: wfsRaster could not be loaded because the service is not responding. Please try again later. If the problem persists, please contact the operator of the service: wfsRaster"}}}}}')},4190:function(y,v,t){"use strict";t.r(v);var n=t(4191),l=t.n(n);for(var p in n)["default"].indexOf(p)<0&&function(w){t.d(v,w,function(){return n[w]})}(p);v.default=l.a},4191:function(y,v){var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,p=Object.prototype.hasOwnProperty,w=(g,D)=>{for(var c in D)t(g,c,{get:D[c],enumerable:!0})},T=(g,D,c,e)=>{if(D&&typeof D=="object"||typeof D=="function")for(let s of l(D))!p.call(g,s)&&s!==c&&t(g,s,{get:()=>D[s],enumerable:!(e=n(D,s))||e.enumerable});return g},M=g=>T(t({},"__esModule",{value:!0}),g),E={};w(E,{default:()=>x}),y.exports=M(E);var x={name:"DropdownSimple",props:{value:{type:null,required:!0},options:{type:Object,required:!0},focusOnCreation:{type:Boolean,default:!1,required:!1},label:{type:String,required:!0}},data(){return{selectedOption:null}},watch:{value:function(g){this.selectedOption=g}},mounted(){this.selectedOption=this.value},created(){this.focusOnCreation&&this.$nextTick(()=>{this.$refs["select-option"]&&this.$refs["select-option"].focus()})},methods:{changedValue(g){this.$emit("input",g.target.value)}}}},4214:function(y,v,t){var n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,T=(c,e)=>{for(var s in e)n(c,s,{get:e[s],enumerable:!0})},M=(c,e,s,f)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of p(e))!w.call(c,h)&&h!==s&&n(c,h,{get:()=>e[h],enumerable:!(f=l(e,h))||f.enumerable});return c},E=c=>M(n({},"__esModule",{value:!0}),c),x={};T(x,{render:()=>g,staticRenderFns:()=>D}),y.exports=E(x);var g=function(){var e=this,s=e._self._c;return s("div",{staticClass:"form-group form-group-sm row"},[s("label",{staticClass:"dropdown col-sm-5 col-form-label",attrs:{for:"select"}},[e._v(`
        `+e._s(e.$t(e.label))+`
    `)]),e._v(" "),s("div",{staticClass:"col-sm-7"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],ref:"select-option",staticClass:"form-select dropdown",on:{input:e.changedValue,change:function(f){var h=Array.prototype.filter.call(f.target.options,function(A){return A.selected}).map(function(A){var S="_value"in A?A._value:A.value;return S});e.selectedOption=f.target.multiple?h:h[0]}}},e._l(e.options,function(f,h){return s("option",{key:h,domProps:{value:h}},[e._v(`
                `+e._s(f)+`
            `)])}),0)])])},D=[];g._withStripped=!0},4232:function(y,v,t){"use strict";t.r(v);var n=t(4233),l=t.n(n);for(var p in n)["default"].indexOf(p)<0&&function(w){t.d(v,w,function(){return n[w]})}(p);v.default=l.a},4233:function(y,v,t){(function(n){var l=Object.create,p=Object.defineProperty,w=Object.defineProperties,T=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,g=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,e=(d,O,m)=>O in d?p(d,O,{enumerable:!0,configurable:!0,writable:!0,value:m}):d[O]=m,s=(d,O)=>{for(var m in O||(O={}))D.call(O,m)&&e(d,m,O[m]);if(x)for(var m of x(O))c.call(O,m)&&e(d,m,O[m]);return d},f=(d,O)=>w(d,M(O)),h=(d,O)=>{for(var m in O)p(d,m,{get:O[m],enumerable:!0})},A=(d,O,m,I)=>{if(O&&typeof O=="object"||typeof O=="function")for(let G of E(O))!D.call(d,G)&&G!==m&&p(d,G,{get:()=>O[G],enumerable:!(I=T(O,G))||I.enumerable});return d},S=(d,O,m)=>(m=d!=null?l(g(d)):{},A(O||!d||!d.__esModule?p(m,"default",{value:d,enumerable:!0}):m,d)),R=d=>A(p({},"__esModule",{value:!0}),d),N=(d,O,m)=>new Promise((I,G)=>{var U=B=>{try{F(m.next(B))}catch(W){G(W)}},$=B=>{try{F(m.throw(B))}catch(W){G(W)}},F=B=>B.done?I(B.value):Promise.resolve(B.value).then(U,$);F((m=m.apply(d,O)).next())}),b={};h(b,{default:()=>L}),y.exports=R(b);var _=S(t(4266)),r=t(8),o=S(t(2101)),a=S(t(2102)),u=S(t(2103)),C=S(t(455)),i=S(t(48)),P=S(t(47)),j=t(140),L={name:"GraphicalSelect",components:{Dropdown:_.default},props:{selectElement:{type:String,required:!1,default:"Dropdown"},selectedOption:{type:String,required:!1,default:"Box"},options:{type:Object,required:!1,default:void 0},focusOnCreation:{type:Boolean,default:!1,required:!1},label:{type:String,required:!0}},data(){return{selectedOptionData:this.selectedOption}},computed:f(s({},(0,r.mapGetters)("GraphicalSelect",Object.keys(o.default))),{optionsValue:function(){return this.options?this.options:{Box:this.$t("common:snippets.graphicalSelect.selectBySquare"),Circle:this.$t("common:snippets.graphicalSelect.selectByCircle"),Polygon:this.$t("common:snippets.graphicalSelect.selectByPolygon")}}}),watch:{selectedOptionData:function(){this.createDrawInteraction()}},created(){this.$parent.$parent.$on("close",()=>{this.setActive(!1),this.resetView()})},mounted(){this.selectedOptionData=this.selectedOption,this.createDomOverlay({id:"circle-overlay",overlay:this.circleOverlay}),this.createDomOverlay({id:"tooltip-overlay",overlay:this.tooltipOverlay}),this.createDrawInteraction(),this.addLayerOnTop(this.layer),this.checkOptions(),this.setDefaultSelection(this.selectedOptionData)},methods:f(s(s(s(s({},(0,r.mapMutations)("GraphicalSelect",Object.keys(a.default))),(0,r.mapActions)("GraphicalSelect",Object.keys(u.default))),(0,r.mapActions)("Maps",["addLayerOnTop","addInteraction","removeInteraction","registerListener"])),(0,r.mapActions)("Alerting",["addSingleAlert"])),{setStatus:function(d){d?this.createDrawInteraction():(typeof this.drawInteraction=="object"&&this.drawInteraction.setActive(!1),mapCollection.getMap("2D").removeOverlay(this.circleOverlay),mapCollection.getMap("2D").removeOverlay(this.tooltipOverlay))},resetGeographicSelection:function(){this.selectedOptionData=Object.keys(this.optionsValue)[0]},checkOptions:function(){this.geographicValues.every(d=>Object.keys(this.optionsValue).includes(d))||this.addSingleAlert({content:n.t("common:snippets.graphicalSelect.alert.notSupportedOption")+this.geographicValues}),this.geographicValues.includes(this.selectedOption)||this.addSingleAlert({content:n.t("common:snippets.graphicalSelect.alert.notSupportedSelection")+this.geographicValues}),this.selectionElements.includes(this.selectElement)||this.addSingleAlert({content:n.t("common:snippets.graphicalSelect.alert.notSupportedElement")+this.selectionElements})},resetView:function(){return N(this,null,function*(){this.layer.getSource().clear(),this.removeInteraction(this.draw),this.circleOverlay.element.innerHTML="",mapCollection.getMap("2D").removeOverlay(this.circleOverlay),mapCollection.getMap("2D").removeOverlay(this.tooltipOverlay)})},roundRadius:function(d){return d>500?Math.round(d/1e3*100)/100+" km":Math.round(d*10)/10+" m"},showOverlayOnSketch:function(d,O){const m=this.circleOverlay;m.element.innerHTML=this.roundRadius(d),m.setPosition(O)},precisionRound:function(d,O){const m=Math.pow(10,O);return Math.round(d*m)/m},snapRadiusToInterval:function(d,O){let m=Math.sqrt(Math.pow(d[1][0]-d[0][0],2)+Math.pow(d[1][1]-d[0][1],2));m=this.precisionRound(m,-1);const I=O||new j.Circle(d[0]);return I.setRadius(m),this.showOverlayOnSketch(m,d[1]),I},createDrawInteraction:function(){const d=(0,C.createBox)(),O=this.selectedOptionData;this.layer?this.resetView(this.layer):this.layer=new i.default({id:"geometry_selection_layer",name:"Geometry-Selection",source:new P.default,alwaysOnTop:!0}),this.draw=new C.default({source:this.layer.getSource(),type:O==="Box"?"Circle":O,geometryFunction:O==="Polygon"?void 0:(m,I)=>O==="Box"?d(m,I):this.snapRadiusToInterval(m,I)}),this.addInteraction(this.draw),this.setCurrentValue(O),this.toggleOverlay({type:O,overlayCircle:this.circleOverlay,overlayTool:this.tooltipOverlay}),this.setDrawInteractionListener({interaction:this.draw,layer:this.layer,vm:this}),this.setDrawInteraction(this.draw),this.registerListener({type:"pointermove",listener:this.showTooltipOverlay})}})}}).call(this,t(6))},4266:function(y,v,t){"use strict";t.r(v);var n=t(4267),l=t(4190);for(var p in l)["default"].indexOf(p)<0&&function(M){t.d(v,M,function(){return l[M]})}(p);var w=t(1),T=Object(w.a)(l.default,n.render,n.staticRenderFns,!1,null,null,null);v.default=T.exports},4267:function(y,v,t){"use strict";var n=t(4214),l=t.n(n);t.o(n,"render")&&t.d(v,"render",function(){return n.render}),t.o(n,"staticRenderFns")&&t.d(v,"staticRenderFns",function(){return n.staticRenderFns})},4268:function(y,v,t){var n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,T=(c,e)=>{for(var s in e)n(c,s,{get:e[s],enumerable:!0})},M=(c,e,s,f)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of p(e))!w.call(c,h)&&h!==s&&n(c,h,{get:()=>e[h],enumerable:!(f=l(e,h))||f.enumerable});return c},E=c=>M(n({},"__esModule",{value:!0}),c),x={};T(x,{render:()=>g,staticRenderFns:()=>D}),y.exports=E(x);var g=function(){var e=this,s=e._self._c;return s("form",[e.selectElement==="Dropdown"?s("Dropdown",{attrs:{options:e.optionsValue,"focus-on-creation":e.focusOnCreation,label:e.label},model:{value:e.selectedOptionData,callback:function(f){e.selectedOptionData=f},expression:"selectedOptionData"}}):e._e()],1)},D=[];g._withStripped=!0},4547:function(y,v,t){"use strict";t.r(v);var n=t(4548),l=t(4232);for(var p in l)["default"].indexOf(p)<0&&function(M){t.d(v,M,function(){return l[M]})}(p);var w=t(1),T=Object(w.a)(l.default,n.render,n.staticRenderFns,!1,null,"60ba3137",null);v.default=T.exports},4548:function(y,v,t){"use strict";var n=t(4268),l=t.n(n);t.o(n,"render")&&t.d(v,"render",function(){return n.render}),t.o(n,"staticRenderFns")&&t.d(v,"staticRenderFns",function(){return n.staticRenderFns})},4566:function(y,v,t){"use strict";t.r(v);var n=t(4567),l=t.n(n);for(var p in n)["default"].indexOf(p)<0&&function(w){t.d(v,w,function(){return n[w]})}(p);v.default=l.a},4567:function(y,v,t){(function(n){var l=Object.create,p=Object.defineProperty,w=Object.defineProperties,T=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,g=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,e=(i,P,j)=>P in i?p(i,P,{enumerable:!0,configurable:!0,writable:!0,value:j}):i[P]=j,s=(i,P)=>{for(var j in P||(P={}))D.call(P,j)&&e(i,j,P[j]);if(x)for(var j of x(P))c.call(P,j)&&e(i,j,P[j]);return i},f=(i,P)=>w(i,M(P)),h=(i,P)=>{for(var j in P)p(i,j,{get:P[j],enumerable:!0})},A=(i,P,j,L)=>{if(P&&typeof P=="object"||typeof P=="function")for(let d of E(P))!D.call(i,d)&&d!==j&&p(i,d,{get:()=>P[d],enumerable:!(L=T(P,d))||L.enumerable});return i},S=(i,P,j)=>(j=i!=null?l(g(i)):{},A(P||!i||!i.__esModule?p(j,"default",{value:i,enumerable:!0}):j,i)),R=i=>A(p({},"__esModule",{value:!0}),i),N={};h(N,{default:()=>C}),y.exports=R(N);var b=S(t(59)),_=t(8),r=S(t(3840)),o=S(t(3841)),a=S(t(3842)),u=S(t(4547)),C={name:"SdpDownload",components:{ToolTemplate:b.default,GraphicalSelect:u.default},data(){return{options_value:{Box:this.translate("common:snippets.graphicalSelect.selectBySquare"),Circle:this.translate("common:snippets.graphicalSelect.selectByCircle"),Polygon:this.translate("common:snippets.graphicalSelect.selectByPolygon")}}},computed:s({},(0,_.mapGetters)("Tools/SdpDownload",Object.keys(r.default))),watch:{active(i){i?(this.$nextTick(()=>{this.toggleRasterLayer(),this.loadWfsRaster(),this.$refs.graphicalSelection.setStatus(i),this.$refs.graphicalSelection.resetGeographicSelection()}),this.setFocusToFirstControl()):(this.toggleRasterLayer(),this.$refs.graphicalSelection.setStatus(i),this.$refs.graphicalSelection.resetView())},graphicalSelectStatus(i){this.$refs.graphicalSelection.setStatus(i),this.$refs.graphicalSelection.resetView(i)}},created(){this.$on("close",this.close)},mounted(){this.applyTranslationKey(this.name)},methods:f(s(s({},(0,_.mapMutations)("Tools/SdpDownload",Object.keys(o.default))),(0,_.mapActions)("Tools/SdpDownload",Object.keys(a.default))),{setFocusToFirstControl(){this.$nextTick(()=>{this.$refs.formatSelection&&this.$refs.formatSelection.focus()})},translate(i,P=null){return i==="additional:"+this.$t(i)&&console.warn("the key "+JSON.stringify(i)+" is unknown to the additional translation"),i==="common:"+this.$t(i)&&console.warn("the key "+JSON.stringify(i)+" is unknown to the common translation"),this.$t(i,P)},close(){this.setActive(!1),this.$refs.graphicalSelection.setStatus(!1),this.$refs.graphicalSelection.resetView();const i=n.request("ModelList","getModelByAttributes",{id:this.$store.state.Tools.SdpDownload.id});i&&i.set("isActive",!1)}})}}).call(this,t(3))},4973:function(y,v,t){var n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,T=(c,e)=>{for(var s in e)n(c,s,{get:e[s],enumerable:!0})},M=(c,e,s,f)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of p(e))!w.call(c,h)&&h!==s&&n(c,h,{get:()=>e[h],enumerable:!(f=l(e,h))||f.enumerable});return c},E=c=>M(n({},"__esModule",{value:!0}),c),x={};T(x,{render:()=>g,staticRenderFns:()=>D}),y.exports=E(x);var g=function(){var e=this,s=e._self._c;return s("ToolTemplate",{attrs:{title:e.$t(e.name),icon:e.icon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"initial-width":e.initialWidth,"deactivate-gfi":e.deactivateGFI},scopedSlots:e._u([{key:"toolBody",fn:function(){return[s("form",{staticClass:"form-horizontal",attrs:{id:"sdp-download"}},[s("div",{staticClass:"form-group form-group-sm"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-sm-5 col-form-label",attrs:{for:"formatSelection"}},[e._v(`
                        `+e._s(e.translate(e.selectFormat))+`
                    `)]),e._v(" "),s("div",{staticClass:"col-sm-7"},[s("select",{ref:"formatSelection",staticClass:"form-control formatselect",attrs:{id:"formatSelection",name:"formatSelection"},on:{change:function(f){return e.setSelectedFormat(f.target.value)}}},e._l(e.formats,function(f,h){return s("option",{key:h,attrs:{"data-bs-toggle":"tooltip",title:f.label},domProps:{value:f.id}},[e._v(`
                                `+e._s(e.translate(`additional:modules.tools.sdpdownload.${f.fileId}Label`))+`
                            `)])}),0)])])]),e._v(" "),s("div",{staticClass:"form-group col-12"},[s("div",{staticClass:"form-group form-group-sm"},[s("GraphicalSelect",{ref:"graphicalSelection",attrs:{label:e.howToChooseTiles}})],1)]),e._v(" "),s("div",{staticClass:"form-group col-12 limiter"},[s("button",{staticClass:"btn btn-primary btn-sm btn-block center-block w-100",attrs:{id:"button-selectedDownload",type:"button"},on:{click:e.requestCompressedData}},[e._v(`
                    `+e._s(e.translate(e.downloadDataPackage))+`
                `)])]),e._v(" "),s("div",{staticClass:"form-group col-12"},[s("span",[e._v(e._s(e.translate(e.specialDownloads)))])]),e._v(" "),s("div",{staticClass:"form-group col-12"},[s("button",{staticClass:"w-100 btn btn-sm btn-outline-default btn-block center-block",attrs:{id:"button-neuwerk",type:"button"},on:{click:function(f){return e.requestCompressIslandData("Neuwerk")}}},[e._v(`
                    `+e._s(e.translate(e.neuwerkDataPackage))+`
                `)])]),e._v(" "),s("div",{staticClass:"form-group col-12"},[s("button",{staticClass:"w-100 btn btn-sm btn-outline-default btn-block center-block",attrs:{id:"button-scharhoern",type:"button"},on:{click:function(f){return e.requestCompressIslandData("Scharhoern")}}},[e._v(`
                    `+e._s(e.$t(e.scharhoernDataPackage))+`
                `)])]),e._v(" "),s("div",{staticClass:"form-group col-12"},[s("button",{staticClass:"w-100 btn btn-sm btn-outline-default btn-block center-block",attrs:{id:"button-310",type:"button"},on:{click:function(f){return e.requestCompressRasterOverviewData("LS310")}}},[e._v(`
                    `+e._s(e.translate(e.tileOverview310))+`
                `)])]),e._v(" "),s("div",{staticClass:"form-group col-12"},[s("button",{staticClass:"w-100 btn btn-sm btn-outline-default btn-block center-block",attrs:{id:"button-320",type:"button"},on:{click:function(f){return e.requestCompressRasterOverviewData("LS320")}}},[e._v(`
                    `+e._s(e.translate(e.tileOverview320))+`
                `)])])])]},proxy:!0}])})},D=[];g._withStripped=!0},4974:function(y,v,t){},4975:function(y,v,t){y.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},5694:function(y,v,t){"use strict";t.r(v);var n=t(5695),l=t(4566);for(var p in l)["default"].indexOf(p)<0&&function(x){t.d(v,x,function(){return l[x]})}(p);var w=t(5698),T=t(5699),M=t(1),E=Object(M.a)(l.default,n.render,n.staticRenderFns,!1,null,"23c26838",null);v.default=E.exports},5695:function(y,v,t){"use strict";var n=t(4973),l=t.n(n);t.o(n,"render")&&t.d(v,"render",function(){return n.render}),t.o(n,"staticRenderFns")&&t.d(v,"staticRenderFns",function(){return n.staticRenderFns})},5698:function(y,v,t){"use strict";var n=t(4974),l=t.n(n)},5699:function(y,v,t){"use strict";var n=t(4975),l=t.n(n)}}]);
