(window.webpackJsonp=window.webpackJsonp||[]).push([[51,52,144,145,315,316,317,318,397,401,413,427,432],{196:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,N=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,p=(a,d,y)=>d in a?f(a,d,{enumerable:!0,configurable:!0,writable:!0,value:y}):a[d]=y,w=(a,d)=>{for(var y in d||(d={}))j.call(d,y)&&p(a,y,d[y]);if(A)for(var y of A(d))E.call(d,y)&&p(a,y,d[y]);return a},c=(a,d)=>{for(var y in d)f(a,y,{get:d[y],enumerable:!0})},e=(a,d,y,P)=>{if(d&&typeof d=="object"||typeof d=="function")for(let m of F(d))!j.call(a,m)&&m!==y&&f(a,m,{get:()=>d[m],enumerable:!(P=D(d,m))||P.enumerable});return a},r=(a,d,y)=>(y=a!=null?n(N(a)):{},e(d||!a||!a.__esModule?f(y,"default",{value:a,enumerable:!0}):y,a)),u=a=>e(f({},"__esModule",{value:!0}),a),v={};c(v,{default:()=>_}),b.exports=u(v);var g=r(i(3802)),x=r(i(3803)),o=r(i(3678)),_={namespaced:!0,state:w({},o.default),mutations:x.default,getters:g.default}},218:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty,j=(x,o)=>{for(var _ in o)f(x,_,{get:o[_],enumerable:!0})},E=(x,o,_,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of F(o))!N.call(x,d)&&d!==_&&f(x,d,{get:()=>o[d],enumerable:!(a=D(o,d))||a.enumerable});return x},p=(x,o,_)=>(_=x!=null?n(A(x)):{},E(o||!x||!x.__esModule?f(_,"default",{value:x,enumerable:!0}):_,x)),w=x=>E(f({},"__esModule",{value:!0}),x),c={};j(c,{default:()=>g}),b.exports=w(c);var e=p(i(5420)),r=p(i(196)),u=p(i(3963)),v=p(i(3964)),g={component:e.default,store:r.default,locales:{de:u.default,en:v.default}}},3649:function(b,O,i){(function(n){var f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.prototype.hasOwnProperty,N=(C,Q)=>{for(var U in Q)f(C,U,{get:Q[U],enumerable:!0})},j=(C,Q,U,J)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let G of F(Q))!A.call(C,G)&&G!==U&&f(C,G,{get:()=>Q[G],enumerable:!(J=D(Q,G))||J.enumerable});return C},E=C=>j(f({},"__esModule",{value:!0}),C),p={};N(p,{addByMouseHover:()=>$,addFolder:()=>P,addModelsByAttributes:()=>_,addVectorLayer:()=>m,closeAllExpandedFolder:()=>x,getCollection:()=>a,getItemByAttributes:()=>d,getItemsByAttributes:()=>y,getModelByAttributes:()=>v,getServiceUrl:()=>e,groupBy:()=>H,offSearchbar:()=>c,onFeaturesLoaded:()=>T,onResetFeatures:()=>R,onSearchbar:()=>w,onShowAllFeatures:()=>u,onShowFeaturesById:()=>r,removeItem:()=>S,removeModelsById:()=>o,renderTree:()=>g}),b.exports=E(p);function w(C){n.on("Searchbar","hit",C)}function c(){n.off("Searchbar","hit")}function e(C){return n.request("RestReader","getServiceById",C).get("url")}function r(C){n.on("ModelList","showFeaturesById",C)}function u(C){n.on("ModelList","showAllFeatures",C)}function v(C){return n.request("ModelList","getModelByAttributes",C)}function g(){n.trigger("ModelList","renderTree")}function x(){n.trigger("ModelList","closeAllExpandedFolder")}function o(C){n.trigger("ModelList","removeModelsById",C)}function _(C){n.trigger("ModelList","addModelsByAttributes",C)}function a(){return n.request("ModelList","getCollection")}function d(C){return n.request("Parser","getItemByAttributes",C)}function y(C){return n.request("Parser","getItemsByAttributes",C)}function P(C,Q,U,J){n.trigger("Parser","addFolder",C,Q,U,J)}function m(C,Q,U,J,G,K,X){n.trigger("Parser","addVectorLayer",C,Q,U,J,G,K,X)}function S(C){n.trigger("Parser","removeItem",C)}function T(C){n.on("VectorLayer","featuresLoaded",C)}function R(C){n.on("VectorLayer","resetFeatures",C)}function $(C){n.trigger("MouseHover","add",C)}function H(C,Q){return n.request("Util","groupBy",C,Q)}}).call(this,i(3))},3656:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(c,e)=>{for(var r in e)n(c,r,{get:e[r],enumerable:!0})},N=(c,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of D(e))!F.call(c,v)&&v!==r&&n(c,v,{get:()=>e[v],enumerable:!(u=f(e,v))||u.enumerable});return c},j=c=>N(n({},"__esModule",{value:!0}),c),E={};A(E,{default:()=>p,getLastAvailableYear:()=>w}),b.exports=j(E);function p(c,e="jahr_"){const r=[];return c.forEach(u=>{const v=u.getProperties?u.getProperties():u;Object.keys(v).forEach(g=>{g.includes(e)&&r.push(g.replace(e,""))})}),[...new Set(r)].sort().reverse()}function w(c,e="jahr_"){const r=c.map(u=>Object.keys(u.getProperties()).map(v=>parseInt(v.replace(e,""),10)).filter(v=>!isNaN(v)).sort((v,g)=>g-v));for(let u=0;u<r.length;u++)for(let v=0;v<r[u].length;v++){const g=r[u][v];if(r.every(x=>x.includes(g)))return g}return p(c,e)[0]}},3663:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty,j=(o,_)=>{for(var a in _)f(o,a,{get:_[a],enumerable:!0})},E=(o,_,a,d)=>{if(_&&typeof _=="object"||typeof _=="function")for(let y of F(_))!N.call(o,y)&&y!==a&&f(o,y,{get:()=>_[y],enumerable:!(d=D(_,y))||d.enumerable});return o},p=(o,_,a)=>(a=o!=null?n(A(o)):{},E(_||!o||!o.__esModule?f(a,"default",{value:o,enumerable:!0}):a,o)),w=o=>E(f({},"__esModule",{value:!0}),o),c=(o,_,a)=>new Promise((d,y)=>{var P=T=>{try{S(a.next(T))}catch(R){y(R)}},m=T=>{try{S(a.throw(T))}catch(R){y(R)}},S=T=>T.done?d(T.value):Promise.resolve(T.value).then(P,m);S((a=a.apply(o,_)).next())}),e={};j(e,{default:()=>x,parseJsonToXlsx:()=>g}),b.exports=w(e);var r=p(i(4200)),u=p(i(18));function v(o,_){const a=_||2;return o.map(d=>({wch:d.length*a}))}function g(o,_,a,d,y="json_to_sheet"){if((0,u.default)(_)){Object.entries(_).forEach(([R,$])=>{a.sheetname=R,g(o,$,a,d,y)});return}const P=a.sheetname.substring(0,31)||"Neues Arbeitsblatt",m=a.colOptions||o?v(o,a.multiplyColWidth):void 0,S=a.rowOptions,T=r.utils[y](_,{header:o});T["!cols"]=m,T["!rows"]=S,r.utils.book_append_sheet(d,T,P)}function x(o,_,a){return c(this,arguments,function*(d,y,P,m={},S="json_to_sheet"){if(!y||y.length===0)return console.warn("Die zu exportierende Tabelle ist leer oder existiert nicht, bitte \xFCberpr\xFCfen Sie Ihre Einstellungen"),!1;const T=r.utils.book_new();return g(d,y,{sheetname:m.sheetname||P,rowOptions:m.rowOptions,colOptions:m.colOptions,multiplyColWidth:m.multiplyColWidth},T,S),r.writeFile(T,P+".xlsx"),!0})}},3678:function(b,O){var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,F=(w,c)=>{for(var e in c)i(w,e,{get:c[e],enumerable:!0})},A=(w,c,e,r)=>{if(c&&typeof c=="object"||typeof c=="function")for(let u of f(c))!D.call(w,u)&&u!==e&&i(w,u,{get:()=>c[u],enumerable:!(r=n(c,u))||r.enumerable});return w},N=w=>A(i({},"__esModule",{value:!0}),w),j={};F(j,{default:()=>p}),b.exports=N(j);var p={active:!1,id:"QueryDistricts",name:"QueryDistricts",icon:"bi-shuffle",renderToWindow:!0,resizableWindow:!1,isVisibleInMenu:!0,deactivateGFI:!0,referenceLayers:[{id:"15563"},{id:"15990"},{id:"19041"},{id:"19034"},{id:"18977"},{id:"18970"}],propertiesMap:{},dataSets:[{inputs:{selectedDistrict:"",layerFilterModels:[],selectedLayer:"",resultTableHeaders:[]},results:[]}],activeSet:0,readmeUrl:{"en-US":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/004querydistricts.md","de-DE":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/004vergleichbaregebieteermitteln.md"}}},3709:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(c,e)=>{for(var r in e)n(c,r,{get:e[r],enumerable:!0})},N=(c,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of D(e))!F.call(c,v)&&v!==r&&n(c,v,{get:()=>e[v],enumerable:!(u=f(e,v))||u.enumerable});return c},j=c=>N(n({},"__esModule",{value:!0}),c),E={};A(E,{compensateInconsistency:()=>w,default:()=>p}),b.exports=j(E);function p(c,e=!0){return typeof c=="string"?e?c.replace(/\s/g,"").replace(/^\w/,r=>r.toLowerCase()):c.replace(/\s/g,""):c}function w(c){return c.replace(". ",".")}},3758:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty,j=(u,v,g,x)=>{if(v&&typeof v=="object"||typeof v=="function")for(let o of F(v))!N.call(u,o)&&o!==g&&f(u,o,{get:()=>v[o],enumerable:!(x=D(v,o))||x.enumerable});return u},E=(u,v,g)=>(g=u!=null?n(A(u)):{},j(v||!u||!u.__esModule?f(g,"default",{value:u,enumerable:!0}):g,u)),p=(u,v,g)=>new Promise((x,o)=>{var _=y=>{try{d(g.next(y))}catch(P){o(P)}},a=y=>{try{d(g.throw(y))}catch(P){o(P)}},d=y=>y.done?x(y.value):Promise.resolve(y.value).then(_,a);d((g=g.apply(u,v)).next())}),w=i(58),c=E(i(60)),e=i(1202);function r(u,v,g){return p(this,null,function*(){if(typeof u!="string")return console.error(`utils/features/getAllFeaturesByLayerId: layerId must be a string. Got ${typeof u} instead.`),[];const x=c.default.getLayerWhere({id:u}),o=new w.WFS({featureNS:x?.featureNS});let _=[];return x===null?(console.error(`utils/features/getAllFeaturesByLayerId: layer with the passed layerId (${u}) was not found.`),[]):(_=yield(0,e.getFeatureGET)(x.url,{service:"WFS",request:"GetFeature",version:x.version,featureType:x.featureType,bbox:v,srsName:g}),o.readFeatures(_))})}b.exports={getAllFeaturesByLayerId:r}},3802:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,N=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,p=(a,d,y)=>d in a?f(a,d,{enumerable:!0,configurable:!0,writable:!0,value:y}):a[d]=y,w=(a,d)=>{for(var y in d||(d={}))j.call(d,y)&&p(a,y,d[y]);if(A)for(var y of A(d))E.call(d,y)&&p(a,y,d[y]);return a},c=(a,d)=>{for(var y in d)f(a,y,{get:d[y],enumerable:!0})},e=(a,d,y,P)=>{if(d&&typeof d=="object"||typeof d=="function")for(let m of F(d))!j.call(a,m)&&m!==y&&f(a,m,{get:()=>d[m],enumerable:!(P=D(d,m))||P.enumerable});return a},r=(a,d,y)=>(y=a!=null?n(N(a)):{},e(d||!a||!a.__esModule?f(y,"default",{value:a,enumerable:!0}):y,a)),u=a=>e(f({},"__esModule",{value:!0}),a),v={};c(v,{default:()=>_}),b.exports=u(v);var g=i(10),x=r(i(3678)),_=w({},(0,g.generateSimpleGetters)(x.default))},3803:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.defineProperties,F=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,c=(m,S,T)=>S in m?f(m,S,{enumerable:!0,configurable:!0,writable:!0,value:T}):m[S]=T,e=(m,S)=>{for(var T in S||(S={}))p.call(S,T)&&c(m,T,S[T]);if(j)for(var T of j(S))w.call(S,T)&&c(m,T,S[T]);return m},r=(m,S)=>D(m,A(S)),u=(m,S)=>{for(var T in S)f(m,T,{get:S[T],enumerable:!0})},v=(m,S,T,R)=>{if(S&&typeof S=="object"||typeof S=="function")for(let $ of N(S))!p.call(m,$)&&$!==T&&f(m,$,{get:()=>S[$],enumerable:!(R=F(S,$))||R.enumerable});return m},g=(m,S,T)=>(T=m!=null?n(E(m)):{},v(S||!m||!m.__esModule?f(T,"default",{value:m,enumerable:!0}):T,m)),x=m=>v(f({},"__esModule",{value:!0}),m),o={};u(o,{default:()=>P}),b.exports=x(o);var _=i(10),a=g(i(3678));function d(m){const S={inputs:{selectedDistrict:"",layerFilterModels:[],selectedLayer:"",resultTableHeaders:[]},results:[]};m.dataSets.push(S),m.activeSet=m.dataSets.length-1}var P=r(e({},(0,_.generateSimpleMutations)(a.default)),{setDataSets(m,S){var T,R;S.length&&((R=(T=S[S.length-1].inputs)==null?void 0:T.layerFilterModels)==null?void 0:R.length)>0&&(m.dataSets=S,d(m))},addSet(m){d(m)},applyTranslationKey:(m,S)=>{S&&S.indexOf("translate#")>-1&&(m.name=S.substring(10))}})},3962:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,N=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,p=(_,a,d)=>a in _?f(_,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):_[a]=d,w=(_,a)=>{for(var d in a||(a={}))j.call(a,d)&&p(_,d,a[d]);if(A)for(var d of A(a))E.call(a,d)&&p(_,d,a[d]);return _},c=(_,a)=>{for(var d in a)f(_,d,{get:a[d],enumerable:!0})},e=(_,a,d,y)=>{if(a&&typeof a=="object"||typeof a=="function")for(let P of F(a))!j.call(_,P)&&P!==d&&f(_,P,{get:()=>a[P],enumerable:!(y=D(a,P))||y.enumerable});return _},r=(_,a,d)=>(d=_!=null?n(N(_)):{},e(a||!_||!_.__esModule?f(d,"default",{value:_,enumerable:!0}):d,_)),u=_=>e(f({},"__esModule",{value:!0}),_),v=(_,a,d)=>new Promise((y,P)=>{var m=R=>{try{T(d.next(R))}catch($){P($)}},S=R=>{try{T(d.throw(R))}catch($){P($)}},T=R=>R.done?y(R.value):Promise.resolve(R.value).then(m,S);T((d=d.apply(_,a)).next())}),g={};c(g,{default:()=>o}),b.exports=u(g);var x=r(i(3709)),o={setComparableFeatures:function(_){return v(this,null,function*(){const a=_.map(P=>{const m=P.quotientLayer?`${P.layerId}/${P.quotientLayer}`:P.layerId;return this.propertiesMap[m].filter(S=>S[P.field]>=P.value-P.low&&S[P.field]<=P.value+P.high&&S[this.selectorField].indexOf(this.keyOfAttrNameStats)!==-1)});return a.reduce((P,m)=>P.filter(S=>m.find(T=>T[this.keyOfAttrNameStats]===S[this.keyOfAttrNameStats]))).sort((P,m)=>P.id>m.id?1:-1).reduce((P,m)=>{var S;if(!P.resultNames.includes(m.id)){const T=(S=this.selectedDistrictLevel.districts.find(R=>(0,x.default)(m.id,!1).includes(R.getName())))==null?void 0:S.adminFeature.getGeometry();m.feature.setGeometry(T),P.table.push(w({name:m.id},a.map((R,$)=>parseFloat(R.find(H=>H[this.keyOfAttrNameStats]===m.id)[_[$].field])))),P.features.push(m.feature),P.resultNames.push(m.id)}return P},{resultNames:[],features:[],table:[]})})}}},3963:function(b){b.exports=JSON.parse('{"modules":{"tools":{"cosi":{"queryDistricts":{"title":"Vergleichbare Gebiete ermitteln","subTitle":"Filter ausw\xE4hlen","layerDropdownLabel":"Stat. Daten / Fachdaten","layerDropdownLabelTooltip":"W\xE4hlen Sie ein Thema nach dem Sie filtern m\xF6chten. Sie k\xF6nnen statistische Daten und Einrichtungsdaten der aktiven Fachdaten ausw\xE4hlen.","districtDropdownLabel":"Referenzgebiet (optional)","showInDashboardLable":"Im Dashboard anzeigen","resultAsSelection":"Ergebnis als Gebietauswahl setzen","resetSelection":"Alle Filter zur\xFCcksetzen","setParams":"Filterparameter einstellen","comparableResults":"Ergebnis","referenceDistrict":"Referenzgebiet","referenceValueType":"Typ","valueTypeAbsolute":"absolut","valueTypeRelative":"relativ","add":"Filter hinzuf\xFCgen","year":"Jahr","referenceValue":"Referenzwert","tolerance":"Toleranz","funcData":"Fachdaten","count":"Anz.","selectedDistrictNotAvailable":"Der Referenzwert ist f\xFCr das Referenzgebiet nicht definiert","selectQuotientLayer":"Quotient","selectProperty":"Attribut der Einrichtung","rowsPerPage":"Zeilen pro Seite","rowsPerPageAll":"Alle","exportTable":"Tabelle exportieren","exportFilename":"CoSI_Vergleichbare_Gebiete","invalidFeaturesWarning":"F\xFCr diesen Filter gibt es Gebiete f\xFCr die keine g\xFCltigen Werte Vorliegen.","paginationAdd":"Eine weitere Analyse hinzuf\xFCgen","paginationDownloadAll":"Die Ergebnisse aller Analysen herunterladen","paginationRemove":"Diese Analysedaten entfernen","paginationRemoveAll":"Alle Analysedaten entfernen","paginationPrev":"Den vorherigen Analysedatensatz ausw\xE4hlen","paginationNext":"Den n\xE4chsten Analysedatensatz ausw\xE4hlen"}}}}}')},3964:function(b){b.exports=JSON.parse('{"modules":{"tools":{"cosi":{"queryDistricts":{"title":"Query Districts","subTitle":"Select filter","layerDropdownLabel":"Stat. Data / Subjects","layerDropdownLabelTooltip":"Select a topic to filter districts by. You can select statistical and facility data.","districtDropdownLabel":"Reference district (optional)","showInDashboardLable":"show in dashboard","resultAsSelection":"set result as selection","resetSelection":"Reset all filter","setParams":"Set filter parameters","comparableResults":"Result","referenceDistrict":"reference district","valueTypeAbsolute":"absolute","valueTypeRelative":"relative","add":"Add filter","year":"jear","referenceValue":"reference value","referenceValueType":"type","tolerance":"tolerance","funcData":"functional data","count":"ct.","selectedDistrictNotAvailable":"Reference value invalid for selected district","selectQuotientLayer":"Quotient","selectProperty":"Attribute","rowsPerPage":"Rows per page","rowsPerPageAll":"All","exportTable":"export table","exportFilename":"CoSI_query_districts","invalidFeaturesWarning":"There are districts without valid results for this filter.","paginationAdd":"Add an analysis set","paginationDownloadAll":"Download the results of all available analysises","paginationRemove":"Remove this analysis set","paginationRemoveAll":"Remove all analysis sets","paginationPrev":"Select the previous analysis set","paginationNext":"Select the next analysis set"}}}}}')},4154:function(b,O,i){"use strict";i.r(O);var n=i(4155),f=i.n(n);for(var D in n)["default"].indexOf(D)<0&&function(F){i.d(O,F,function(){return n[F]})}(D);O.default=f.a},4155:function(b,O,i){var n=Object.defineProperty,f=Object.defineProperties,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,p=(o,_,a)=>_ in o?n(o,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[_]=a,w=(o,_)=>{for(var a in _||(_={}))j.call(_,a)&&p(o,a,_[a]);if(N)for(var a of N(_))E.call(_,a)&&p(o,a,_[a]);return o},c=(o,_)=>f(o,F(_)),e=(o,_)=>{for(var a in _)n(o,a,{get:_[a],enumerable:!0})},r=(o,_,a,d)=>{if(_&&typeof _=="object"||typeof _=="function")for(let y of A(_))!j.call(o,y)&&y!==a&&n(o,y,{get:()=>_[y],enumerable:!(d=D(_,y))||d.enumerable});return o},u=o=>r(n({},"__esModule",{value:!0}),o),v={};e(v,{default:()=>x}),b.exports=u(v);var g=i(8),x={name:"ToolInfo",props:{title:{type:String,default:"Werkzeuginformationen (Link \xF6ffnen)"},url:{type:[String,Object],default:null},infoText:{type:String,default:void 0},summary:{type:String,default:null},locale:{type:String,default:"de"}},methods:c(w({},(0,g.mapActions)("Alerting",["addSingleAlert","cleanup"])),{showInfo(){return this.url?window.open(this.getUrl(),"_blank"):(this.infoText&&(this.cleanup(),this.addSingleAlert({category:"Info",content:this.infoText,displayClass:"info"})),null)},getUrl(){if(typeof this.url=="string")return this.url;const o=Object.keys(this.url).find(_=>_.substring(0,_.indexOf("-"))===this.locale.substring(0,_.indexOf("-")));return this.url[o]}})}},4156:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(c,e)=>{for(var r in e)n(c,r,{get:e[r],enumerable:!0})},N=(c,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of D(e))!F.call(c,v)&&v!==r&&n(c,v,{get:()=>e[v],enumerable:!(u=f(e,v))||u.enumerable});return c},j=c=>N(n({},"__esModule",{value:!0}),c),E={};A(E,{render:()=>p,staticRenderFns:()=>w}),b.exports=j(E);var p=function(){var e=this,r=e._self._c;return r("div",[r("v-row",{attrs:{dense:"",justify:"end"}},[r("v-col",{attrs:{cols:"17"}},[e.summary?r("p",[e._v(`
                `+e._s(e.summary)+`
            `)]):e._e()]),e._v(" "),r("v-col",{attrs:{cols:"1"}},[e.infoText||e.url?r("v-btn",{staticClass:"info_btn",attrs:{title:e.title,depressed:"",right:"",icon:"","x-small":""},on:{click:e.showInfo}},[r("v-icon",[e._v("mdi-help-circle")])],1):e._e()],1)],1),e._v(" "),r("v-divider")],1)},w=[];p._withStripped=!0},4157:function(b,O,i){},4158:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(h,t)=>{for(var s in t)n(h,s,{get:t[s],enumerable:!0})},N=(h,t,s,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let L of D(t))!F.call(h,L)&&L!==s&&n(h,L,{get:()=>t[L],enumerable:!(l=f(t,L))||l.enumerable});return h},j=h=>N(n({},"__esModule",{value:!0}),h),E={};A(E,{areaFactors:()=>e,bearingToAzimuth:()=>C,convertArea:()=>G,convertLength:()=>J,degreesToRadians:()=>U,earthRadius:()=>p,factors:()=>w,feature:()=>r,featureCollection:()=>d,geometry:()=>u,geometryCollection:()=>S,isNumber:()=>K,isObject:()=>X,lengthToDegrees:()=>H,lengthToRadians:()=>$,lineString:()=>_,lineStrings:()=>a,multiLineString:()=>y,multiPoint:()=>P,multiPolygon:()=>m,point:()=>v,points:()=>g,polygon:()=>x,polygons:()=>o,radiansToDegrees:()=>Q,radiansToLength:()=>R,round:()=>T,unitsFactors:()=>c,validateBBox:()=>k,validateId:()=>q}),b.exports=j(E);var p=63710088e-1,w={centimeters:p*100,centimetres:p*100,degrees:p/111325,feet:p*3.28084,inches:p*39.37,kilometers:p/1e3,kilometres:p/1e3,meters:p,metres:p,miles:p/1609.344,millimeters:p*1e3,millimetres:p*1e3,nauticalmiles:p/1852,radians:1,yards:p*1.0936},c={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/p,yards:1.0936133},e={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function r(h,t,s){s===void 0&&(s={});var l={type:"Feature"};return(s.id===0||s.id)&&(l.id=s.id),s.bbox&&(l.bbox=s.bbox),l.properties=t||{},l.geometry=h,l}function u(h,t,s){switch(s===void 0&&(s={}),h){case"Point":return v(t).geometry;case"LineString":return _(t).geometry;case"Polygon":return x(t).geometry;case"MultiPoint":return P(t).geometry;case"MultiLineString":return y(t).geometry;case"MultiPolygon":return m(t).geometry;default:throw new Error(h+" is invalid")}}function v(h,t,s){if(s===void 0&&(s={}),!h)throw new Error("coordinates is required");if(!Array.isArray(h))throw new Error("coordinates must be an Array");if(h.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!K(h[0])||!K(h[1]))throw new Error("coordinates must contain numbers");var l={type:"Point",coordinates:h};return r(l,t,s)}function g(h,t,s){return s===void 0&&(s={}),d(h.map(function(l){return v(l,t)}),s)}function x(h,t,s){s===void 0&&(s={});for(var l=0,L=h;l<L.length;l++){var M=L[l];if(M.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var I=0;I<M[M.length-1].length;I++)if(M[M.length-1][I]!==M[0][I])throw new Error("First and last Position are not equivalent.")}var B={type:"Polygon",coordinates:h};return r(B,t,s)}function o(h,t,s){return s===void 0&&(s={}),d(h.map(function(l){return x(l,t)}),s)}function _(h,t,s){if(s===void 0&&(s={}),h.length<2)throw new Error("coordinates must be an array of two or more positions");var l={type:"LineString",coordinates:h};return r(l,t,s)}function a(h,t,s){return s===void 0&&(s={}),d(h.map(function(l){return _(l,t)}),s)}function d(h,t){t===void 0&&(t={});var s={type:"FeatureCollection"};return t.id&&(s.id=t.id),t.bbox&&(s.bbox=t.bbox),s.features=h,s}function y(h,t,s){s===void 0&&(s={});var l={type:"MultiLineString",coordinates:h};return r(l,t,s)}function P(h,t,s){s===void 0&&(s={});var l={type:"MultiPoint",coordinates:h};return r(l,t,s)}function m(h,t,s){s===void 0&&(s={});var l={type:"MultiPolygon",coordinates:h};return r(l,t,s)}function S(h,t,s){s===void 0&&(s={});var l={type:"GeometryCollection",geometries:h};return r(l,t,s)}function T(h,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,t||0);return Math.round(h*s)/s}function R(h,t){t===void 0&&(t="kilometers");var s=w[t];if(!s)throw new Error(t+" units is invalid");return h*s}function $(h,t){t===void 0&&(t="kilometers");var s=w[t];if(!s)throw new Error(t+" units is invalid");return h/s}function H(h,t){return Q($(h,t))}function C(h){var t=h%360;return t<0&&(t+=360),t}function Q(h){var t=h%(2*Math.PI);return t*180/Math.PI}function U(h){var t=h%360;return t*Math.PI/180}function J(h,t,s){if(t===void 0&&(t="kilometers"),s===void 0&&(s="kilometers"),!(h>=0))throw new Error("length must be a positive number");return R($(h,t),s)}function G(h,t,s){if(t===void 0&&(t="meters"),s===void 0&&(s="kilometers"),!(h>=0))throw new Error("area must be a positive number");var l=e[t];if(!l)throw new Error("invalid original units");var L=e[s];if(!L)throw new Error("invalid final units");return h/l*L}function K(h){return!isNaN(h)&&h!==null&&!Array.isArray(h)}function X(h){return!!h&&h.constructor===Object}function k(h){if(!h)throw new Error("bbox is required");if(!Array.isArray(h))throw new Error("bbox must be an Array");if(h.length!==4&&h.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");h.forEach(function(t){if(!K(t))throw new Error("bbox must only contain numbers")})}function q(h){if(!h)throw new Error("id is required");if(["string","number"].indexOf(typeof h)===-1)throw new Error("id must be a number or a string")}},4162:function(b,O,i){"use strict";i.r(O);var n=i(4163),f=i(4154);for(var D in f)["default"].indexOf(D)<0&&function(j){i.d(O,j,function(){return f[j]})}(D);var F=i(4164),A=i(1),N=Object(A.a)(f.default,n.render,n.staticRenderFns,!1,null,"0f052480",null);O.default=N.exports},4163:function(b,O,i){"use strict";var n=i(4156),f=i.n(n);i.o(n,"render")&&i.d(O,"render",function(){return n.render}),i.o(n,"staticRenderFns")&&i.d(O,"staticRenderFns",function(){return n.staticRenderFns})},4164:function(b,O,i){"use strict";var n=i(4157),f=i.n(n)},4168:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(o,_)=>{for(var a in _)n(o,a,{get:_[a],enumerable:!0})},N=(o,_,a,d)=>{if(_&&typeof _=="object"||typeof _=="function")for(let y of D(_))!F.call(o,y)&&y!==a&&n(o,y,{get:()=>_[y],enumerable:!(d=f(_,y))||d.enumerable});return o},j=o=>N(n({},"__esModule",{value:!0}),o),E={};A(E,{collectionOf:()=>v,containsNumber:()=>e,featureOf:()=>u,geojsonType:()=>r,getCoord:()=>w,getCoords:()=>c,getGeom:()=>g,getType:()=>x}),b.exports=j(E);var p=i(4158);function w(o){if(!o)throw new Error("coord is required");if(!Array.isArray(o)){if(o.type==="Feature"&&o.geometry!==null&&o.geometry.type==="Point")return o.geometry.coordinates;if(o.type==="Point")return o.coordinates}if(Array.isArray(o)&&o.length>=2&&!Array.isArray(o[0])&&!Array.isArray(o[1]))return o;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function c(o){if(Array.isArray(o))return o;if(o.type==="Feature"){if(o.geometry!==null)return o.geometry.coordinates}else if(o.coordinates)return o.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function e(o){if(o.length>1&&(0,p.isNumber)(o[0])&&(0,p.isNumber)(o[1]))return!0;if(Array.isArray(o[0])&&o[0].length)return e(o[0]);throw new Error("coordinates must only contain numbers")}function r(o,_,a){if(!_||!a)throw new Error("type and name required");if(!o||o.type!==_)throw new Error("Invalid input to "+a+": must be a "+_+", given "+o.type)}function u(o,_,a){if(!o)throw new Error("No feature passed");if(!a)throw new Error(".featureOf() requires a name");if(!o||o.type!=="Feature"||!o.geometry)throw new Error("Invalid input to "+a+", Feature with geometry required");if(!o.geometry||o.geometry.type!==_)throw new Error("Invalid input to "+a+": must be a "+_+", given "+o.geometry.type)}function v(o,_,a){if(!o)throw new Error("No featureCollection passed");if(!a)throw new Error(".collectionOf() requires a name");if(!o||o.type!=="FeatureCollection")throw new Error("Invalid input to "+a+", FeatureCollection required");for(var d=0,y=o.features;d<y.length;d++){var P=y[d];if(!P||P.type!=="Feature"||!P.geometry)throw new Error("Invalid input to "+a+", Feature with geometry required");if(!P.geometry||P.geometry.type!==_)throw new Error("Invalid input to "+a+": must be a "+_+", given "+P.geometry.type)}}function g(o){return o.type==="Feature"?o.geometry:o}function x(o,_){return o.type==="FeatureCollection"?"FeatureCollection":o.type==="GeometryCollection"?"GeometryCollection":o.type==="Feature"&&o.geometry!==null?o.geometry.type:o.type}},4172:function(b,O,i){"use strict";i.r(O);var n=i(4173),f=i.n(n);for(var D in n)["default"].indexOf(D)<0&&function(F){i.d(O,F,function(){return n[F]})}(D);O.default=f.a},4173:function(b,O){var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,F=(p,w)=>{for(var c in w)i(p,c,{get:w[c],enumerable:!0})},A=(p,w,c,e)=>{if(w&&typeof w=="object"||typeof w=="function")for(let r of f(w))!D.call(p,r)&&r!==c&&i(p,r,{get:()=>w[r],enumerable:!(e=n(w,r))||e.enumerable});return p},N=p=>A(i({},"__esModule",{value:!0}),p),j={};F(j,{default:()=>E}),b.exports=N(j);var E={name:"AnalysisPagination",props:{sets:{type:Array,default:()=>[]},activeSet:{type:Number,default:0},downloads:{type:Array,default:()=>["Export"]},titles:{type:Object,default:()=>({})},addFunction:{type:Boolean,default:!1},downloadCondition:{type:Boolean,default:!0},removeCondition:{type:Boolean,default:!0}},data(){return{page:1}},watch:{activeSet(p){this.page=p+1},page(p){this.$emit("setActiveSet",p-1)}}}},4180:function(b,O){},4181:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(c,e)=>{for(var r in e)n(c,r,{get:e[r],enumerable:!0})},N=(c,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of D(e))!F.call(c,v)&&v!==r&&n(c,v,{get:()=>e[v],enumerable:!(u=f(e,v))||u.enumerable});return c},j=c=>N(n({},"__esModule",{value:!0}),c),E={};A(E,{render:()=>p,staticRenderFns:()=>w}),b.exports=j(E);var p=function(){var e=this,r=e._self._c;return r("v-app",{staticClass:"analysis-pagination"},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"text-center"},[e.sets.length>1?r("v-pagination",{attrs:{length:e.sets.length},model:{value:e.page,callback:function(u){e.page=u},expression:"page"}}):e._e()],1)],1),e._v(" "),r("v-row",{staticClass:"mt-1",attrs:{"no-gutters":""}},[r("v-col",{staticClass:"text-center"},[e.addFunction?r("v-btn",{attrs:{tile:"",depressed:"",small:"",color:"grey lighten-1",title:e.titles.add},on:{click:function(u){return e.$emit("addSet")}}},[r("v-icon",{attrs:{dense:""}},[e._v(`
                    mdi-plus-box-outline
                `)])],1):e._e(),e._v(" "),e.downloadCondition?e._l(e.downloads,function(u,v){return r("v-btn",{key:u,attrs:{tile:"",depressed:"",small:"",color:"green lighten-2",title:e.titles.downloads[v]},on:{click:function(g){return e.$emit("download"+u,e.activeSet)}}},[e._v(`
                    `+e._s(u)+`
                    `),r("v-icon",{attrs:{dense:""}},[e._v(`
                        mdi-download
                    `)])],1)}):e._e(),e._v(" "),e.sets.length>1?r("v-btn",{attrs:{tile:"",depressed:"",small:"",color:"green lighten-2",title:e.titles.downloadAll},on:{click:function(u){return e.$emit("downloadAll")}}},[r("v-icon",{attrs:{dense:""}},[e._v(`
                    mdi-folder-download
                `)])],1):e._e(),e._v(" "),e.removeCondition?r("v-btn",{attrs:{tile:"",depressed:"",small:"",color:"red accent-2",title:e.titles.remove},on:{click:function(u){return e.$emit("removeSingle",e.activeSet)}}},[r("v-icon",{attrs:{dense:""}},[e._v(`
                    mdi-close
                `)])],1):e._e(),e._v(" "),e.sets.length>1?r("v-btn",{attrs:{tile:"",depressed:"",small:"",color:"red accent-2",title:e.titles.removeAll},on:{click:function(u){return e.$emit("removeAll")}}},[r("v-icon",{attrs:{dense:""}},[e._v(`
                    mdi-folder-remove
                `)])],1):e._e()],2)],1)],1)},w=[];p._withStripped=!0},4182:function(b,O,i){b.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},4201:function(b,O){function i(n){var f=new Error("Cannot find module '"+n+"'");throw f.code="MODULE_NOT_FOUND",f}i.keys=function(){return[]},i.resolve=i,b.exports=i,i.id=4201},4202:function(b,O){},4203:function(b,O){},4219:function(b,O,i){"use strict";i.r(O);var n=i(4220),f=i(4172);for(var D in f)["default"].indexOf(D)<0&&function(j){i.d(O,j,function(){return f[j]})}(D);var F=i(4221),A=i(1),N=Object(A.a)(f.default,n.render,n.staticRenderFns,!1,null,null,null);O.default=N.exports},4220:function(b,O,i){"use strict";var n=i(4181),f=i.n(n);i.o(n,"render")&&i.d(O,"render",function(){return n.render}),i.o(n,"staticRenderFns")&&i.d(O,"staticRenderFns",function(){return n.staticRenderFns})},4221:function(b,O,i){"use strict";var n=i(4182),f=i.n(n)},4260:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(r,u)=>{for(var v in u)n(r,v,{get:u[v],enumerable:!0})},N=(r,u,v,g)=>{if(u&&typeof u=="object"||typeof u=="function")for(let x of D(u))!F.call(r,x)&&x!==v&&n(r,x,{get:()=>u[x],enumerable:!(g=f(u,x))||g.enumerable});return r},j=r=>N(n({},"__esModule",{value:!0}),r),E={};A(E,{default:()=>w}),b.exports=j(E);var p=i(4168);function w(r,u,v){if(v===void 0&&(v={}),!r)throw new Error("point is required");if(!u)throw new Error("polygon is required");var g=(0,p.getCoord)(r),x=(0,p.getGeom)(u),o=x.type,_=u.bbox,a=x.coordinates;if(_&&e(g,_)===!1)return!1;o==="Polygon"&&(a=[a]);for(var d=!1,y=0;y<a.length&&!d;y++)if(c(g,a[y][0],v.ignoreBoundary)){for(var P=!1,m=1;m<a[y].length&&!P;)c(g,a[y][m],!v.ignoreBoundary)&&(P=!0),m++;P||(d=!0)}return d}function c(r,u,v){var g=!1;u[0][0]===u[u.length-1][0]&&u[0][1]===u[u.length-1][1]&&(u=u.slice(0,u.length-1));for(var x=0,o=u.length-1;x<u.length;o=x++){var _=u[x][0],a=u[x][1],d=u[o][0],y=u[o][1],P=r[1]*(_-d)+a*(d-r[0])+y*(r[0]-_)===0&&(_-r[0])*(d-r[0])<=0&&(a-r[1])*(y-r[1])<=0;if(P)return!v;var m=a>r[1]!=y>r[1]&&r[0]<(d-_)*(r[1]-a)/(y-a)+_;m&&(g=!g)}return g}function e(r,u){return u[0]<=r[0]&&u[1]<=r[1]&&u[2]>=r[0]&&u[3]>=r[1]}},4403:function(b,O,i){"use strict";i.r(O);var n=i(4404),f=i.n(n);for(var D in n)["default"].indexOf(D)<0&&function(F){i.d(O,F,function(){return n[F]})}(D);O.default=f.a},4404:function(b,O,i){var n=Object.create,f=Object.defineProperty,D=Object.defineProperties,F=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,c=(t,s,l)=>s in t?f(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l,e=(t,s)=>{for(var l in s||(s={}))p.call(s,l)&&c(t,l,s[l]);if(j)for(var l of j(s))w.call(s,l)&&c(t,l,s[l]);return t},r=(t,s)=>D(t,A(s)),u=(t,s)=>{for(var l in s)f(t,l,{get:s[l],enumerable:!0})},v=(t,s,l,L)=>{if(s&&typeof s=="object"||typeof s=="function")for(let M of N(s))!p.call(t,M)&&M!==l&&f(t,M,{get:()=>s[M],enumerable:!(L=F(s,M))||L.enumerable});return t},g=(t,s,l)=>(l=t!=null?n(E(t)):{},v(s||!t||!t.__esModule?f(l,"default",{value:t,enumerable:!0}):l,t)),x=t=>v(f({},"__esModule",{value:!0}),t),o=(t,s,l)=>new Promise((L,M)=>{var I=z=>{try{W(l.next(z))}catch(V){M(V)}},B=z=>{try{W(l.throw(z))}catch(V){M(V)}},W=z=>z.done?L(z.value):Promise.resolve(z.value).then(I,B);W((l=l.apply(t,s)).next())}),_={};u(_,{default:()=>h}),b.exports=x(_);var a=i(8),d=g(i(59)),y=g(i(4219)),P=g(i(3802)),m=g(i(3803)),S=g(i(60)),T=g(i(3962)),R=g(i(5422)),$=i(40),H=i(3758),C=g(i(3663)),Q=g(i(5)),U=i(4158),J=g(i(4260)),G=g(i(4162)),K=i(1202),X=i(58),k=g(i(3656)),q=i(3649),h={name:"QueryDistricts",components:{Tool:d.default,ToolInfo:G.default,LayerFilter:R.default,AnalysisPagination:y.default},data(){return{selectedDistrict:null,allLayerOptions:[],layerOptions:[],selectedLayer:null,districtNames:[],layerFilterModels:[],selectorField:"verwaltungseinheit",resultNames:null,results:null,refDistrict:null,facilityNames:[],resultTableHeaders:[]}},computed:e(e(e(e(e({},(0,a.mapGetters)("Language",["currentLocale"])),(0,a.mapGetters)("Tools/QueryDistricts",Object.keys(P.default))),(0,a.mapGetters)("Tools/DistrictSelector",["keyOfAttrName","selectedFeatures","layer","keyOfAttrNameStats","selectedDistrictLevel","mapping"])),(0,a.mapGetters)("Tools/FeaturesList",["isFeatureDisabled","layerMapById","activeVectorLayerList"])),(0,a.mapGetters)("Maps",["projectionCode"])),watch:{layerFilterModels(t){return o(this,null,function*(){this.dataSets[this.activeSet].inputs.layerFilterModels=t,yield this.computeResults(),this.dataSets[this.activeSet].inputs.resultTableHeaders=this.resultTableHeaders,this.dataSets[this.activeSet].results=this.results})},selectedDistrict(t){return o(this,null,function*(){const s=[];for(const l of this.layerFilterModels){const L=e({},l);s.push(L),this.setLayerFilterModelValue(L)}this.layerFilterModels=s,this.dataSets[this.activeSet].inputs.selectedDistrict=t})},facilityNames(){this.active&&this.setLayerOptions()},active(t){t&&(this.initializeDistrictNames(),this.setLayerOptions())},activeVectorLayerList(){this.$nextTick().then(()=>{this.setFacilityNames()})},activeSet(t){if(!this.dataSets[t])return;this.layerFilterModels=this.dataSets[t].inputs.layerFilterModels,this.selectedDistrict=this.dataSets[t].inputs.selectedDistrict,this.resultTableHeaders=this.dataSets[t].inputs.resultTableHeaders,this.selectedLayer=this.dataSets[t].inputs.selectedLayer;const s=[];for(const l of this.layerFilterModels){const L=e({},l);s.push(L),this.setLayerFilterModelValue(L)}this.layerFilterModels=s,this.updateAvailableLayerOptions()},dataSets(t){t.length===0&&this.addSet()}},created(){this.$on("close",this.close)},mounted(){return o(this,null,function*(){this.applyTranslationKey(this.name),this.mapLayer=yield this.addNewLayerIfNotExists({layerName:"query-districts"})})},methods:r(e(e(e(e(e(e({},(0,a.mapMutations)("Tools/QueryDistricts",Object.keys(m.default))),(0,a.mapMutations)("Tools/DistrictSelector",["setSelectedDistrictsCollection"])),(0,a.mapActions)("Tools/DistrictSelector",["setDistrictsByName"])),(0,a.mapActions)("Alerting",["addSingleAlert","cleanup"])),(0,a.mapActions)("Maps",["zoomToExtent","addNewLayerIfNotExists"])),T.default),{initializeDistrictNames:function(){var t;const s=this.keyOfAttrName;(t=this.selectedFeatures)!=null&&t.length?this.districtNames=this.selectedFeatures.map(l=>l.getProperties()[s]).sort():this.districtNames=this.layer.getSource().getFeatures().map(l=>l.getProperties()[s]).sort(),this.districtNames=[...new Set(this.districtNames)]},getLayerList:function(){return S.default.getLayerList()},getAllFeatures:function(t){return o(this,null,function*(){var s;const l=yield(0,H.getAllFeaturesByLayerId)(t);return l.length>0?l:((s=(0,q.getModelByAttributes)({id:t}))==null?void 0:s.get("features"))||[]})},setLayerOptions:function(){this.allLayerOptions=[];for(const t of this.facilityNames)this.allLayerOptions.push({name:t.name,id:t.id,group:this.$t("additional:modules.tools.cosi.queryDistricts.funcData"),valueType:"absolute",facilityLayerName:t.name});for(const t of this.mapping){const s=this.selectedDistrictLevel.stats.layers.find(l=>l.id&&l.id===t[this.keyOfAttrNameStats]);s&&this.allLayerOptions.push({name:t.value,id:t.category,group:t.group,valueType:t.valueType,ltf:t.ltf,category:t.category,url:s.url,featureType:s.featureType})}this.updateAvailableLayerOptions()},updateAvailableLayerOptions(){const t=this.allLayerOptions.filter(L=>this.layerFilterModels.find(M=>M.layerId===L.id)===void 0),s=t.reduce((L,M)=>r(e({},L),{[M.group]:[...L[M.group]||[],M]}),{});let l=[];for(const L in s)l.push({header:L}),l=l.concat(s[L]);this.layerOptions=l},addLayerFilter:function(){return o(this,null,function*(){this.layerOptions=this.layerOptions.filter(t=>t.id!==this.selectedLayer.id),this.layerFilterModels.push(yield this.createLayerFilterModel(this.selectedLayer)),this.selectedLayer=null,this.updateAvailableLayerOptions()})},getFieldValues:function(t,s){const l=[];for(const L of t)for(const M in L)M.startsWith(s)&&l.push(M);return l.length>0?[...new Set(l)].sort().reverse():[s+"alle"]},countFacilitiesPerFeature(t,s,l=void 0){const L=Object.fromEntries(s.map(M=>[M.getId(),0]));for(const M of t)for(const I of s){let B,W;if(I.getGeometry().getType()==="MultiPolygon"?B=(0,U.multiPolygon)(I.getGeometry().getCoordinates()):I.getGeometry().getType()==="Polygon"&&(B=(0,U.polygon)(I.getGeometry().getCoordinates())),B&&(0,J.default)((0,U.point)(this.getCoordinate(M)),B)){W=l?parseFloat(M.get(l)):1,W=isNaN(W)?1:W,L[I.getId()]=L[I.getId()]+W;break}}return L},loadFeatures:function(t){return o(this,null,function*(){if(!(this.propertiesMap[t.id]&&t.property===void 0))if(t.facilityLayerName){const s=yield this.getAllFeatures(t.id),l=this.cloneDistrictFeatures(this.selectedDistrictLevel.districts),L=this.countFacilitiesPerFeature(s,l,t.property);this.propertiesMap[t.id]=l.map(M=>{const I=M.getProperties();for(let B=2012;B<new Date().getFullYear();B++)I["jahr_"+B]=L[M.getId()];return r(e({},I),{feature:M,id:I[this.keyOfAttrNameStats],[this.selectorField]:this.keyOfAttrNameStats,isFacility:!0})})}else{const s=new X.WFS;let l=yield(0,K.getFeaturePOST)(t.url,{featureTypes:[t.featureType],srsName:this.projectionCode,propertyNames:[t.category,this.keyOfAttrNameStats,"jahr"]}),L={};l=s.readFeatures(l),L=(0,q.groupBy)(l,M=>M.get([this.keyOfAttrNameStats])),this.propertiesMap[t.id]=l.map(M=>{const I=M.getProperties();return L[M.get([this.keyOfAttrNameStats])].forEach(B=>{I["jahr_"+B.get("jahr")]=B.get([t.category])}),I.feature=M,I[this.selectorField]=this.keyOfAttrNameStats,I.kategorie=t.category,I.id=I[this.keyOfAttrNameStats],I})}})},cloneDistrictFeatures(t){return t.map(s=>{const l=s.adminFeature.clone();return l.setId(l.get(this.keyOfAttrName)),l.set(this.keyOfAttrNameStats,l.getId()),l})},createLayerFilterModel:function(t){return o(this,null,function*(){yield this.loadFeatures(t);const s=t.valueType,l=this.propertiesMap[t.id],L=this.getFieldValues(l,"jahr_"),M=L[0],I=r(e({layerId:t.id,currentLayerId:t.id,name:t.name,field:M,valueType:s,high:0,low:0,fieldValues:L,facilityLayerName:t.facilityLayerName},this.getMinMaxForField(t.id,M)),{quotientLayers:this.allLayerOptions.filter(B=>B.id!==t.id&&B.valueType!=="relative").map(B=>({id:B.id,name:B.name})),properties:yield this.getFacilityProperties(t)});return this.setLayerFilterModelValue(I),I})},setLayerFilterModelValue(t){return o(this,null,function*(){const s=this.propertiesMap[t.currentLayerId];if(this.selectedDistrict){const l=this.keyOfAttrNameStats,L=s.find(M=>M[l]===this.selectedDistrictLevel.districtNamesMap[this.selectedDistrict]||this.selectedDistrict);if(L){const M=Number(Number(parseFloat(L[t.field])).toFixed(3));isFinite(M)?(t.value=M,t.error=void 0):(t.error=this.$t("additional:modules.tools.cosi.queryDistricts.selectedDistrictNotAvailable"),t.value=NaN)}}else t.value=0,t.error=void 0})},getMinMaxForField(t,s){const l=[],L=this.propertiesMap[t],M=L.reduce((z,V)=>{const Z=parseFloat(V[s]);return isNaN(Z)?(V[this.keyOfAttrNameStats]?l.push(V[this.keyOfAttrNameStats]):l.push(V.feature.get([this.keyOfAttrNameStats])),z):[...z,Z]},[]),I=Math.max(...M),B=Math.min(...M),W=[...new Set(l)];return{min:B,max:I,invalidFeatures:W}},computeResults(){return o(this,null,function*(){if(this.layerFilterModels.length){const t=yield this.setComparableFeatures(this.layerFilterModels);this.resultNames=t.resultNames,this.results=t.table,this.resultTableHeaders=[{text:"Name",align:"start",value:"name"}];for(let s=0;s<this.layerFilterModels.length;s++)this.resultTableHeaders.push({text:this.layerFilterModels[s].name,value:s.toString(),align:"center"});this.showDistrictFeatures(t.features)}else this.resultNames=null,this.results=null,this.showSelectedDistrict()})},zoomToDistrict:function(t){const s=this.layer,l=this.keyOfAttrName,L=s.getSource().getFeatures();for(const M of L)if(M.getProperties()[l]===t.name){const I=M.getGeometry().getExtent();this.zoomToExtent({extent:I,options:{padding:[20,20,20,20]}});return}},changeDistrictSelection:function(){var t;const s=(t=this.refDistrict)==null?void 0:t.get(this.keyOfAttrName);this.setDistrictsByName({districtNames:s?[...this.resultNames,s]:this.resultNames})},resetDistrictSelection:function(){this.layerFilterModels=[],this.updateAvailableLayerOptions(),this.selectedDistrict=null},updateFilter(t){return o(this,null,function*(){const s=[...this.layerFilterModels];for(let l=0;l<s.length;l++)if(s[l].layerId===t.layerId){if(s[l]=e(e({},s[l]),t),t.field||t.quotientLayer===null||t.quotientLayer||t.property||t.property===null){let L=s[l].layerId;t.property!==void 0&&(yield this.loadFeatures({id:t.layerId,property:t.property,facilityLayerName:s[l].facilityLayerName})),t.quotientLayer&&(yield this.computeQuotientLayer(s[l]),L=`${s[l].layerId}/${s[l].quotientLayer}`),s[l]=e(r(e({},s[l]),{currentLayerId:L}),this.getMinMaxForField(L,s[l].field)),this.setLayerFilterModelValue(s[l])}break}this.layerFilterModels=s})},computeQuotientLayer(t){return o(this,null,function*(){yield this.loadFeatures(this.allLayerOptions.find(I=>I.id===t.quotientLayer));const s=this.propertiesMap[t.layerId],l=this.propertiesMap[t.quotientLayer],L=`${t.layerId}/${t.quotientLayer}`,M=(0,k.default)(l).map(I=>"jahr_"+I);this.propertiesMap[L]=s.map(I=>{const B=l.find(V=>V.id===I.id),W=e({},B),z=I.isFacility?I.jahr_2012:void 0;for(const V in B)V.startsWith("jahr_")&&(W[V]=(z||I[V])/B[V]);return W.feature=I.feature,W}),t.fieldValues=M})},closeFilter(t){this.layerFilterModels=this.layerFilterModels.filter(s=>s.layerId!==t.layerId),this.updateAvailableLayerOptions()},close(){this.setActive(!1);const t=(0,q.getModelByAttributes)({id:this.$store.state.Tools.QueryDistricts.id});t&&t.set("isActive",!1)},createDistrictStyle(){return new $.Style({fill:new $.Fill({color:[8,119,95,.3]}),stroke:new $.Stroke({color:[8,119,95,.3],width:3})})},showSelectedDistrict:function(){if(this.mapLayer.getSource().clear(),this.selectedDistrict){this.refDistrict=this.layer.getSource().getFeatures().find(s=>s.getProperties()[this.keyOfAttrName]===this.selectedDistrict);const t=this.refDistrict.clone();t.setStyle(this.createDistrictStyle()),this.mapLayer.getSource().addFeature(t)}},showDistrictFeatures(t){this.mapLayer.getSource().clear();const s=t.map(l=>{const L=l.clone();return L.setStyle(this.createDistrictStyle()),L});if(this.refDistrict){const l=this.refDistrict.clone();l.setStyle(this.createDistrictStyle()),s.push(l)}this.mapLayer.getSource().addFeatures(s)},setFacilityNames(){this.facilityNames=this.activeVectorLayerList.map(t=>({name:t.get("name").trim(),id:t.get("id")}))},getFacilityFeatures(t){return o(this,null,function*(){const s=(0,q.getModelByAttributes)({name:t});return s?this.getAllFeatures(s.id):[]})},getFacilityProperties(t){return o(this,null,function*(){if(t.facilityLayerName){const s=this.layerMapById(t.id);return s?.numericalValues||null}return null})},getCoordinate:function(t){const s=t.getGeometry();return s?s.getType()==="Point"?s.getCoordinates().splice(0,2):Q.getCenter(s?.getExtent()):[0,0]},exportTable:function(t){const s=new Date().toLocaleDateString("de-DE",{year:"numeric",month:"numeric",day:"numeric"}),l=`${this.$t("additional:modules.tools.cosi.queryDistricts.exportFilename")}_${s}`,L=[this.dataSets[t].inputs.resultTableHeaders.map(B=>B.text),...this.dataSets[t].results.map(B=>{const W=Object.values(B);return[W[W.length-1],...W.slice(0,W.length-1)]})],M=["Referenzgebiet","Filter-Nr.","Name","Attribut","Quotient","Feld","Min.","Max.","Ref.-Wert","- Toleranz","+ Toleranz"],I=this.dataSets[t].inputs.layerFilterModels.map((B,W)=>[this.dataSets[t].inputs.selectedDistrict,W+1,B.name,B.property||"-",B.quotientLayer||"-",B.field,B.min,B.max,B.value,B.low,B.high]);(0,C.default)([M,[],...I,...L],l,{exclude:this.excludedPropsForExport},"aoa_to_sheet")},downloadAll(){this.dataSets.forEach((t,s)=>{this.exportTable(s)})},removeSet(t){this.activeSet===this.dataSets.length-1&&this.setActiveSet(this.activeSet-1),this.dataSets.splice(t,1)},removeAll(){this.setDataSets([]);const t=[];for(const s of this.layerFilterModels){const l=e({},s);t.push(l),this.setLayerFilterModelValue(l)}this.layerFilterModels=t,this.updateAvailableLayerOptions()}})}},4405:function(b,O,i){"use strict";i.r(O);var n=i(4406),f=i.n(n);for(var D in n)["default"].indexOf(D)<0&&function(F){i.d(O,F,function(){return n[F]})}(D);O.default=f.a},4406:function(b,O){var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,F=(p,w)=>{for(var c in w)i(p,c,{get:w[c],enumerable:!0})},A=(p,w,c,e)=>{if(w&&typeof w=="object"||typeof w=="function")for(let r of f(w))!D.call(p,r)&&r!==c&&i(p,r,{get:()=>w[r],enumerable:!(e=n(w,r))||e.enumerable});return p},N=p=>A(i({},"__esModule",{value:!0}),p),j={};F(j,{default:()=>E}),b.exports=N(j);var E={name:"LayerFilter",props:{layerId:{type:String,default:null},name:{type:String,default:null},field:{type:String,default:null},fieldValues:{type:Array,default:()=>[]},min:{type:Number,default:NaN},max:{type:Number,default:NaN},invalidFeatures:{type:Array,default:()=>[]},value:{type:Number,default:NaN},valueType:{type:String,default:null},low:{type:Number,default:0},high:{type:Number,default:0},error:{type:String,default:null},quotientLayers:{type:Array,default:()=>[]},quotientLayer:{type:String,default:null},properties:{type:Array,default:()=>[]},property:{type:String,default:null},locale:{type:String,default:"de-DE"}},computed:{values(){return this.fieldValues.map(p=>p.replace("jahr_",""))},fieldValue(){return this.field.replace("jahr_","")}},methods:{updateFieldValue(p){this.$emit("update",{layerId:this.layerId,field:"jahr_"+p,quotientLayer:this.quotientLayer})},updateLow(){const p=parseFloat(this.$refs.inputLow.value);isNaN(p)||this.$emit("update",{layerId:this.layerId,low:p})},updateHigh(){const p=parseFloat(this.$refs.inputHigh.value);isNaN(p)||this.$emit("update",{layerId:this.layerId,high:p})},updateValue(){const p=parseFloat(this.$refs.inputValue.value);isNaN(p)||this.$emit("update",{layerId:this.layerId,value:p})},updateQLayer(p){this.$emit("update",{layerId:this.layerId,quotientLayer:p})},updateProperty(p){this.$emit("update",{layerId:this.layerId,property:p,quotientLayer:this.quotientLayer})},close(){this.$emit("close",{layerId:this.layerId})}}}},4814:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(c,e)=>{for(var r in e)n(c,r,{get:e[r],enumerable:!0})},N=(c,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of D(e))!F.call(c,v)&&v!==r&&n(c,v,{get:()=>e[v],enumerable:!(u=f(e,v))||u.enumerable});return c},j=c=>N(n({},"__esModule",{value:!0}),c),E={};A(E,{render:()=>p,staticRenderFns:()=>w}),b.exports=j(E);var p=function(){var e=this,r=e._self._c;return r("Tool",{attrs:{title:e.$t("additional:modules.tools.cosi.queryDistricts.title"),icon:e.icon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"deactivate-gfi":e.deactivateGFI},scopedSlots:e._u([{key:"toolBody",fn:function(){return[r("ToolInfo",{attrs:{url:e.readmeUrl,locale:e.currentLocale}}),e._v(" "),r("v-app",[e.active?r("div",{staticClass:"compare-districts",attrs:{id:"queryDistricts"}},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"mb-5 overline"},[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.subTitle"))+`
                    `)])]),e._v(" "),r("v-autocomplete",{staticClass:"qd-select",attrs:{id:"layerfilter-selector-container",label:e.$t("additional:modules.tools.cosi.queryDistricts.layerDropdownLabel"),title:e.$t("additional:modules.tools.cosi.queryDistricts.layerDropdownLabeltooltip"),"item-text":"name","item-value":"id",items:e.layerOptions,clearable:!1,outlined:"",dense:"","return-object":""},model:{value:e.selectedLayer,callback:function(u){e.selectedLayer=u},expression:"selectedLayer"}}),e._v(" "),r("v-autocomplete",{staticClass:"qd-select",attrs:{id:"district-selector-container",label:e.$t("additional:modules.tools.cosi.queryDistricts.districtDropdownLabel"),items:e.districtNames,clearable:!0,outlined:"",dense:""},model:{value:e.selectedDistrict,callback:function(u){e.selectedDistrict=u},expression:"selectedDistrict"}}),e._v(" "),r("v-btn",{staticClass:"mr-2",attrs:{id:"add-filter",dense:"",small:"",tile:"",color:"grey lighten-1",disabled:e.selectedLayer===null},on:{click:function(u){return e.addLayerFilter()}}},[r("span",[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.add"))+`
                    `)])]),e._v(" "),r("v-btn",{attrs:{id:"reset-district",dense:"",small:"",tile:"",color:"grey lighten-1",disabled:e.layerFilterModels.length===0},on:{click:function(u){return e.resetDistrictSelection()}}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.resetSelection"))+`
                `)]),e._v(" "),r("v-divider"),e._v(" "),e.dataSets.length>0||e.layerFilterModels.length>0?r("AnalysisPagination",{attrs:{sets:e.dataSets,"active-set":e.activeSet,"add-function":!0,downloads:["XLS"],"download-condition":!!e.layerFilterModels.length,"remove-condition":e.dataSets.length>1,titles:{add:[e.$t("additional:modules.tools.cosi.queryDistricts.paginationAdd")],downloads:[e.$t("additional:modules.tools.cosi.queryDistricts.exportTable")],downloadAll:e.$t("additional:modules.tools.cosi.queryDistricts.paginationDownloadAll"),remove:e.$t("additional:modules.tools.cosi.queryDistricts.paginationRemove"),removeAll:e.$t("additional:modules.tools.cosi.queryDistricts.paginationRemoveAll")}},on:{setActiveSet:u=>e.setActiveSet(u),removeSingle:u=>e.removeSet(u),addSet:e.addSet,removeAll:e.removeAll,downloadXLS:u=>e.exportTable(u),downloadAll:e.downloadAll}}):e._e(),e._v(" "),e.layerFilterModels.length>0?r("v-divider"):e._e(),e._v(" "),e._l(e.dataSets,function(u,v){return r("div",{key:v,staticClass:"result",class:[e.activeSet===v?"active":"","result_"+v],attrs:{id:"results"}},[e.layerFilterModels.length>0?r("div",{staticClass:"d-flex overline"},[r("div",{staticClass:"mb-5"},[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.setParams"))+`
                        `)]),e._v(" "),e.selectedDistrict?r("div",{staticClass:"ml-auto",attrs:{id:"reference-district"}},[r("span",[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.referenceDistrict"))+`:
                            `)]),e._v(" "),r("span",{staticClass:"name-tag district-name",attrs:{id:"reference-district-button",role:"button",tabindex:"0"},on:{click:function(g){return e.zoomToDistrict({name:e.selectedDistrict})},keyUp:()=>null}},[e._v(e._s(e.selectedDistrict))])]):e._e()]):e._e(),e._v(" "),e._l(e.layerFilterModels,function(g){return r("LayerFilter",e._b({key:g.layerId,staticClass:"layer-filter",attrs:{id:"layer-filter",locale:e.currentLocale},on:{update:e.updateFilter,close:e.closeFilter}},"LayerFilter",g,!1))}),e._v(" "),e.resultNames?r("v-divider"):e._e(),e._v(" "),e.resultNames?r("div",{attrs:{id:"compare-results"}},[r("div",{staticClass:"d-flex overline"},[e.layerFilterModels.length>0?r("div",{staticClass:"mb-5"},[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.comparableResults"))+`
                            `)]):e._e(),e._v(" "),e.selectedDistrict?r("div",{staticClass:"ml-auto",attrs:{id:"reference-district"}},[r("span",[e._v(`
                                    `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.referenceDistrict"))+`:
                                `)]),e._v(" "),r("span",{staticClass:"name-tag district-name",attrs:{id:"reference-district-button",role:"button",tabindex:"0"},on:{click:function(g){return e.zoomToDistrict({name:e.selectedDistrict})},keyUp:()=>null}},[e._v(e._s(e.selectedDistrict))])]):e._e()]),e._v(" "),e.resultNames.length>0?r("v-data-table",{staticClass:"elevation-1",attrs:{id:"result-table",dense:"",headers:e.resultTableHeaders,items:e.results,"item-key":"name","footer-props":{"items-per-page-text":e.$t("additional:modules.tools.cosi.queryDistricts.rowsPerPage"),"items-per-page-all-text":e.$t("additional:modules.tools.cosi.queryDistricts.rowsPerPageAll")}},on:{"click:row":e.zoomToDistrict},scopedSlots:e._u([e._l(e.resultTableHeaders.filter(g=>g.value!=="name"),function(g){return{key:`item.${g.value}`,fn:function({item:x,header:o}){return[e._v(`
                                `+e._s(parseFloat(x[o.value]).toLocaleString(e.currentLocale))+`
                            `)]}}})],null,!0)}):e._e(),e._v(" "),r("v-divider"),e._v(" "),e.resultNames&&e.resultNames.length?r("v-btn",{staticClass:"mr-2",attrs:{id:"set-selected-district",dense:"",small:"",tile:"",color:"grey lighten-1"},on:{click:function(g){return e.changeDistrictSelection()}}},[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.resultAsSelection"))+`
                        `)]):e._e(),e._v(" "),e.resultNames&&e.resultNames.length?r("v-btn",{attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.queryDistricts.exportTable")},on:{click:function(g){return e.exportTable()}}},[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.exportTable"))+`
                        `)]):e._e()],1):e._e()],2)})],2):e._e()])]},proxy:!0}])})},w=[];p._withStripped=!0},4815:function(b,O,i){var n=Object.defineProperty,f=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,F=Object.prototype.hasOwnProperty,A=(c,e)=>{for(var r in e)n(c,r,{get:e[r],enumerable:!0})},N=(c,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of D(e))!F.call(c,v)&&v!==r&&n(c,v,{get:()=>e[v],enumerable:!(u=f(e,v))||u.enumerable});return c},j=c=>N(n({},"__esModule",{value:!0}),c),E={};A(E,{render:()=>p,staticRenderFns:()=>w}),b.exports=j(E);var p=function(){var e=this,r=e._self._c;return r("div",{attrs:{id:"filter-panel"}},[r("button",{staticClass:"close",attrs:{id:"close-button",type:"button","aria-label":"Close"},on:{click:e.close}},[r("v-icon",{attrs:{dense:""}},[e._v(`
            mdi-close
        `)])],1),e._v(" "),r("h6",[r("strong",[e._v(e._s(e.name))])]),e._v(" "),r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{attrs:{id:"year",scope:"col"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.year"))+`
                `)]),e._v(" "),r("th"),e._v(" "),r("th",{attrs:{id:"minmax",scope:"col"}},[e._v(`
                    min.
                `)]),e._v(" "),r("th",{attrs:{id:"minmax",scope:"col"}},[e._v(`
                    max.
                `)]),e._v(" "),r("th",{attrs:{id:"reference",scope:"col"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.referenceValue"))+`
                `)]),e._v(" "),r("th",{attrs:{id:"reference",scope:"col"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.referenceValueType"))+`
                `)]),e._v(" "),r("th",{attrs:{id:"tolerance",scope:"col"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.queryDistricts.tolerance"))+`
                `)])])]),e._v(" "),r("tbody",[r("tr",[r("td",[r("v-select",{ref:"inputFieldValue",staticClass:"fit",attrs:{value:e.fieldValue,items:e.values,outlined:"",dense:"","hide-details":""},on:{change:e.updateFieldValue}})],1),e._v(" "),r("td",{staticClass:"missing-val-alert"},[e.invalidFeatures.length>0?r("v-icon",{attrs:{title:e.$t("additional:modules.tools.cosi.queryDistricts.invalidFeaturesWarning")+" ("+e.invalidFeatures.join(", ")+")"}},[e._v(`
                        mdi-alert
                    `)]):e._e()],1),e._v(" "),r("td",[e._v(e._s(e.min.toLocaleString(e.locale)))]),e._v(" "),r("td",[e._v(e._s(e.max.toLocaleString(e.locale)))]),e._v(" "),r("td",[r("input",{ref:"inputValue",staticClass:"number-input",attrs:{type:"number"},domProps:{value:e.value},on:{input:function(u){return e.updateValue()}}})]),e._v(" "),r("td",[e._v(`
                    `+e._s(e.valueType==="absolute"?e.$t("additional:modules.tools.cosi.queryDistricts.valueTypeAbsolute"):e.$t("additional:modules.tools.cosi.queryDistricts.valueTypeRelative"))+`
                `)]),e._v(" "),r("td",[r("table",[r("tr",[e._m(0),e._v(" "),r("td",[r("input",{ref:"inputLow",staticClass:"number-input",attrs:{type:"number",min:"0"},domProps:{value:e.low},on:{input:function(u){return e.updateLow()}}})])]),e._v(" "),r("tr",[e._m(1),e._v(" "),r("td",[r("input",{ref:"inputHigh",staticClass:"number-input",attrs:{type:"number",min:"0"},domProps:{value:e.high},on:{input:function(u){return e.updateHigh()}}})])])])])])])]),e._v(" "),r("v-row",[r("v-col",[e.properties&&e.properties.length>0?[r("v-select",{staticClass:"property-select val-select",attrs:{label:e.$t("additional:modules.tools.cosi.queryDistricts.selectProperty"),value:e.property,items:e.properties,"item-text":"name","item-value":"id",outlined:"",dense:"","hide-details":"",clearable:!0},on:{change:e.updateProperty}})]:e._e()],2),e._v(" "),r("v-col",[e.valueType!=="relative"?[r("v-select",{staticClass:"quotient-layer-select val-select",attrs:{label:e.$t("additional:modules.tools.cosi.queryDistricts.selectQuotientLayer"),value:e.quotientLayer,items:e.quotientLayers,"item-text":"name","item-value":"id",outlined:"",dense:"","hide-details":"",clearable:!0},on:{change:e.updateQLayer}})]:e._e()],2)],1),e._v(" "),r("div",{staticClass:"error-msg"},[e._v(`
        `+e._s(e.error)+`
    `)])],1)},w=[function(){var c=this,e=c._self._c;return e("td",[e("span",[c._v("-")])])},function(){var c=this,e=c._self._c;return e("td",[e("span",[c._v("+")])])}];p._withStripped=!0},4816:function(b,O,i){},4817:function(b,O,i){},5420:function(b,O,i){"use strict";i.r(O);var n=i(5421),f=i(4403);for(var D in f)["default"].indexOf(D)<0&&function(j){i.d(O,j,function(){return f[j]})}(D);var F=i(5425),A=i(1),N=Object(A.a)(f.default,n.render,n.staticRenderFns,!1,null,"6a5bd490",null);O.default=N.exports},5421:function(b,O,i){"use strict";var n=i(4814),f=i.n(n);i.o(n,"render")&&i.d(O,"render",function(){return n.render}),i.o(n,"staticRenderFns")&&i.d(O,"staticRenderFns",function(){return n.staticRenderFns})},5422:function(b,O,i){"use strict";i.r(O);var n=i(5423),f=i(4405);for(var D in f)["default"].indexOf(D)<0&&function(j){i.d(O,j,function(){return f[j]})}(D);var F=i(5424),A=i(1),N=Object(A.a)(f.default,n.render,n.staticRenderFns,!1,null,"6e9be708",null);O.default=N.exports},5423:function(b,O,i){"use strict";var n=i(4815),f=i.n(n);i.o(n,"render")&&i.d(O,"render",function(){return n.render}),i.o(n,"staticRenderFns")&&i.d(O,"staticRenderFns",function(){return n.staticRenderFns})},5424:function(b,O,i){"use strict";var n=i(4816),f=i.n(n)},5425:function(b,O,i){"use strict";var n=i(4817),f=i.n(n)}}]);
