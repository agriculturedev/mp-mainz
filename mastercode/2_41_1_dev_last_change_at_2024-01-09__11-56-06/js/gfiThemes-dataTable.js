(window.webpackJsonp=window.webpackJsonp||[]).push([[70,174,175],{234:function(v,g,s){var l=Object.create,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,P=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,m=(a,b)=>{for(var j in b)u(a,j,{get:b[j],enumerable:!0})},x=(a,b,j,S)=>{if(b&&typeof b=="object"||typeof b=="function")for(let D of y(b))!w.call(a,D)&&D!==j&&u(a,D,{get:()=>b[D],enumerable:!(S=h(b,D))||S.enumerable});return a},d=(a,b,j)=>(j=a!=null?l(P(a)):{},x(b||!a||!a.__esModule?u(j,"default",{value:a,enumerable:!0}):j,a)),c=a=>x(u({},"__esModule",{value:!0}),a),_={};m(_,{default:()=>p}),v.exports=c(_);var t=d(s(5547)),n=d(s(4014)),i=d(s(4015)),p={component:t.default,locales:{de:n.default,en:i.default}}},4014:function(v){v.exports=JSON.parse('{"addons":{"gfiThemes":{"dataTable":{"reset":"Alles zur\xFCcksetzen","countLabel":{"artenKataster":"Anzahl Arten: "}}}}}')},4015:function(v){v.exports=JSON.parse('{"addons":{"gfiThemes":{"dataTable":{"reset":"Reset All","countLabel":{"artenKataster":"Count of types: "}}}}}')},4478:function(v,g,s){"use strict";s.r(g);var l=s(4479),u=s.n(l);for(var h in l)["default"].indexOf(h)<0&&function(y){s.d(g,y,function(){return l[y]})}(h);g.default=u.a},4479:function(v,g,s){var l=Object.create,u=Object.defineProperty,h=Object.defineProperties,y=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,_=(e,r,o)=>r in e?u(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,t=(e,r)=>{for(var o in r||(r={}))d.call(r,o)&&_(e,o,r[o]);if(m)for(var o of m(r))c.call(r,o)&&_(e,o,r[o]);return e},n=(e,r)=>h(e,P(r)),i=(e,r)=>{for(var o in r)u(e,o,{get:r[o],enumerable:!0})},p=(e,r,o,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let O of w(r))!d.call(e,O)&&O!==o&&u(e,O,{get:()=>r[O],enumerable:!(f=y(r,O))||f.enumerable});return e},a=(e,r,o)=>(o=e!=null?l(x(e)):{},p(r||!e||!e.__esModule?u(o,"default",{value:e,enumerable:!0}):o,e)),b=e=>p(u({},"__esModule",{value:!0}),e),j={};i(j,{default:()=>U}),v.exports=b(j);var S=s(8),D=a(s(828)),R=s(166),F=a(s(1213)),E=a(s(18)),L=a(s(2093)),T=a(s(2105)),A=s(5),M=a(s(5549)),U={name:"DataTable",components:{ExportButtonCSV:F.default,Multiselect:L.default},props:{feature:{type:Object,required:!0}},data(){return{columns:this.getColumns(this.feature.getAttributesToShow()),rows:this.feature.getFeatures().map(e=>e.getMappedProperties()),dropdownSelected:{},filterObject:{},originFilteredRows:void 0}},computed:n(t(t(t({},(0,S.mapGetters)("Language",["currentLocale"])),(0,S.mapGetters)("Maps",["projection"])),(0,S.mapGetters)("Tools/Gfi",Object.keys(D.default))),{originRows:function(){return this.feature.getFeatures().map(e=>e.getMappedProperties())},enableDownload:function(){var e,r,o;return((o=(r=(e=this.feature)==null?void 0:e.getTheme())==null?void 0:r.params)==null?void 0:o.enableDownload)||!1},isSortable:function(){var e,r;return((r=(e=this.feature.getTheme())==null?void 0:e.params)==null?void 0:r.isSortable)||!1},isFilterable:function(){var e,r;return((r=(e=this.feature.getTheme())==null?void 0:e.params)==null?void 0:r.isFilterable)||!1},showCount:function(){var e,r;return(r=(e=this.feature.getTheme())==null?void 0:e.params)==null?void 0:r.showCount},sortingColumn:function(){return this.columns.find(e=>e.order!=="origin")},rowsWithAdditionalData(){var e,r;if(typeof((e=this.feature)==null?void 0:e.getBBox)!="function"||!((r=this.feature)!=null&&r.getBBox()))return this.rows;const o=JSON.parse(JSON.stringify(this.rows)),f=this.feature.getBBox(),O=this.projection.getCode(),C=(0,A.getCenter)(f);return o.forEach(B=>{const I={EPSG:O,Rechtswert:C[0],Hochwert:C[1]};Object.assign(B,I)}),o}}),watch:{filterObject:{handler(){const e=this.getFilteredRows(this.filterObject,this.originRows);this.originFilteredRows=e,this.sortingColumn?this.rows=this.getSortedRows(this.originFilteredRows?this.originFilteredRows:this.rows,this.sortingColumn.order,this.sortingColumn.name):this.rows=e},deep:!0}},created(){var e;this.fileName=(e=this.feature)==null?void 0:e.getTitle()},methods:{isWebLink:R.isWebLink,isObject:E.default,getUniqueValuesByName:M.default,getColumns(e){return Object.keys(e).map((r,o)=>({name:e[r],order:"origin",index:o}))},getIconClassByOrder(e){return e==="asc"?"bi-arrow-up":e==="desc"?"bi-arrow-down":"bi-arrow-down-up origin-order"},getOldSortedColumn(e,r){return e.find(o=>o.order!=="origin"&&o.index!==r)},getSortedRows(e,r,o){if(r==="origin")return this.originFilteredRows?this.originFilteredRows:this.originRows;const f=[...e].sort((O,C)=>typeof O[o]>"u"?-1:typeof C[o]>"u"?1:(0,T.default)(O[o],C[o],this.currentLocale,{ignorePunctuation:!0}));return r==="asc"?f:f.reverse()},getSortOrder(e){return e==="origin"?"asc":e==="asc"?"desc":"origin"},runSorting(e){const r=this.getOldSortedColumn(this.columns,e.index);r&&(r.order="origin"),e.order=this.getSortOrder(e.order),this.rows=this.getSortedRows(this.originFilteredRows?this.originFilteredRows:this.rows,e.order,e.name)},getSortedUniqueValues(e,r){return(0,M.default)(e,r).sort((f,O)=>(0,T.default)(f,O,this.currentLocale,{ignorePunctuation:!0}))},addFilter(e,r){if(typeof e!="string"||typeof r!="string")return;const o=e.toLowerCase(),f=JSON.parse(JSON.stringify(this.filterObject));Object.prototype.hasOwnProperty.call(f,r)||(f[r]={}),f[r][o]=!0,this.filterObject=f},removeFilter(e,r){if(typeof e!="string"||typeof r!="string")return;const o=e.toLowerCase(),f=JSON.parse(JSON.stringify(this.filterObject));Object.keys(f[r]).length===1?delete f[r]:delete f[r][o],this.filterObject=f},getFilteredRows(e,r){return!(0,E.default)(e)||!Array.isArray(r)?[]:r.filter(o=>{let f=!0,O=!0;return Object.keys(e).forEach(C=>{if(!O)return;(typeof o[C]=="string"?e[C][o[C].toLowerCase()]:!1)||(O=!1,f=!1)}),f})},resetAll(){this.filterObject={},this.dropdownSelected={},this.sortingColumn&&this.columns.forEach(e=>{e.order="origin"}),this.rows=this.originRows,this.columns=this.getColumns(this.feature.getAttributesToShow())},getZIndex(e){return{"z-index":this.columns.length-e}}}}},4885:function(v,g,s){var l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,P=(_,t)=>{for(var n in t)l(_,n,{get:t[n],enumerable:!0})},w=(_,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let p of h(t))!y.call(_,p)&&p!==n&&l(_,p,{get:()=>t[p],enumerable:!(i=u(t,p))||i.enumerable});return _},m=_=>w(l({},"__esModule",{value:!0}),_),x={};P(x,{render:()=>d,staticRenderFns:()=>c}),v.exports=m(x);var d=function(){var t=this,n=t._self._c;return n("div",{class:t.enableDownload?"enable-download":"",attrs:{id:"table-data-container"}},[typeof t.showCount<"u"?n("div",{staticClass:"count"},[n("b",[t._v(t._s(t.$t(t.showCount)))]),t._v(" "+t._s(t.rows.length)+`
    `)]):t._e(),t._v(" "),n("table",{staticClass:"table table-hover"},[n("thead",t._l(t.columns,function(i){return n("th",{key:i.index,staticClass:"filter-select-box-container",class:[typeof t.showCount<"u"?"more-sticky":""],style:t.getZIndex(i.index)},[t.isFilterable?n("span",{staticClass:"multiselect-dropdown"},[n("Multiselect",{staticClass:"multiselect-dropdown",attrs:{options:t.getSortedUniqueValues(i.name,t.originRows),multiple:!0,"show-labels":!1,"open-direction":"auto","close-on-select":!0,"clear-on-select":!1,searchable:!1,placeholder:"",taggable:!0},on:{select:p=>t.addFilter(p,i.name),remove:p=>t.removeFilter(p,i.name)},model:{value:t.dropdownSelected[i.name],callback:function(p){t.$set(t.dropdownSelected,i.name,p)},expression:"dropdownSelected[col.name]"}},[n("template",{slot:"selection"},[n("span",{staticClass:"multiselect__single"},[t._v(t._s(i.name))])]),t._v(`d
                    `)],2)],1):n("span",[t._v(t._s(i.name))]),t._v(" "),t.isSortable?n("span",{staticClass:"bootstrap-icon",class:t.getIconClassByOrder(i.order)+" sort",attrs:{role:"button",tabindex:"0"},on:{click:function(p){return t.runSorting(i)},keypress:function(p){return t.runSorting(i)}}}):t._e()])}),0),t._v(`"
        `),t.rows.length>0?n("tbody",t._l(t.rows,function(i,p){return n("tr",{key:p},t._l(t.columns,function(a,b){return n("td",{key:b},[t.isWebLink(i[a.name])?n("a",{attrs:{href:i[a.name],target:"_blank"}},[t._v(`
                        `+t._s(i[a.name]?i[a.name]:"")+`
                    `)]):n("span",[t._v(`
                        `+t._s(i[a.name]?i[a.name]:"")+`
                    `)])])}),0)}),0):t._e()]),t._v(" "),t.enableDownload?n("div",{staticClass:"download"},[n("ExportButtonCSV",{attrs:{url:!1,filename:t.fileName,data:t.rowsWithAdditionalData,"use-semicolon":!0,title:t.$t("modules.tools.filter.download.labelBtn")}})],1):t._e(),t._v(" "),t.isFilterable||t.isSortable?n("div",{staticClass:"reset-all"},[n("button",{staticClass:"btn btn-primary reset",attrs:{type:"button"},on:{click:t.resetAll,keypress:t.resetAll}},[t._v(`
            `+t._s(t.$t("additional:addons.gfiThemes.dataTable.reset"))+`
        `)])]):t._e()])},c=[];d._withStripped=!0},4886:function(v,g,s){v.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},5547:function(v,g,s){"use strict";s.r(g);var l=s(5548),u=s(4478);for(var h in u)["default"].indexOf(h)<0&&function(m){s.d(g,m,function(){return u[m]})}(h);var y=s(5550),P=s(1),w=Object(P.a)(u.default,l.render,l.staticRenderFns,!1,null,null,null);g.default=w.exports},5548:function(v,g,s){"use strict";var l=s(4885),u=s.n(l);s.o(l,"render")&&s.d(g,"render",function(){return l.render}),s.o(l,"staticRenderFns")&&s.d(g,"staticRenderFns",function(){return l.staticRenderFns})},5549:function(v,g){var s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,y=(d,c)=>{for(var _ in c)s(d,_,{get:c[_],enumerable:!0})},P=(d,c,_,t)=>{if(c&&typeof c=="object"||typeof c=="function")for(let n of u(c))!h.call(d,n)&&n!==_&&s(d,n,{get:()=>c[n],enumerable:!(t=l(c,n))||t.enumerable});return d},w=d=>P(s({},"__esModule",{value:!0}),d),m={};y(m,{default:()=>x}),v.exports=w(m);function x(d,c){if(typeof d!="string"||!Array.isArray(c)||!c.length)return[];const _={};return c.forEach(t=>{typeof t[d]<"u"&&!_[t[d]]&&(_[t[d]]=!0)}),Object.keys(_)}},5550:function(v,g,s){"use strict";var l=s(4886),u=s.n(l)}}]);
