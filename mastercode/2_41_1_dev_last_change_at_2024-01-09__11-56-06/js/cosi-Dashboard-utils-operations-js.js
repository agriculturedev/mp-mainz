(window.webpackJsonp=window.webpackJsonp||[]).push([[278,290,386,424],{3655:function(E,K,A){var k=Object.create,j=Object.defineProperty,N=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,U=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,F=(t,o)=>{for(var s in o)j(t,s,{get:o[s],enumerable:!0})},I=(t,o,s,y)=>{if(o&&typeof o=="object"||typeof o=="function")for(let p of J(o))!R.call(t,p)&&p!==s&&j(t,p,{get:()=>o[p],enumerable:!(y=N(o,p))||y.enumerable});return t},P=(t,o,s)=>(s=t!=null?k(U(t)):{},I(o||!t||!t.__esModule?j(s,"default",{value:t,enumerable:!0}):s,t)),b=t=>I(j({},"__esModule",{value:!0}),t),S={};F(S,{add:()=>a,covar:()=>z,default:()=>ee,diffConDis:()=>x,divide:()=>B,interpolate:()=>X,kendalls:()=>W,linearRegression:()=>q,mean:()=>l,median:()=>D,multiply:()=>g,pearsons:()=>Q,standardError:()=>G,stdDev:()=>Z,subtract:()=>d,sum:()=>$,yEst:()=>H}),E.exports=b(S);var c=P(A(4204));function u(...t){for(const o of t)if(typeof o!="number")return!1;return!0}function D(t){if(!u(...t))return;const o=t.sort(),s=Math.ceil(o.length/2);return o.length%2===0?(o[s]+o[s-1])/2:o[s-1]}function l(t){if(u(...t))return t.reduce((o,s)=>o+s,0)/t.length}function a(t,o){if(u(t,o))return t+o}function d(t,o){if(u(t,o))return t-o}function g(t,o){if(u(t,o))return t*o}function B(t,o){if(u(t,o))return t/o}function $(t){if(u(...t))return t.reduce((o,s)=>o+s,0)}function x(t,o){const s=t.length;let y=0,p=0;for(let m=0;m<s;m++)for(let _=m+1;_<s;_++)m!==_&&(t[m]-t[_]>0==o[m]-o[_]>0?y++:p++);return y-p}function z(t,o){const s=c.mean(t),y=c.mean(o),p=t.length,m=new Array(p);for(let _=0;_<p;_++)m[_]=(t[_]-s)*(o[_]-y);return c.sum(m)/(p-1)}function Q(t,o){const s=z(t,o),y=c.deviation(t)*c.deviation(o);return s/y}function W(t,o){const s=t.length;return x(t,o)/(s*(s-1)/2)}function G(t,o){return Math.pow(t-o,2)}function Z(t,o){const s=[];let y;for(let p=0;p<t.length;p++)y=G(t[p].y,o[p]),s.push(y),t[p].stdDev=y;return s}function H(t,o){let s;const y=[];for(const p of t)s=o(p.x),y.push(s),p.yEst=s;return y}function q(t,o){let s,y,p=0,m=0,_=0,L=0;const M=l(t),Y=l(o);for(let e=0;e<t.length;e++)s=t[e]-M,y=o[e]-Y,p+=s*y,m+=s*s;return _=p/m,L=Y-_*M,e=>_*e+L}function X(t,o,s){const y=o.length;function p(m){return new Array(y).fill(0).map((L,M)=>M!==m?(t-o[M])/(o[m]-o[M]):null).filter(L=>L!==null).reduce((L,M)=>L*M,1)}return new Array(y).fill(0).map((m,_)=>p(_)*s[_]).reduce((m,_)=>m+_,0)}var ee={add:a,subtract:d,multiply:g,divide:B,sum:$,standardError:G,covar:z,pearsons:Q,kendalls:W,diffConDis:x,linearRegression:q,yEst:H,stdDev:Z,mean:l,median:D}},3711:function(E,K){var A=Object.defineProperty,k=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,N=Object.prototype.hasOwnProperty,J=(P,b)=>{for(var S in b)A(P,S,{get:b[S],enumerable:!0})},U=(P,b,S,c)=>{if(b&&typeof b=="object"||typeof b=="function")for(let u of j(b))!N.call(P,u)&&u!==S&&A(P,u,{get:()=>b[u],enumerable:!(c=k(b,u))||c.enumerable});return P},R=P=>U(A({},"__esModule",{value:!0}),P),F={};J(F,{default:()=>I}),E.exports=R(F);function I(P,b){return!Array.isArray(P)||!Array.isArray(b)?(console.error("utils/array/intersect: Both passed parameters must be an array, but got "+typeof P+" and "+typeof b),[]):P.filter(S=>b.includes(S))}},3719:function(E,K,A){var k=Object.create,j=Object.defineProperty,N=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyNames,U=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,F=(c,u,D,l)=>{if(u&&typeof u=="object"||typeof u=="function")for(let a of J(u))!R.call(c,a)&&a!==D&&j(c,a,{get:()=>u[a],enumerable:!(l=N(u,a))||l.enumerable});return c},I=(c,u,D)=>(D=c!=null?k(U(c)):{},F(u||!c||!c.__esModule?j(D,"default",{value:c,enumerable:!0}):D,c)),P=I(A(18));function b(c,u){if(!Array.isArray(c)){console.error("DistrictSelector/utils/districts/getDistrictByName: The first parameter must be an array, but got "+typeof c);return}if(typeof u!="string"){console.error("DistrictSelector/utils/districts/getDistrictByName: The second parameter must be a string, but got "+typeof u);return}return c.find(D=>D.getName()===u)}function S(c,u){if((0,P.default)(c)){if(!Array.isArray(c.statFeatures)){console.error("DistrictSelector/utils/districts/getStatisticByCategory: The given district has no stats");return}if(typeof u!="string"){console.error("DistrictSelector/utils/districts/getStatisticByCategory: The second parameter must be a string, but got "+typeof u);return}return c.statFeatures.find(D=>D.get("kategorie")===u)}}E.exports={getDistrictByName:b,getStatisticByCategory:S}},3929:function(E,K,A){var k=Object.create,j=Object.defineProperty,N=Object.defineProperties,J=Object.getOwnPropertyDescriptor,U=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertyNames,F=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,S=(e,r,n)=>r in e?j(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,c=(e,r)=>{for(var n in r||(r={}))P.call(r,n)&&S(e,n,r[n]);if(F)for(var n of F(r))b.call(r,n)&&S(e,n,r[n]);return e},u=(e,r)=>N(e,U(r)),D=(e,r)=>{for(var n in r)j(e,n,{get:r[n],enumerable:!0})},l=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of R(r))!P.call(e,f)&&f!==n&&j(e,f,{get:()=>r[f],enumerable:!(i=J(r,f))||i.enumerable});return e},a=(e,r,n)=>(n=e!=null?k(I(e)):{},l(r||!e||!e.__esModule?j(n,"default",{value:e,enumerable:!0}):n,e)),d=e=>l(j({},"__esModule",{value:!0}),e),g={};D(g,{addCalculation:()=>ee,addDivideSelectedCalculations:()=>X,calculateAll:()=>q,calculateCorrelation:()=>p,calculateStats:()=>t,createItemForCalc:()=>M,deleteStats:()=>Y,divideSelected:()=>s,getAverage:()=>m,getCalculationId:()=>H,getCulmulativeTotal:()=>L,getTotal:()=>_,getXYPairs:()=>y,sumUpSelected:()=>o}),E.exports=d(g);var B=a(A(21)),$=a(A(3711)),x=a(A(3655)),z=A(3719);const Q={add:"+",subtract:"-",multiply:"*",divide:"/"},W={add:"absolute",subtract:"absolute",multiply:"relative",divide:"relative"};function G(e,r){for(const n in e)n.includes(r)&&delete e[n];return e}function Z(e,r){const n=e.statFeatures.findIndex(i=>i.get("kategorie")===r.get("kategorie"));n>-1&&e.statFeatures.splice(n,1),e.statFeatures.push(r)}function H(e){return e.operation==="sumUpSelected"?e.selectedCategories.join(" + "):e.category_A+` ${Q[e.operation]} `+e.category_B}function q(){for(const e of this.calculations)e.operation==="sumUpSelected"?this.sumUpSelected(e):e.operation==="divideSelected"?this.divideSelected(e):this.calculateStats(e)}function X(){for(const e of this.selectedItems)this.addCalculation("divide",{field_A:e,field_B:this.fields.B})}function ee(e,r={},n=void 0){const i={operation:e},f=r.field_A||this.fields.A,O=r.field_B||this.fields.B,v=r.selectedItems||this.selectedItems;e==="sumUpSelected"?i.selectedCategories=v.map(w=>w.category):(i.category_A=f.category,i.category_B=O.category),i.id=n||H(i),this.setCalculation(i)}function t(e){var r,n;let i,f,O,v,w,h=null;const T=this.items.find(V=>V.category===e.category_A),C=this.items.find(V=>V.category===e.category_B),te={category:e.id,group:"Berechnungen",valueType:W[e.operation],isTemp:!0,calculation:e};if(T&&C){this.addCategoryToMapping(te),h=(0,$.default)(T.years,C.years);for(const V of this.districtColumns){i=u(c({},T[V.value]),{kategorie:te.category,group:te.group}),G(i,this.timestampPrefix);for(const re of h)O=parseFloat((r=T[V.value])==null?void 0:r[this.timestampPrefix+re]),v=parseFloat((n=C[V.value])==null?void 0:n[this.timestampPrefix+re]),w=x.default[e.operation](O,v),i[this.timestampPrefix+re]=w;f=new B.default(i),Z(V.district,f)}this.updateDistricts()}}function o(e){let r,n,i,f,O=null;const v=this.items.filter(h=>e.selectedCategories.includes(h.category)),w={category:e.id,group:"Berechnungen",valueType:"absolute",isTemp:!0};if(!(v.some(h=>!h)||v.length===0)){this.addCategoryToMapping(w),O=v.reduce((h,T)=>(0,$.default)(h,T.years),[...v[0].years]);for(const h of this.districtColumns)if(!v.find(T=>!T[h.value])){r=u(c({},v[0][h.value]),{kategorie:w.category,group:w.group}),G(r,this.timestampPrefix);for(const T of O)i=v.map(C=>parseFloat(C[h.value][this.timestampPrefix+T])),f=x.default.sum(i),r[this.timestampPrefix+T]=f;n=new B.default(r),h.district.statFeatures.push(n)}this.updateDistricts()}}function s(e){for(const r of e.selectedCategories)this.calculateStats({operation:"divide",category_A:r,category_B:e.category_B})}function y(e,r,n,i,f){const O=[];for(const v of n)for(const w of i){const h={district:v,timestamp:w,x:parseFloat(e[v][f+w]),y:parseFloat(r[v][f+w])};isNaN(h.x)||isNaN(h.y)||O.push(h)}return O}function p(){const e=(0,$.default)(this.fields.A.years,this.fields.B.years),r=y(this.fields.A,this.fields.B,this.selectedColumns.map(C=>C.value).filter(C=>C!=="average"&&C!=="total"),e,this.timestampPrefix),n=r.map(C=>C.x),i=r.map(C=>C.y),f=x.default.linearRegression(n,i),O=x.default.yEst(r,f),v=x.default.stdDev(r,O),w=x.default.mean(v),h=x.default.covar(n,i),T=x.default.pearsons(n,i);return{data:r,standardDeviation:w,covariance:h,correlation:T,regression:f}}function m(e,r,n,i){if(e?.valueType!=="absolute")return"-";let f=this.getTotal(e,r,n,i,!0);return f/=r.filter(O=>e[O]).length,f}function _(e,r,n,i,f=!1){var O;if(!f&&e?.calculation&&e?.valueType==="relative")return this.getCulmulativeTotal(e,r,n,i);if(!f&&e?.valueType!=="absolute")return"-";let v=0;for(const w of r)(O=e[w])!=null&&O[i+n]&&(v+=parseFloat(e[w][i+n]));return v}function L(e,r,n,i){const f=this.items.find(h=>h.category===e.calculation.category_A)||M(e.calculation.category_A,r,this.selectedDistrictLevel.districts),O=this.items.find(h=>h.category===e.calculation.category_B)||M(e.calculation.category_B,r,this.selectedDistrictLevel.districts),v=f?this.getTotal(f,r,n,i):void 0,w=O?this.getTotal(O,r,n,i):void 0;return v&&w?x.default[e.calculation.operation](v,w)*(e.calculation.modifier||1):"-"}function M(e,r,n){const i={valueType:"absolute"};return r.forEach(f=>{const O=(0,z.getDistrictByName)(n,f),v=(0,z.getStatisticByCategory)(O,e);i[f]=v.getProperties()}),i}function Y(e,r){this.removeCategoryFromMapping({category:e,group:r}),this.removeCalculation(e),this.updateDistricts()}},4166:function(E,K,A){var k=Object.defineProperty,j=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyNames,J=Object.prototype.hasOwnProperty,U=(l,a)=>{for(var d in a)k(l,d,{get:a[d],enumerable:!0})},R=(l,a,d,g)=>{if(a&&typeof a=="object"||typeof a=="function")for(let B of N(a))!J.call(l,B)&&B!==d&&k(l,B,{get:()=>a[B],enumerable:!(g=j(a,B))||g.enumerable});return l},F=l=>R(k({},"__esModule",{value:!0}),l),I={};U(I,{InternMap:()=>P,InternSet:()=>b}),E.exports=F(I);class P extends Map{constructor(a,d=D){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:d}}),a!=null)for(const[g,B]of a)this.set(g,B)}get(a){return super.get(S(this,a))}has(a){return super.has(S(this,a))}set(a,d){return super.set(c(this,a),d)}delete(a){return super.delete(u(this,a))}}class b extends Set{constructor(a,d=D){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:d}}),a!=null)for(const g of a)this.add(g)}has(a){return super.has(S(this,a))}add(a){return super.add(c(this,a))}delete(a){return super.delete(u(this,a))}}function S({_intern:l,_key:a},d){const g=a(d);return l.has(g)?l.get(g):d}function c({_intern:l,_key:a},d){const g=a(d);return l.has(g)?l.get(g):(l.set(g,d),d)}function u({_intern:l,_key:a},d){const g=a(d);return l.has(g)&&(d=l.get(g),l.delete(g)),d}function D(l){return l!==null&&typeof l=="object"?l.valueOf():l}}}]);
