(window.webpackJsonp=window.webpackJsonp||[]).push([[33,157,168,233,234,235,236,237,238,239],{205:function(F,L,m){var C=Object.create,b=Object.defineProperty,O=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,M=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,D=(_,o)=>{for(var i in o)b(_,i,{get:o[i],enumerable:!0})},j=(_,o,i,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let p of x(o))!E.call(_,p)&&p!==i&&b(_,p,{get:()=>o[p],enumerable:!(c=O(o,p))||c.enumerable});return _},P=(_,o,i)=>(i=_!=null?C(M(_)):{},j(o||!_||!_.__esModule?b(i,"default",{value:_,enumerable:!0}):i,_)),A=_=>j(b({},"__esModule",{value:!0}),_),g={};D(g,{default:()=>v}),F.exports=A(g);var t=P(m(5078)),s=P(m(3909)),d=P(m(3910)),u=P(m(3911)),v={component:t.default,store:s.default,locales:{de:d.default,en:u.default}}},3664:function(F,L){var m=Object.defineProperty,C=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,x=(A,g)=>{for(var t in g)m(A,t,{get:g[t],enumerable:!0})},M=(A,g,t,s)=>{if(g&&typeof g=="object"||typeof g=="function")for(let d of b(g))!O.call(A,d)&&d!==t&&m(A,d,{get:()=>g[d],enumerable:!(s=C(g,d))||s.enumerable});return A},E=A=>M(m({},"__esModule",{value:!0}),A),D={};x(D,{default:()=>P}),F.exports=E(D);var P={active:!1,id:"CommuterFlows",name:"translate#additional:modules.tools.commuterFlows.title",icon:"bi-arrow-left-right",renderToWindow:!0,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!0,metaVerPath:"",blacklistedDistricts:[],serviceURL:"",listChunk:5,setMarkerOnClickInList:!0,onstart:{captionsChecked:!0,numbersChecked:!0,beamsChecked:!0,animationChecked:!1,direction:"out"},olFont:"10pt sans-serif",olFontShadow:{color:[255,255,255,.8],width:5},olBeam:{color:[192,9,9,.8],width:3},olBubbleAlgorithm:"linear",olBubblePixelMax:50,olBubblePixelMin:5,olBubbleBorder:{color:[255,255,255,1],width:1},olBubbleColors:[[230,159,0,.75],[86,180,233,.75],[0,158,115,.75],[240,228,66,.75],[0,114,178,.75],[213,94,0,.75],[204,121,167,.75]],olBubbleColorShift:[0,-60,60],olZoomOptions:{padding:[20,20,20,400]},olAnimationPaces:[5e3,500]}},3775:function(F,L,m){var C=Object.create,b=Object.defineProperty,O=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,P=(c,p,a)=>p in c?b(c,p,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[p]=a,A=(c,p)=>{for(var a in p||(p={}))D.call(p,a)&&P(c,a,p[a]);if(M)for(var a of M(p))j.call(p,a)&&P(c,a,p[a]);return c},g=(c,p)=>{for(var a in p)b(c,a,{get:p[a],enumerable:!0})},t=(c,p,a,e)=>{if(p&&typeof p=="object"||typeof p=="function")for(let r of x(p))!D.call(c,r)&&r!==a&&b(c,r,{get:()=>p[r],enumerable:!(e=O(p,r))||e.enumerable});return c},s=(c,p,a)=>(a=c!=null?C(E(c)):{},t(p||!c||!c.__esModule?b(a,"default",{value:c,enumerable:!0}):a,c)),d=c=>t(b({},"__esModule",{value:!0}),c),u={};g(u,{default:()=>i}),F.exports=d(u);var v=m(10),_=s(m(3664)),i=A({},(0,v.generateSimpleGetters)(_.default))},3776:function(F,L,m){var C=Object.create,b=Object.defineProperty,O=Object.defineProperties,x=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,g=(e,r,n)=>r in e?b(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,t=(e,r)=>{for(var n in r||(r={}))P.call(r,n)&&g(e,n,r[n]);if(D)for(var n of D(r))A.call(r,n)&&g(e,n,r[n]);return e},s=(e,r)=>O(e,M(r)),d=(e,r)=>{for(var n in r)b(e,n,{get:r[n],enumerable:!0})},u=(e,r,n,h)=>{if(r&&typeof r=="object"||typeof r=="function")for(let w of E(r))!P.call(e,w)&&w!==n&&b(e,w,{get:()=>r[w],enumerable:!(h=x(r,w))||h.enumerable});return e},v=(e,r,n)=>(n=e!=null?C(j(e)):{},u(r||!e||!e.__esModule?b(n,"default",{value:e,enumerable:!0}):n,e)),_=e=>u(b({},"__esModule",{value:!0}),e),o={};d(o,{default:()=>a}),F.exports=_(o);var i=m(10),c=v(m(3664)),a=s(t({},(0,i.generateSimpleMutations)(c.default)),{applyTranslationKey:(e,r)=>{r&&r.indexOf("translate#")>-1&&(e.name=r.substr(10))}})},3861:function(F,L,m){var C=Object.create,b=Object.defineProperty,O=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,M=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,D=(_,o)=>{for(var i in o)b(_,i,{get:o[i],enumerable:!0})},j=(_,o,i,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let p of x(o))!E.call(_,p)&&p!==i&&b(_,p,{get:()=>o[p],enumerable:!(c=O(o,p))||c.enumerable});return _},P=(_,o,i)=>(i=_!=null?C(M(_)):{},j(o||!_||!_.__esModule?b(i,"default",{value:_,enumerable:!0}):i,_)),A=_=>j(b({},"__esModule",{value:!0}),_),g={};D(g,{CommuterAnimation:()=>v}),F.exports=A(g);var t=m(40),s=m(140),d=P(m(21)),u=m(454);class v{constructor(o,i,c,p,a,e){this.featureList=o,this.speeds=i,this.layers={bubbles:c,animation:p},this.layerAnimation=p,this.ol=a,this.styles=[],this.startTime=null,this.ol.hideLayer(this.layers.animation),this.ol.clearLayer(this.layers.animation),typeof v.moveFeatureRef=="function"&&this.ol.unPostRender(this.layers.animation,v.moveFeatureRef),Array.isArray(o)&&o.length&&o.forEach((r,n)=>{const h=r.get("coordinate"),w=new d.default(new s.Point(h));w.setStyle(new t.Style({image:new t.Circle({radius:0})})),this.ol.addFeature(this.layers.animation,w),this.styles.push(e(r,n))}),this.speedsTotal=0,Array.isArray(i)&&i.forEach(r=>{this.speedsTotal+=r})}start(){this.ol.hideLayer(this.layers.bubbles),this.ol.showLayer(this.layers.animation),typeof v.moveFeatureRef=="function"&&this.ol.unPostRender(this.layers.animation,v.moveFeatureRef),v.moveFeatureRef=o=>this.moveFeature(o),this.ol.onPostRender(this.layers.animation,v.moveFeatureRef),this.startTime=new Date().getTime(),this.ol.render()}stop(){this.startTime=null,typeof v.moveFeatureRef=="function"&&(this.ol.unPostRender(this.layers.animation,v.moveFeatureRef),v.moveFeatureRef=null),this.ol.hideLayer(this.layers.animation),this.ol.showLayer(this.layers.bubbles)}isRunning(){return this.startTime!==null}moveFeature(o){const i=(0,u.getVectorContext)(o),c=o.frameState;if(this.startTime){const p=c.time-this.startTime;this.featureList.forEach((a,e)=>{const r=this.getDistance(p,this.speedsTotal,this.speeds),n=a.getGeometry().getCoordinateAt(r),h=new d.default(new s.Point(n));i.drawFeature(h,this.styles[e])}),this.ol.render()}}getDistance(o,i,c){if(!o||typeof o!="number"||!i||typeof i!="number"||!Array.isArray(c)||!c.length)return 0;const p=o%i;let a=0,e=0;for(;a>=0;){if(e+=c[a],e>p){e=c[a]-(e-p);break}a++}return a%2===0?1/c[a]*e:1-1/c[a]*e}}},3907:function(F,L,m){var C=Object.create,b=Object.defineProperty,O=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,M=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,D=(_,o)=>{for(var i in o)b(_,i,{get:o[i],enumerable:!0})},j=(_,o,i,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let p of x(o))!E.call(_,p)&&p!==i&&b(_,p,{get:()=>o[p],enumerable:!(c=O(o,p))||c.enumerable});return _},P=(_,o,i)=>(i=_!=null?C(M(_)):{},j(o||!_||!_.__esModule?b(i,"default",{value:_,enumerable:!0}):i,_)),A=_=>j(b({},"__esModule",{value:!0}),_),g={};D(g,{CommuterApi:()=>v}),F.exports=A(g);var t=m(58),s=P(m(68)),d=P(m(25)),u=P(m(821));class v{constructor(o={}){this.cache={},this.options=Object.assign({useProxy:!1,blacklistedDistricts:[],serviceUrl:""},o)}getListDistricts(o,i){const c=this.options.useProxy?(0,s.default)(this.options.serviceUrl):this.options.serviceUrl;c&&this.getFeatureCall(c,{typename:"app:mrh_kreise",maxFeatures:"10000"},p=>{const a=this.parseResponseGetFeature(p,"app:mrh_kreise","app:kreisname",this.options.blacklistedDistricts);a.sort((e,r)=>e<r?-1:e>r?1:0),o(a)},i)}getListCities(o,i,c){const p=this.options.useProxy?(0,s.default)(this.options.serviceUrl):this.options.serviceUrl;p&&this.getFeatureCall(p,{StoredQuery_ID:"SamtgemeindeZuKreis",kreis:o},a=>{const e=this.parseResponseGetFeature(a,"app:mrh_samtgemeinden","app:gemeinde",this.options.blacklistedDistricts);e.sort((r,n)=>r<n?-1:r>n?1:0),i(e)},c)}getFeaturesDistrict(o,i,c,p,a,e){const r=this.options.useProxy?(0,s.default)(this.options.serviceUrl):this.options.serviceUrl;r&&this.getFilterCall(r,{featureType:"app:mrh_pendler_kreise",propertyName:i?"app:wohnort":"app:arbeitsort",literal:o},n=>{const h=this.convertXmlToFeatureList(n,"mrh_pendler_kreise"),w=this.translateFeatureList(h,i?"arbeitsort":"wohnort","anzahl_einpendler",["wohnort","arbeitsort","anzahl_einpendler","richtung"],i),k=this.removeBlacklistedFeatures(w,this.options.blacklistedDistricts),l=this.getMinValue(k),f=this.getMaxValue(k);k.sort((y,S)=>S.get("value")-y.get("value")),a({caption:o,featureList:this.paginateFeatureList(k,c,p),coordinate:this.getCenterCoordinate(k,i),totalMin:l,totalMax:f,totalLength:k.length,start:c,len:p&&p<=k.length?p:k.length,source:"getFeaturesDistrict"})},e)}getFeaturesCity(o,i,c,p,a,e){const r=this.options.useProxy?(0,s.default)(this.options.serviceUrl):this.options.serviceUrl;r&&this.getFilterCall(r,{featureType:"app:mrh_einpendler_gemeinde",propertyName:i?"app:wohnort":"app:arbeitsort",literal:o},n=>{const h=this.convertXmlToFeatureList(n,"mrh_einpendler_gemeinde"),w=this.translateFeatureList(h,i?"arbeitsort":"wohnort","anzahl_einpendler",["wohnort","wohnort_kreis","arbeitsort","arbeitsort_kreis","anzahl_einpendler","anzahl_einpendler_maenner","anzahl_einpendler_frauen","anzahl_einpendler_deutsche","anzahl_einpendler_andere","anzahl_einpendler_auszubildende","richtung"],i),k=this.removeBlacklistedFeatures(w,this.options.blacklistedDistricts),l=this.getMinValue(k),f=this.getMaxValue(k);k.sort((y,S)=>S.get("value")-y.get("value")),a({caption:o,featureList:this.paginateFeatureList(k,c,p),coordinate:this.getCenterCoordinate(k,i),totalMin:l,totalMax:f,totalLength:k.length,start:c,len:p&&p<=k.length?p:k.length,source:"getFeaturesCity"})},e)}removeBlacklistedFeatures(o,i){const c={},p=[];return i.forEach(a=>{c[a]=!0}),o.forEach(a=>{Object.prototype.hasOwnProperty.call(c,a.get("caption"))||p.push(a)}),p}paginateFeatureList(o,i,c){return i===0&&c===0?o:i>0&&c===0?o.slice(i):o.slice(i,i+c)}getMinValue(o){let i=0;return o.forEach(c=>{(i===0||c.get("value")<i)&&(i=c.get("value"))}),i}getMaxValue(o){let i=0;return o.forEach(c=>{c.get("value")>i&&(i=c.get("value"))}),i}getCenterCoordinate(o,i){return!Array.isArray(o)||!o.length?!1:i?o[0].getGeometry().getFirstCoordinate():o[0].getGeometry().getLastCoordinate()}translateFeatureList(o,i,c,p,a){return o.forEach(e=>{e.set("caption",e.get(i),!0),e.set("value",parseInt(e.get(c),10),!0),a?e.set("coordinate",e.getGeometry().getLastCoordinate(),!0):e.set("coordinate",e.getGeometry().getFirstCoordinate(),!0),p.forEach(r=>{e.unset(r,!0)})}),o}convertXmlToFeatureList(o,i){return new t.WFS({featureNS:"http://www.deegree.org/app",featureType:i}).readFeatures(o)}parseResponseGetFeature(o,i,c,p=[]){if(!(o instanceof Document)&&o.constructor.name!=="XMLDocument")return{};const a=o.getElementsByTagName(i),e=[],r={};return a instanceof HTMLCollection?(p.forEach(n=>{r[n]=!0}),Object.keys(a).forEach(n=>{const h=a[n];!(h instanceof Element)||!(h.attributes instanceof NamedNodeMap)||!(h.getElementsByTagName(c)instanceof HTMLCollection)||!h.getElementsByTagName(c).length||!(h.getElementsByTagName(c)[0]instanceof Element)||Object.prototype.hasOwnProperty.call(r,h.getElementsByTagName(c)[0].textContent)||e.push(h.getElementsByTagName(c)[0].textContent)}),e):{}}getFeatureCall(o,i,c,p){const a=Object.assign({service:"WFS",request:"GetFeature",version:"2.0.0"},i),e=u.default.sha1(o+"_"+JSON.stringify(a));if(Object.prototype.hasOwnProperty.call(this.cache,e)){c(this.cache[e]);return}d.default.get(o,{params:a}).then(r=>{var n;this.cache[e]=(n=r?.request)==null?void 0:n.responseXML,c(this.cache[e])}).catch(r=>p(r))}getFilterCall(o,i,c,p){const a=Object.assign({featureType:"",propertyName:"",literal:"",service:"WFS",version:"1.1.0"},i),e=`<?xml version='1.0' encoding='UTF-8' ?>
<wfs:GetFeature service='${a.service}' version='${a.version}' xmlns:app='http://www.deegree.org/app' xmlns:wfs='http://www.opengis.net/wfs' xmlns:ogc='http://www.opengis.net/ogc'>
    <wfs:Query typeName='${a.featureType}'>
        <ogc:Filter>
            <ogc:PropertyIsEqualTo>
                <ogc:PropertyName>${a.propertyName}</ogc:PropertyName>
                <ogc:Literal>${a.literal}</ogc:Literal>
            </ogc:PropertyIsEqualTo>
        </ogc:Filter>
    </wfs:Query>
</wfs:GetFeature>`,r=u.default.sha1(o+"_"+JSON.stringify(a));if(Object.prototype.hasOwnProperty.call(this.cache,r)){c(this.cache[r]);return}d.default.post(o,e,{headers:{"Content-Type":"text/xml"}}).then(n=>{this.cache[r]=n?.data,c(n?.data)}).catch(n=>p(n))}}},3908:function(F,L,m){(function(C){var b=Object.create,O=Object.defineProperty,x=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,E=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,j=(a,e)=>{for(var r in e)O(a,r,{get:e[r],enumerable:!0})},P=(a,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of M(e))!D.call(a,h)&&h!==r&&O(a,h,{get:()=>e[h],enumerable:!(n=x(e,h))||n.enumerable});return a},A=(a,e,r)=>(r=a!=null?b(E(a)):{},P(e||!a||!a.__esModule?O(r,"default",{value:a,enumerable:!0}):r,a)),g=a=>P(O({},"__esModule",{value:!0}),a),t={};j(t,{CommuterOL:()=>p}),F.exports=g(t);var s=m(40),d=m(5),u=A(m(48)),v=m(140),_=A(m(21)),o=A(m(121)),i=A(m(284)),c=m(3861);class p{constructor(e,r=null){this.options=Object.assign({font:"10pt sans-serif",fontShadow:{color:[255,255,255,.9],width:5},beam:{width:3},bubblePixelMax:50,bubblePixelMin:20,bubbleBorder:{color:[60,60,60,1],width:.5},bubbleColors:[[230,159,0,.75],[86,180,233,.75],[0,158,115,.75],[240,228,66,.75],[0,114,178,.75],[213,94,0,.75],[204,121,167,.75]],bubbleColorShift:[0,-60,60],zoomOptions:{padding:[20,20,20,400]},animationPaces:[6e3,300]},e),this.ol=Object.assign(this.getOpenlayersConnectors(),r),this.layers={beams:null,bubbles:null,animation:null,captions:null},this.ol.createLayerIfNotExists("CommuterOL_layerBeams",n=>{this.layers.beams=n}),this.ol.createLayerIfNotExists("CommuterOL_layerBubbles",n=>{this.layers.bubbles=n}),this.ol.createLayerIfNotExists("CommuterOL_layerAnimation",n=>{this.layers.animation=n}),this.ol.createLayerIfNotExists("CommuterOL_layerCaptions",n=>{this.layers.captions=n}),this.animation=null}getOpenlayersConnectors(){return{createLayerIfNotExists:(e,r)=>{const n=C.request("Map","createLayerIfNotExists",e);n instanceof u.default?r(n):n instanceof Promise&&n.then(h=>{r(h)})},getFeatures:e=>e instanceof u.default?e.getSource().getFeatures():null,addFeature:(e,r)=>{e instanceof u.default&&r instanceof _.default&&e.getSource().addFeature(r)},clearLayer:e=>{e instanceof u.default&&e.getSource().clear()},zoomToExtent:e=>{C.trigger("Map","zoomToExtent",{extent:e,options:this.options.zoomOptions})},showLayer:e=>{e instanceof u.default&&e.setVisible(!0)},hideLayer:e=>{e instanceof u.default&&e.setVisible(!1)},render:()=>{C.trigger("Map","render")},onPostRender:(e,r)=>{e instanceof u.default&&typeof r=="function"&&e.on("postrender",r)},unPostRender:(e,r)=>{e instanceof u.default&&typeof r=="function"&&e.un("postrender",r)},expandExtent:(e,r)=>(0,d.extend)(e,r)}}clearLayers(){this.removeCaptions(),this.removeBeams(),this.removeAnimation()}addCaptions(e,r,n,h=!0,w=!0){if(this.removeCaptions(),!h&&!w)return;const k=`
`;h&&this.ol.addFeature(this.layers.captions,this.getFeatureCaption(e,r)),n.forEach(l=>{let f="";h&&(f+=l.get("caption")+k),w&&(f+=(0,i.default)(l.get("value"))+k),h&&w&&(f+=k),this.ol.addFeature(this.layers.captions,this.getFeatureCaption(f+k,l.get("coordinate")))})}removeCaptions(){this.ol.clearLayer(this.layers.captions)}addBeams(e){this.removeBeams(),!(!Array.isArray(e)||!e.length)&&e.forEach((r,n)=>{this.ol.addFeature(this.layers.beams,this.getFeatureBeam(r,n))})}removeBeams(){this.ol.clearLayer(this.layers.beams)}initAnimation(e,r,n="area"){if(this.removeAnimation(),!Array.isArray(e)||!e.length)return;const h=this.getRadiusAlgorithm(n);e.forEach((w,k)=>{const l=h(w.get("value"),r,this.options.bubblePixelMax,this.options.bubblePixelMin),f=this.getColor(k),y=this.getFeatureBubble(w,l,f);this.ol.addFeature(this.layers.bubbles,y)}),this.animation=new c.CommuterAnimation(e,this.options.animationPaces,this.layers.bubbles,this.layers.animation,this.ol,(w,k)=>{const l=h(w.get("value"),r,this.options.bubblePixelMax,this.options.bubblePixelMin),f=this.getColor(k);return this.getBubbleStyle(l,f,this.options.bubbleBorder)})}startAnimation(){this.animation instanceof c.CommuterAnimation&&this.animation.start()}stopAnimation(){this.animation instanceof c.CommuterAnimation&&this.animation.stop()}isAnimationRunning(){return this.animation instanceof c.CommuterAnimation&&this.animation.isRunning()}removeAnimation(){this.stopAnimation(),this.animation=null,this.ol.clearLayer(this.layers.bubbles),this.ol.clearLayer(this.layers.animation)}zoomToExtent(e){const r=this.getExtentOfFeatures(e);this.ol.zoomToExtent(r)}getColor(e){return this.getBubbleColor(e,this.options.bubbleColors,this.options.bubbleColorShift)}getFeatureCaption(e,r){const n=new v.Point(r),h=new _.default(n);return h.set("styleId",(0,o.default)("CommuterOL")),h.setStyle(new s.Style({text:new s.Text({text:e,font:this.options.font,placement:"point",stroke:new s.Stroke(this.options.fontShadow)})})),h}getFeatureBeam(e,r){const n=new _.default({geometry:e.getGeometry()}),h=Object.assign({color:this.getColor(r)},this.options.beam);return n.set("styleId",(0,o.default)("CommuterOL")),n.setStyle(new s.Style({stroke:new s.Stroke(h)})),n}getFeatureBubble(e,r,n){const h=e.get("coordinate"),w=new _.default(new v.Point(h));return w.set("styleId",(0,o.default)("CommuterOL")),w.setStyle(this.getBubbleStyle(r,n,this.options.bubbleBorder)),w}getBubbleStyle(e,r,n){return new s.Style({image:new s.Circle({radius:e,fill:new s.Fill({color:r}),stroke:new s.Stroke(n)})})}getExtentOfFeatures(e){if(!Array.isArray(e)||!e.length)return[];let r=null;return e.forEach(n=>{if(!(n instanceof _.default))return;const h=n.getGeometry().getExtent();if(!r){r=h;return}this.ol.expandExtent(r,h)}),r}getBubbleColor(e,r,n){if(typeof e!="number"||e<0)return[0,0,0,1];if(!Array.isArray(r)||!Array.isArray(n)||!r.length||!n.length)return[0,0,0,1];const h=r[e%r.length],w=n[Math.floor(e/r.length)%n.length];return!Array.isArray(h)||h.length!==4?[0,0,0,1]:typeof w!="number"?h:[Math.min(255,Math.max(0,h[0]+w)),Math.min(255,Math.max(0,h[1]+w)),Math.min(255,Math.max(0,h[2]+w)),Math.min(1,Math.max(0,h[3]))]}getRadiusAlgorithm(e){switch(e){case"area":return this.calcRadiusArea;case"linear":return this.calcRadiusLinear;case"log":return this.calcRadiusLog10;default:return this.calcRadiusArea}}calcRadiusArea(e,r,n){if(typeof e!="number"||typeof r!="number"||typeof n!="number")return 0;if(e<=0||r<=0||n<=0)return 0;if(e>=r)return n;const h=Math.sqrt(r/Math.PI),w=Math.sqrt(e/Math.PI);return n/h*w}calcRadiusLinear(e,r,n,h=0){return typeof h!="number"?0:typeof e!="number"||typeof r!="number"||typeof n!="number"||n<=h||e<=0||r<=0?h:e>=r?n:(n-h)/r*e+h}calcRadiusLog10(e,r,n,h=0){return typeof h!="number"?0:typeof e!="number"||typeof r!="number"||typeof n!="number"||n<=h||e<=0||r<=0?h:e>=r?n:(n-h)/Math.log10(r)*Math.log10(e)+h}}}).call(this,m(3))},3909:function(F,L,m){var C=Object.create,b=Object.defineProperty,O=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,P=(a,e,r)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,A=(a,e)=>{for(var r in e||(e={}))D.call(e,r)&&P(a,r,e[r]);if(M)for(var r of M(e))j.call(e,r)&&P(a,r,e[r]);return a},g=(a,e)=>{for(var r in e)b(a,r,{get:e[r],enumerable:!0})},t=(a,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let h of x(e))!D.call(a,h)&&h!==r&&b(a,h,{get:()=>e[h],enumerable:!(n=O(e,h))||n.enumerable});return a},s=(a,e,r)=>(r=a!=null?C(E(a)):{},t(e||!a||!a.__esModule?b(r,"default",{value:a,enumerable:!0}):r,a)),d=a=>t(b({},"__esModule",{value:!0}),a),u={};g(u,{default:()=>p}),F.exports=d(u);var v=s(m(2099)),_=s(m(4218)),o=s(m(3775)),i=s(m(3776)),c=s(m(3664)),p=(0,_.default)([v.default,{namespaced:!0,state:A({},c.default),mutations:i.default,getters:o.default}])},3910:function(F){F.exports=JSON.parse('{"modules":{"tools":{"CommuterFlows":{"title":"Pendlerstr\xF6me","selectDistrict":"Landkreis/kreisfreie Stadt ausw\xE4hlen","labelDistrict":"Landkreis/kreisfreie Stadt","selectCity":"Stadt/Gemeinde ausw\xE4hlen","labelCity":"Stadt/Gemeinde","checkName":"Namen anzeigen","checkNumber":"Werte anzeigen","checkBeams":"Linien anzeigen","checkAnimation":"Animation anzeigen","buttonStart":"Start","buttonStop":"Stop","selectOut":"Auspendler","selectIn":"Einpendler","tooltipOut":"Anzahl Besch\xE4ftigter (sozialversicherungspflichtig), die im ausgew\xE4hlten Gebiet wohnen und in die angezeigten Gebiete pendeln.","tooltipIn":"Anzahl Besch\xE4ftigter (sozialversicherungspflichtig), die im ausgew\xE4hlten Gebiet arbeiten und aus den angezeigten Gebieten pendeln.","buttonLess":"{{listChunk}} weniger","buttonMore":"{{listChunk}} weitere","buttonAll":"Alle laden","linkMoreInfo":"Weitere Informationen","buttonReset":"$t(additional:modules.tools.CommuterFlows.title) zur\xFCcksetzen","labelPeople":"Personen","noDataset":"Keine pendelnden Personen bekannt!"}}}}')},3911:function(F){F.exports=JSON.parse('{"modules":{"tools":{"CommuterFlows":{"title":"Commuter flows","selectDistrict":"Choose county/district","labelDistrict":"County/district","selectCity":"Choose town/municipality","labelCity":"Town/municipality","checkName":"Show names","checkNumber":"Show values","checkBeams":"Show lines","checkAnimation":"Show animation","buttonStart":"Start","buttonStop":"Stop","selectOut":"Out-Commuter","selectIn":"In-Commuter","tooltipOut":"Number of employees (subject to social insurance contributions) who live in the selected area and commute to the displayed areas.","tooltipIn":"Number of employees (subject to social insurance contributions) who work in the selected area and commute from the displayed areas.","buttonLess":"{{listChunk}} less","buttonMore":"{{listChunk}} more","buttonAll":"Load all","linkMoreInfo":"More information","buttonReset":"Reset $t(additional:modules.tools.CommuterFlows.title)","labelPeople":"people","noDataset":"No known commuting persons!"}}}}')},4218:function(F,L){var m=Object.defineProperty,C=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,O=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,E=(d,u,v)=>u in d?m(d,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):d[u]=v,D=(d,u)=>{for(var v in u||(u={}))x.call(u,v)&&E(d,v,u[v]);if(O)for(var v of O(u))M.call(u,v)&&E(d,v,u[v]);return d},j=(d,u)=>{for(var v in u)m(d,v,{get:u[v],enumerable:!0})},P=(d,u,v,_)=>{if(u&&typeof u=="object"||typeof u=="function")for(let o of b(u))!x.call(d,o)&&o!==v&&m(d,o,{get:()=>u[o],enumerable:!(_=C(u,o))||_.enumerable});return d},A=d=>P(m({},"__esModule",{value:!0}),d),g={};j(g,{default:()=>s}),F.exports=A(g);function t(d,u){return u.map(v=>v[d]).reduce((v,_)=>D(D({},v),_),{})}function s(d){return{namespaced:!0,state:t("state",d),getters:t("getters",d),mutations:t("mutations",d),actions:t("actions",d)}}},4303:function(F,L,m){"use strict";m.r(L);var C=m(4304),b=m.n(C);for(var O in C)["default"].indexOf(O)<0&&function(x){m.d(L,x,function(){return C[x]})}(O);L.default=b.a},4304:function(F,L,m){(function(C){var b=Object.create,O=Object.defineProperty,x=Object.defineProperties,M=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,P=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,t=(l,f,y)=>f in l?O(l,f,{enumerable:!0,configurable:!0,writable:!0,value:y}):l[f]=y,s=(l,f)=>{for(var y in f||(f={}))A.call(f,y)&&t(l,y,f[y]);if(j)for(var y of j(f))g.call(f,y)&&t(l,y,f[y]);return l},d=(l,f)=>x(l,E(f)),u=(l,f)=>{for(var y in f)O(l,y,{get:f[y],enumerable:!0})},v=(l,f,y,S)=>{if(f&&typeof f=="object"||typeof f=="function")for(let N of D(f))!A.call(l,N)&&N!==y&&O(l,N,{get:()=>f[N],enumerable:!(S=M(f,N))||S.enumerable});return l},_=(l,f,y)=>(y=l!=null?b(P(l)):{},v(f||!l||!l.__esModule?O(y,"default",{value:l,enumerable:!0}):y,l)),o=l=>v(O({},"__esModule",{value:!0}),l),i={};u(i,{default:()=>k}),F.exports=o(i);var c=_(m(59)),p=m(8),a=_(m(3775)),e=_(m(3776)),r=m(3907),n=m(3908),h=m(285),w=_(m(284)),k={name:"CommuterFlows",components:{ToolTemplate:c.default},data(){return{wfsApi:null,olApi:null,listDistricts:[],listCities:[],lastDataset:null,lastMarker:null,currentDistrict:"",currentCity:"",currentDirection:"out",captionsChecked:!0,numbersChecked:!0,beamsChecked:!0,animationChecked:!1,tooltipOutActive:!1,tooltipInActive:!1}},computed:d(s({},(0,p.mapGetters)("Tools/CommuterFlows",Object.keys(a.default))),{isAnimationRunning(){return this.olApi.isAnimationRunning()}}),watch:{active(l){l&&(this.setActive(l),this.wfsApi===null&&(this.wfsApi=new r.CommuterApi({serviceUrl:this.serviceURL,blacklistedDistricts:this.blacklistedDistricts}),this.wfsApi.getListDistricts(f=>{this.listDistricts=f},this.onApiError)),this.olApi===null&&(this.olApi=new n.CommuterOL({font:this.olFont,fontShadow:this.olFontShadow,beam:this.olBeam,bubblePixelMax:this.olBubblePixelMax,bubblePixelMin:this.olBubblePixelMin,bubbleBorder:this.olBubbleBorder,bubbleColors:this.olBubbleColors,bubbleColorShift:this.olBubbleColorShift,zoomOptions:this.olZoomOptions,animationPaces:this.olAnimationPaces}),this.resetAll()),this.setFocusToFirstControl())},lastDataset(l){Array.isArray(l?.featureList)&&Array.isArray(l?.coordinate)?(this.refreshCaptions(),this.refreshBeams(),this.refreshAnimation()):this.olApi.clearLayers()},currentDistrict(l){this.currentCity="",l&&this.selectDistrict(l,this.isOutCommuter(),this.listChunk)},currentCity(l){l?this.selectCity(l,this.isOutCommuter(),this.listChunk):this.selectDistrict(this.currentDistrict,this.isOutCommuter(),this.listChunk)},captionsChecked(){this.refreshCaptions()},numbersChecked(){this.refreshCaptions()},beamsChecked(){this.refreshBeams()},animationChecked(){this.refreshAnimation()},currentDirection(){var l,f;((l=this.lastDataset)==null?void 0:l.source)==="getFeaturesDistrict"?this.wfsApi.getFeaturesDistrict(this.currentDistrict,this.isOutCommuter(),0,this.listChunk,y=>{this.lastDataset=y,this.zoomIntoExtent()},this.onApiError):((f=this.lastDataset)==null?void 0:f.source)==="getFeaturesCity"?this.wfsApi.getFeaturesCity(this.currentCity,this.isOutCommuter(),0,this.listChunk,y=>{this.lastDataset=y,this.zoomIntoExtent()},this.onApiError):this.olApi.clearLayers()}},created(){this.$on("close",this.close)},mounted(){this.applyTranslationKey(this.name)},methods:d(s({},(0,p.mapMutations)("Tools/CommuterFlows",Object.keys(e.default))),{thousandsSeparator:w.default,setFocusToFirstControl(){this.$nextTick(()=>{this.$refs["select-district"]&&this.$refs["select-district"].focus()})},close(){this.setActive(!1);const l=C.request("ModelList","getModelByAttributes",{id:this.$store.state.Tools.CommuterFlows.id});l&&l.set("isActive",!1)},translate(l,f=null){return l==="additional:"+this.$t(l)&&console.warn("the key "+JSON.stringify(l)+" is unknown to the additional translation"),this.$t(l,f)},onApiError(l){console.warn("addons/CommuterFlow - Api error",l)},getStyleByIdx(l){return{"background-color":(0,h.convertColor)(this.olApi.getColor(l),"rgbaString")}},zoomIntoExtent(){var l,f;typeof this.olZoomOptions=="object"&&this.olZoomOptions!==null&&Array.isArray((l=this.lastDataset)==null?void 0:l.featureList)&&Array.isArray((f=this.lastDataset)==null?void 0:f.coordinate)&&this.olApi.zoomToExtent(this.lastDataset.featureList)},autoscrollFeatureList(l){const f=this.$el.querySelector(".featureList");l==="top"?f.scrollTop=0:l==="bottom"&&(f.scrollTop=f.scrollHeight)},toggleMarker(l){this.setMarkerOnClickInList&&(!Array.isArray(l)||this.lastMarker===l?(this.lastMarker=null,this.$store.dispatch("MapMarker/removePointMarker")):(this.lastMarker=l,this.$store.dispatch("MapMarker/placingPointMarker",l)))},selectDistrict(l,f,y){this.wfsApi.getListCities(l,S=>{this.listCities=S},this.onApiError),this.wfsApi.getFeaturesDistrict(l,f,0,y,S=>{this.lastDataset=S,this.zoomIntoExtent()},this.onApiError)},selectCity(l,f,y){this.wfsApi.getFeaturesCity(l,f,0,y,S=>{this.lastDataset=S,this.zoomIntoExtent()},this.onApiError)},refreshCaptions(){var l,f;Array.isArray((l=this.lastDataset)==null?void 0:l.featureList)&&Array.isArray((f=this.lastDataset)==null?void 0:f.coordinate)?this.olApi.addCaptions(this.lastDataset.caption,this.lastDataset.coordinate,this.lastDataset.featureList,this.captionsChecked,this.numbersChecked):this.olApi.removeCaptions()},refreshBeams(){var l,f;this.beamsChecked&&Array.isArray((l=this.lastDataset)==null?void 0:l.featureList)&&Array.isArray((f=this.lastDataset)==null?void 0:f.coordinate)?this.olApi.addBeams(this.lastDataset.featureList):this.olApi.removeBeams()},refreshAnimation(){var l,f;this.animationChecked&&Array.isArray((l=this.lastDataset)==null?void 0:l.featureList)&&Array.isArray((f=this.lastDataset)==null?void 0:f.coordinate)?this.olApi.initAnimation(this.lastDataset.featureList,this.lastDataset.totalMax,this.olBubbleAlgorithm):this.olApi.removeAnimation()},loadMore(){var l,f;((l=this.lastDataset)==null?void 0:l.source)==="getFeaturesDistrict"?this.wfsApi.getFeaturesDistrict(this.currentDistrict,this.isOutCommuter(),0,this.lastDataset.len+this.listChunk,y=>{this.lastDataset=y,this.zoomIntoExtent(),this.$nextTick(()=>{this.autoscrollFeatureList("bottom")})},this.onApiError):((f=this.lastDataset)==null?void 0:f.source)==="getFeaturesCity"?this.wfsApi.getFeaturesCity(this.currentCity,this.isOutCommuter(),0,this.lastDataset.len+this.listChunk,y=>{this.lastDataset=y,this.zoomIntoExtent(),this.$nextTick(()=>{this.autoscrollFeatureList("bottom")})},this.onApiError):this.olApi.clearLayers()},loadLess(){var l,f;((l=this.lastDataset)==null?void 0:l.source)==="getFeaturesDistrict"?this.wfsApi.getFeaturesDistrict(this.currentDistrict,this.isOutCommuter(),0,this.lastDataset.len-this.listChunk,y=>{this.lastDataset=y,this.zoomIntoExtent()},this.onApiError):((f=this.lastDataset)==null?void 0:f.source)==="getFeaturesCity"?this.wfsApi.getFeaturesCity(this.currentCity,this.isOutCommuter(),0,this.lastDataset.len-this.listChunk,y=>{this.lastDataset=y,this.zoomIntoExtent()},this.onApiError):this.olApi.clearLayers()},loadAll(){var l,f;((l=this.lastDataset)==null?void 0:l.source)==="getFeaturesDistrict"?this.wfsApi.getFeaturesDistrict(this.currentDistrict,this.isOutCommuter(),0,this.lastDataset.totalLength,y=>{this.lastDataset=y,this.zoomIntoExtent(),this.$nextTick(()=>{this.autoscrollFeatureList("top")})},this.onApiError):((f=this.lastDataset)==null?void 0:f.source)==="getFeaturesCity"?this.wfsApi.getFeaturesCity(this.currentCity,this.isOutCommuter(),0,this.lastDataset.totalLength,y=>{this.lastDataset=y,this.zoomIntoExtent(),this.$nextTick(()=>{this.autoscrollFeatureList("top")})},this.onApiError):this.olApi.clearLayers()},resetAll(){this.listCities=[],this.currentCity="",this.$nextTick(()=>{this.currentDistrict="",this.lastDataset=null,typeof this.onstart=="object"&&(this.captionsChecked=this.onstart.captionsChecked,this.numbersChecked=this.onstart.numbersChecked,this.beamsChecked=this.onstart.beamsChecked,this.animationChecked=this.onstart.animationChecked,this.currentDirection=this.onstart.direction),this.toggleMarker(null),this.olApi.clearLayers()})},playAnimation(){this.olApi.startAnimation()},stopAnimation(){this.olApi.stopAnimation()},isOutCommuter(){return this.currentDirection==="out"}})}}).call(this,m(3))},4648:function(F,L,m){var C=Object.defineProperty,b=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,M=(g,t)=>{for(var s in t)C(g,s,{get:t[s],enumerable:!0})},E=(g,t,s,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of O(t))!x.call(g,u)&&u!==s&&C(g,u,{get:()=>t[u],enumerable:!(d=b(t,u))||d.enumerable});return g},D=g=>E(C({},"__esModule",{value:!0}),g),j={};M(j,{render:()=>P,staticRenderFns:()=>A}),F.exports=D(j);var P=function(){var t=this,s=t._self._c;return s("ToolTemplate",{attrs:{title:t.$t(t.name),icon:t.icon,active:t.active,"render-to-window":t.renderToWindow,"resizable-window":t.resizableWindow,"deactivate-gfi":t.deactivateGFI},scopedSlots:t._u([{key:"toolBody",fn:function(){return[s("div",{staticClass:"commuter-flows-container",attrs:{id:"CommuterFlows"}},[s("div",{staticClass:"d-grid section"},[s("div",{staticClass:"col"},[t.active?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"CommuterFlows-select-district"}},[t._v(`
                            `+t._s(t.translate("additional:modules.tools.CommuterFlows.labelDistrict"))+`
                        `)]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.currentDistrict,expression:"currentDistrict"}],ref:"select-district",staticClass:"form-select",attrs:{id:"CommuterFlows-select-district"},on:{change:function(d){var u=Array.prototype.filter.call(d.target.options,function(v){return v.selected}).map(function(v){var _="_value"in v?v._value:v.value;return _});t.currentDistrict=d.target.multiple?u:u[0]}}},[s("option",{attrs:{selected:"",disabled:"",value:""}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.selectDistrict"))+`
                            `)]),t._v(" "),t._l(t.listDistricts,function(d,u){return s("option",{key:u,attrs:{SELECTED:d===t.currentDistrict},domProps:{value:d}},[t._v(`
                                `+t._s(d)+`
                            `)])})],2)]):t._e()])]),t._v(" "),t.lastDataset!==null?s("div",[s("div",{staticClass:"d-grid section"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"CommuterFlows-select-city"}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.labelCity"))+`
                            `)]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.currentCity,expression:"currentCity"}],staticClass:"form-select",attrs:{id:"CommuterFlows-select-city"},on:{change:function(d){var u=Array.prototype.filter.call(d.target.options,function(v){return v.selected}).map(function(v){var _="_value"in v?v._value:v.value;return _});t.currentCity=d.target.multiple?u:u[0]}}},[s("option",{attrs:{selected:"",value:""}},[t._v(`
                                    `+t._s(t.translate("additional:modules.tools.CommuterFlows.selectCity"))+`
                                `)]),t._v(" "),t._l(t.listCities,function(d,u){return s("option",{key:u,attrs:{SELECTED:d===t.currentCity},domProps:{value:d}},[t._v(`
                                    `+t._s(d)+`
                                `)])})],2)])])]),t._v(" "),s("div",{staticClass:"d-grid section"},[s("div",{staticClass:"col"})]),t._v(" "),s("div",{staticClass:"d-grid section"},[s("div",{staticClass:"d-grid"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.captionsChecked,expression:"captionsChecked"}],staticClass:"form-check-input",attrs:{id:"idCaptionsChecked",type:"checkbox"},domProps:{checked:Array.isArray(t.captionsChecked)?t._i(t.captionsChecked,null)>-1:t.captionsChecked},on:{change:function(d){var u=t.captionsChecked,v=d.target,_=!!v.checked;if(Array.isArray(u)){var o=null,i=t._i(u,o);v.checked?i<0&&(t.captionsChecked=u.concat([o])):i>-1&&(t.captionsChecked=u.slice(0,i).concat(u.slice(i+1)))}else t.captionsChecked=_}}}),t._v(" "),s("label",{staticClass:"col-form-label",attrs:{for:"idCaptionsChecked"}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.checkName"))+`
                            `)])])]),t._v(" "),s("div",{staticClass:"d-grid"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.numbersChecked,expression:"numbersChecked"}],staticClass:"form-check-input",attrs:{id:"idNumbersChecked",type:"checkbox"},domProps:{checked:Array.isArray(t.numbersChecked)?t._i(t.numbersChecked,null)>-1:t.numbersChecked},on:{change:function(d){var u=t.numbersChecked,v=d.target,_=!!v.checked;if(Array.isArray(u)){var o=null,i=t._i(u,o);v.checked?i<0&&(t.numbersChecked=u.concat([o])):i>-1&&(t.numbersChecked=u.slice(0,i).concat(u.slice(i+1)))}else t.numbersChecked=_}}}),t._v(" "),s("label",{staticClass:"col-form-label",attrs:{for:"idNumbersChecked"}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.checkNumber"))+`
                            `)])])]),t._v(" "),s("div",{staticClass:"d-grid"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.beamsChecked,expression:"beamsChecked"}],staticClass:"form-check-input",attrs:{id:"idBeamsChecked",type:"checkbox"},domProps:{checked:Array.isArray(t.beamsChecked)?t._i(t.beamsChecked,null)>-1:t.beamsChecked},on:{change:function(d){var u=t.beamsChecked,v=d.target,_=!!v.checked;if(Array.isArray(u)){var o=null,i=t._i(u,o);v.checked?i<0&&(t.beamsChecked=u.concat([o])):i>-1&&(t.beamsChecked=u.slice(0,i).concat(u.slice(i+1)))}else t.beamsChecked=_}}}),t._v(" "),s("label",{staticClass:"col-form-label",attrs:{for:"idBeamsChecked"}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.checkBeams"))+`
                            `)])])]),t._v(" "),s("div",{staticClass:"d-grid d-md-flex section"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.animationChecked,expression:"animationChecked"}],staticClass:"form-check-input",attrs:{id:"idAnimationChecked",type:"checkbox"},domProps:{checked:Array.isArray(t.animationChecked)?t._i(t.animationChecked,null)>-1:t.animationChecked},on:{change:function(d){var u=t.animationChecked,v=d.target,_=!!v.checked;if(Array.isArray(u)){var o=null,i=t._i(u,o);v.checked?i<0&&(t.animationChecked=u.concat([o])):i>-1&&(t.animationChecked=u.slice(0,i).concat(u.slice(i+1)))}else t.animationChecked=_}}}),t._v(" "),s("label",{staticClass:"col-form-label",attrs:{for:"idAnimationChecked"}},[t._v(`
                                    `+t._s(t.translate("additional:modules.tools.CommuterFlows.checkAnimation"))+`
                                `)])])]),t._v(" "),s("div",{staticClass:"col-md-4 ms-auto"},[t.isAnimationRunning?s("div",{staticClass:"form-group float-end"},[s("button",{staticClass:"btn btn-secondary btn-sm animationButton",attrs:{type:"button"},on:{click:t.stopAnimation}},[s("span"),s("i",{staticClass:"bi bi-stop-fill"}),t._v(`
                                    `+t._s(t.translate("additional:modules.tools.CommuterFlows.buttonStop"))+`
                                `)])]):s("div",{staticClass:"form-group float-end"},[s("button",{staticClass:"btn btn-secondary btn-sm animationButton",attrs:{type:"button",disabled:!t.animationChecked},on:{click:t.playAnimation}},[s("span"),s("i",{staticClass:"bi bi-play-fill"}),t._v(`
                                    `+t._s(t.translate("additional:modules.tools.CommuterFlows.buttonStart"))+`
                                `)])])])])]),t._v(" "),s("div",{staticClass:"d-grid section"},[s("div",{staticClass:"col"})]),t._v(" "),s("div",{staticClass:"d-grid d-md-flex section"},[s("div",{staticClass:"col-6 col-sm-6 tooltipWrapper"},[s("div",{staticClass:"form-check form-check-inline",attrs:{role:"presentation"},on:{mouseover:function(d){t.tooltipOutActive=!0},focusin:function(d){t.tooltipOutActive=!0},mouseout:function(d){t.tooltipOutActive=!1},focusout:function(d){t.tooltipOutActive=!1}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentDirection,expression:"currentDirection"}],staticClass:"form-check-input",attrs:{id:"idOutChecked",type:"radio",name:"outInCommuter",value:"out"},domProps:{checked:t._q(t.currentDirection,"out")},on:{change:function(d){t.currentDirection="out"}}}),t._v(" "),s("label",{staticClass:"col-form-label",attrs:{for:"idOutChecked"}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.selectOut"))+`
                            `)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tooltipOutActive,expression:"tooltipOutActive"}],staticClass:"tooltip"},[t._v(`
                            `+t._s(t.translate("additional:modules.tools.CommuterFlows.tooltipOut"))+`
                        `)])]),t._v(" "),s("div",{staticClass:"col-6 col-sm-6 tooltipWrapper"},[s("div",{staticClass:"form-check form-check-inline",attrs:{role:"presentation"},on:{mouseover:function(d){t.tooltipInActive=!0},focusin:function(d){t.tooltipInActive=!0},mouseout:function(d){t.tooltipInActive=!1},focusout:function(d){t.tooltipInActive=!1}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentDirection,expression:"currentDirection"}],staticClass:"form-check-input",attrs:{id:"idInChecked",type:"radio",name:"outInCommuter",value:"in"},domProps:{checked:t._q(t.currentDirection,"in")},on:{change:function(d){t.currentDirection="in"}}}),t._v(" "),s("label",{staticClass:"col-form-label",attrs:{for:"idInChecked"}},[t._v(`
                                `+t._s(t.translate("additional:modules.tools.CommuterFlows.selectIn"))+`
                            `)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tooltipInActive,expression:"tooltipInActive"}],staticClass:"tooltip tooltipRight"},[t._v(`
                            `+t._s(t.translate("additional:modules.tools.CommuterFlows.tooltipIn"))+`
                        `)])])]),t._v(" "),s("div",{staticClass:"d-grid"},[s("div",{staticClass:"col"},[s("hr")])]),t._v(" "),s("div",{staticClass:"d-grid section"},[Array.isArray(t.lastDataset.featureList)&&t.lastDataset.featureList.length?s("div",{staticClass:"col-sm-12 featureList"},[s("table",[s("tbody",t._l(t.lastDataset.featureList,function(d,u){return s("tr",{key:`feature-${u}`,on:{click:function(v){t.toggleMarker(d.get("coordinate"))}}},[s("td",{staticClass:"featureColor"},[s("div",{style:t.getStyleByIdx(u)})]),t._v(" "),s("td",{staticClass:"featureCaption"},[t._v(`
                                        `+t._s(d.get("caption"))+`
                                    `)]),t._v(" "),s("td",{staticClass:"featureValue"},[t._v(`
                                        `+t._s(t.thousandsSeparator(d.get("value")))+`
                                    `)]),t._v(" "),s("td",{staticClass:"featurePeople"},[t._v(`
                                        `+t._s(t.translate("additional:modules.tools.CommuterFlows.labelPeople"))+`
                                    `)])])}),0)])]):s("div",{staticClass:"col-sm-12 noDataset"},[t._v(`
                        `+t._s(t.translate("additional:modules.tools.CommuterFlows.noDataset"))+`
                    `)])]),t._v(" "),s("div",{staticClass:"d-grid"},[s("div",{staticClass:"col"},[s("hr")])]),t._v(" "),s("div",{staticClass:"d-grid gap-2 d-md-block section buttons"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.lastDataset.len<=t.listChunk},on:{click:t.loadLess}},[t._v(`
                        `+t._s(t.translate("additional:modules.tools.CommuterFlows.buttonLess",{listChunk:t.listChunk}))+`
                        `),s("span"),s("i",{staticClass:"bi bi-arrow-up"})]),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.lastDataset.len>=t.lastDataset.totalLength},on:{click:t.loadMore}},[t._v(`
                        `+t._s(t.translate("additional:modules.tools.CommuterFlows.buttonMore",{listChunk:t.listChunk}))+`
                        `),s("span"),s("i",{staticClass:"bi bi-arrow-down"})]),t._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.lastDataset.len>=t.lastDataset.totalLength},on:{click:t.loadAll}},[t._v(`
                        `+t._s(t.translate("additional:modules.tools.CommuterFlows.buttonAll"))+`
                    `)])]),t._v(" "),t.metaVerPath?s("div",{staticClass:"d-grid section"},[s("div",{staticClass:"col-sm-12"},[s("a",{staticClass:"float-end",attrs:{href:t.metaVerPath,target:"_blank"}},[t._v(`
                            `+t._s(t.translate("additional:modules.tools.CommuterFlows.linkMoreInfo"))+`
                        `)])])]):t._e(),t._v(" "),s("div",{staticClass:"d-grid mx-auto section"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.resetAll}},[s("span"),s("i",{staticClass:"bi bi-trash"}),t._v(`
                        `+t._s(t.translate("additional:modules.tools.CommuterFlows.buttonReset"))+`
                    `)])])]):t._e()])]},proxy:!0}])})},A=[];P._withStripped=!0},4649:function(F,L,m){},5078:function(F,L,m){"use strict";m.r(L);var C=m(5079),b=m(4303);for(var O in b)["default"].indexOf(O)<0&&function(D){m.d(L,D,function(){return b[D]})}(O);var x=m(5080),M=m(1),E=Object(M.a)(b.default,C.render,C.staticRenderFns,!1,null,"c8bb0d96",null);L.default=E.exports},5079:function(F,L,m){"use strict";var C=m(4648),b=m.n(C);m.o(C,"render")&&m.d(L,"render",function(){return C.render}),m.o(C,"staticRenderFns")&&m.d(L,"staticRenderFns",function(){return C.staticRenderFns})},5080:function(F,L,m){"use strict";var C=m(4649),b=m.n(C)}}]);
