(window.webpackJsonp=window.webpackJsonp||[]).push([[17,537,538,542,543,544],{3851:function(S,$,O){var G=Object.create,P=Object.defineProperty,x=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,C=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,w=(n,p)=>{for(var s in p)P(n,s,{get:p[s],enumerable:!0})},F=(n,p,s,f)=>{if(p&&typeof p=="object"||typeof p=="function")for(let a of E(p))!J.call(n,a)&&a!==s&&P(n,a,{get:()=>p[a],enumerable:!(f=x(p,a))||f.enumerable});return n},d=(n,p,s)=>(s=n!=null?G(C(n)):{},F(p||!n||!n.__esModule?P(s,"default",{value:n,enumerable:!0}):s,n)),N=n=>F(P({},"__esModule",{value:!0}),n),m={};w(m,{default:()=>j}),S.exports=N(m);var _=O(5),h=d(O(75)),g=d(O(284));function j(n,p,s,f,a,t){if(Array.isArray(n))if(Array.isArray(p)){if(typeof s!="string"){typeof t=="function"&&t(new Error("nextFeatureByDistance: to store the distance a knowledgeBaseKey is needed"));return}else if(!p.length){typeof a=="function"&&a({});return}}else{typeof t=="function"&&t(new Error("nextFeatureByDistance: features is not an array"));return}else{typeof t=="function"&&t(new Error("nextFeatureByDistance: coordinate is not an array"));return}const u={};let e=null,r=!1;p.forEach(i=>{const y=i.getGeometry().getExtent(),l=(0,_.getCenter)(y),c=new h.default([l,n]),v=c.getLength();(r===!1||v<r)&&(e=i,r=v)}),Array.isArray(f)&&f.forEach(i=>{u[i]=[e.get(i)]}),u[s]=[(0,g.default)(Math.round(r)/1e3)],typeof a=="function"&&a(u)}},3882:function(S,$,O){var G=Object.create,P=Object.defineProperty,x=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,C=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,w=(n,p)=>{for(var s in p)P(n,s,{get:p[s],enumerable:!0})},F=(n,p,s,f)=>{if(p&&typeof p=="object"||typeof p=="function")for(let a of E(p))!J.call(n,a)&&a!==s&&P(n,a,{get:()=>p[a],enumerable:!(f=x(p,a))||f.enumerable});return n},d=(n,p,s)=>(s=n!=null?G(C(n)):{},F(p||!n||!n.__esModule?P(s,"default",{value:n,enumerable:!0}):s,n)),N=n=>F(P({},"__esModule",{value:!0}),n),m={};w(m,{bufferGeometry:()=>j}),S.exports=N(m);var _=d(O(4594)),h=O(58),g=d(O(97));function j(n,p,s="EPSG:25832"){if(!(n instanceof g.default))return console.error(`bufferGeometry: geometry is ${n}, but it has to be an instance of ol/geom/Geometry`),null;if(typeof p!="number")return console.error(`bufferGeometry: Type of radius is ${p}, but it has to be a number`),n;if(p===0)return n;const f=new h.GeoJSON,a=n.clone().transform(s,"EPSG:4326"),t=f.writeGeometryObject(a),u=(0,_.default)(t,p,{units:"meters"});return f.readGeometry(u.geometry).transform("EPSG:4326",s)}},3895:function(S,$,O){var G=Object.create,P=Object.defineProperty,x=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,C=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,w=(e,r)=>{for(var i in r)P(e,i,{get:r[i],enumerable:!0})},F=(e,r,i,y)=>{if(r&&typeof r=="object"||typeof r=="function")for(let l of E(r))!J.call(e,l)&&l!==i&&P(e,l,{get:()=>r[l],enumerable:!(y=x(r,l))||y.enumerable});return e},d=(e,r,i)=>(i=e!=null?G(C(e)):{},F(r||!e||!e.__esModule?P(i,"default",{value:e,enumerable:!0}):i,e)),N=e=>F(P({},"__esModule",{value:!0}),e),m={};w(m,{collectFeatures:()=>f,createFeatureByCoordinate:()=>a,getFilter:()=>t,getPropertyNames:()=>u}),S.exports=N(m);var _=O(3882),h=d(O(21)),g=O(1202),j=O(1207),n=d(O(49)),p=O(58),s=d(O(18));function f(e,r,i,y,l,c){if(r.coordinate){const v=a(r.coordinate);l([v])}else if(r.filter==="equalTo")l(e.featureList);else{const v={featureNS:y.featureNS,featureTypes:[y.featureType],filter:t(e.geometry,r.geometryName,r.filter,r.radius),srsName:i,propertyNames:u(r.propertyName,r.geometryName,r.precompiler)};(0,g.getFeaturePOST)(y.url,v,c).then(b=>{if(b){const o=new p.WFS,M=o.readFeatures(b);l(M)}}).catch(b=>{typeof c=="function"&&c(b)})}}function a(e){return new h.default({geometry:new n.default(e)})}function t(e,r,i,y){if(!i)return;const l=y?(0,_.bufferGeometry)(e,y):e;return i==="intersects"?(0,j.intersects)(r,l):(0,j.within)(r,l)}function u(e,r,i){if(!Array.isArray(e)){console.error(`addons/valuationPrint/utils/collectFeatures: propertyName is ${e}, but it has to be an array`);return}return typeof r!="string"?(console.error(`addons/valuationPrint/utils/collectFeatures: geometryName is ${r}, but it has to be a string`),e):(0,s.default)(i)&&i.type!=="assignAttributes"?e.concat(r):e}},4081:function(S,$,O){var G=Object.create,P=Object.defineProperty,x=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,C=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,w=(t,u)=>{for(var e in u)P(t,e,{get:u[e],enumerable:!0})},F=(t,u,e,r)=>{if(u&&typeof u=="object"||typeof u=="function")for(let i of E(u))!J.call(t,i)&&i!==e&&P(t,i,{get:()=>u[i],enumerable:!(r=x(u,i))||r.enumerable});return t},d=(t,u,e)=>(e=t!=null?G(C(t)):{},F(u||!t||!t.__esModule?P(e,"default",{value:t,enumerable:!0}):e,t)),N=t=>F(P({},"__esModule",{value:!0}),t),m={};w(m,{addKnowledgeBaseError:()=>f,createAttributesByFeatures:()=>a,createKnowledgeBase:()=>s}),S.exports=N(m);var _=O(3895),h=d(O(60)),g=d(O(3851)),j=d(O(4082)),n=O(4083),p=d(O(4129));function s(t,u,e,r,i,y,l,c={},v=0){const b=Object.keys(u)[v],o=u[b];if(typeof o>"u"){i(c);return}typeof r=="function"&&typeof o?.onstart=="string"&&r(o?.onstart),(0,_.collectFeatures)(t,o,e,h.default.getLayerWhere({id:o.layerId}),M=>{var D,W,T,I,z,H;if(M.length===0)((D=o?.precompiler)==null?void 0:D.type)==="assignAttributes"?c[b]=void 0:o.propertyName.forEach(A=>{c[b+"."+A]=void 0}),s(t,u,e,r,i,y,l,c,v+1);else if(((W=o?.precompiler)==null?void 0:W.type)==="allFeaturesByDuration")(0,j.default)(t.center,M,o.precompiler.durationKey,o.precompiler.distanceKey,o.precompiler.speedProfile,o.propertyName,r,A=>{Object.entries(A).forEach(([R,L])=>{c[b+"."+R]=L}),s(t,u,e,r,i,y,l,c,v+1)},A=>{l(A),y(o.onerror),f(c,A,b,Array.isArray(o.propertyName)?o.propertyName.concat(o.precompiler.key):[o.precompiler.key]),s(t,u,e,r,i,y,l,c,v+1)});else if(((T=o?.precompiler)==null?void 0:T.type)==="nextGroupedFeaturesByDistance")(0,n.nextGroupedFeaturesByDistance)(t.center,M,o.precompiler.key,o.precompiler.propertyName,o.precompiler.delimitor,o.propertyName,A=>{Object.entries(A).forEach(([R,L])=>{c[b+"."+R]=L}),s(t,u,e,r,i,y,l,c,v+1)},A=>{l(A),y(o.onerror),f(c,A,b,Array.isArray(o.propertyName)?o.propertyName.concat(o.precompiler.key):[o.precompiler.key]),s(t,u,e,r,i,y,l,c,v+1)});else if(((I=o?.precompiler)==null?void 0:I.type)==="nextFeatureByDistance")(0,g.default)(t.center,M,o.precompiler.key,o.propertyName,A=>{Object.entries(A).forEach(([R,L])=>{c[b+"."+R]=L}),s(t,u,e,r,i,y,l,c,v+1)},A=>{l(A),y(o.onerror),f(c,A,b,Array.isArray(o.propertyName)?o.propertyName.concat(o.precompiler.key):[o.precompiler.key]),s(t,u,e,r,i,y,l,c,v+1)});else if(((z=o?.precompiler)==null?void 0:z.type)==="sumNumbers")(0,p.default)(M,o.precompiler.key,o.precompiler.sumProperty,o.propertyName,A=>{Object.entries(A).forEach(([R,L])=>{c[b+"."+R]=L}),s(t,u,e,r,i,y,l,c,v+1)},A=>{l(A),y(o.onerror),f(c,A,b,Array.isArray(o.propertyName)?o.propertyName.concat(o.precompiler.key):[o.precompiler.key]),s(t,u,e,r,i,y,l,c,v+1)});else if(((H=o?.precompiler)==null?void 0:H.type)==="assignAttributes"){const A=[],R={};o.propertyName.forEach(L=>{R[L]=void 0}),M.forEach(L=>{A.push(Object.assign(R,L.getProperties(),o.precompiler.attributes))}),c[b]=A,s(t,u,e,r,i,y,l,c,v+1)}else{const A=a(M,o.propertyName);Object.entries(A).forEach(([R,L])=>{c[b+"."+R]=L}),s(t,u,e,r,i,y,l,c,v+1)}},M=>{l(M),y(o?.onerror),f(c,M,b,o?.propertyName),s(t,u,e,r,i,y,l,c,v+1)})}function f(t,u,e,r){Array.isArray(r)&&r.forEach(i=>{typeof i=="string"&&(t[e+"."+i]=u)})}function a(t,u){const e={};return t.forEach(r=>{u.forEach(i=>{Array.isArray(e[i])||(e[i]=[]),e[i].push(r.get(i))})}),e}},4082:function(S,$,O){(function(G){var P=Object.create,x=Object.defineProperty,E=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,J=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,F=(t,u)=>{for(var e in u)x(t,e,{get:u[e],enumerable:!0})},d=(t,u,e,r)=>{if(u&&typeof u=="object"||typeof u=="function")for(let i of C(u))!w.call(t,i)&&i!==e&&x(t,i,{get:()=>u[i],enumerable:!(r=E(u,i))||r.enumerable});return t},N=(t,u,e)=>(e=t!=null?P(J(t)):{},d(u||!t||!t.__esModule?x(e,"default",{value:t,enumerable:!0}):e,t)),m=t=>d(x({},"__esModule",{value:!0}),t),_={};F(_,{default:()=>s}),S.exports=m(_);var h=O(2106),g=N(O(45)),j=O(5),n=N(O(284)),p=N(O(18));function s(t,u,e,r,i,y,l,c,v){f(t,u,i,l,b=>{if(!Array.isArray(b)){v(new Error("allFeaturesByDuration: featuresAndRouting is not an array")),console.warn("featuresAndRouting",b);return}const o={};b.forEach(({feature:M,routing:D})=>{!(0,p.default)(M)||!(0,p.default)(D)||(Array.isArray(y)&&y.forEach(W=>{Array.isArray(o[W])||(o[W]=[]),o[W].push(M.get(W))}),typeof e=="string"&&(Array.isArray(o[e])||(o[e]=[]),o[e].push(Math.ceil(D.duration/60))),typeof r=="string"&&(Array.isArray(o[r])||(o[r]=[]),o[r].push((0,n.default)(Math.round(D.distance)))))}),c(o)},v)}function f(t,u,e,r,i,y,l=[],c=0){const v=u[c];if(!(0,p.default)(v)){i(l);return}r(G.t("additional:modules.tools.valuationPrint.pleaseWait")),a(t,v,e,b=>{l.push({feature:v,routing:b}),f(t,u,e,r,i,y,l,c+1)},y)}function a(t,u,e,r,i){if(typeof u?.getGeometry!="function"){i(new Error("requestRoutingByFeature: A feature given to the routing is not a valid ol feature."));return}const y=u.getGeometry().getExtent(),l=(0,j.getCenter)(y),c="EPSG:4326",v=g.default.getMapProjection(mapCollection.getMap("2D"));(0,h.fetchRoutingOrsDirections)({coordinates:[g.default.transform(v,c,t),g.default.transform(v,c,l)],transformCoordinatesToLocal:b=>b,speedProfile:e,avoidSpeedProfileOptions:[],preference:"RECOMMENDED",avoidPolygons:{coordinates:[],type:"MultiPolygon"},instructions:!1}).then(b=>{r(b)}).catch(b=>{i(b)})}}).call(this,O(6))},4083:function(S,$,O){var G=Object.create,P=Object.defineProperty,x=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,C=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,w=(f,a)=>{for(var t in a)P(f,t,{get:a[t],enumerable:!0})},F=(f,a,t,u)=>{if(a&&typeof a=="object"||typeof a=="function")for(let e of E(a))!J.call(f,e)&&e!==t&&P(f,e,{get:()=>a[e],enumerable:!(u=x(a,e))||u.enumerable});return f},d=(f,a,t)=>(t=f!=null?G(C(f)):{},F(a||!f||!f.__esModule?P(t,"default",{value:f,enumerable:!0}):t,f)),N=f=>F(P({},"__esModule",{value:!0}),f),m={};w(m,{concatGroupAttributes:()=>s,getGroupedAttributes:()=>n,groupFeaturesByPropertyName:()=>j,nextGroupedFeaturesByDistance:()=>g,purifyGroupedAttributes:()=>p}),S.exports=N(m);var _=d(O(3851)),h=d(O(18));function g(f,a,t,u,e,r,i,y){if(Array.isArray(f)){if(!Array.isArray(a)){y(new Error("nextGroupedFeaturesByDistance: features are missing for the request"));return}}else{y(new Error("nextGroupedFeaturesByDistance: coordinate is missing for the request"));return}const l=j(a,u,e);n(f,l,t,r,c=>{const v=p(c,u,e,t),b=s(v);i(b)},y)}function j(f,a,t){if(!Array.isArray(f))return{};const u={};return f.forEach(e=>{if(typeof e?.get!="function")return;const r=e.get(a),i=r.split(t),y={};i.forEach(l=>{y[l]=!0}),Object.keys(y).forEach(l=>{Array.isArray(u[l])||(u[l]=[]),u[l].push(e)})}),u}function n(f,a,t,u,e,r,i={},y=0){if(!Array.isArray(f)||!(0,h.default)(a)){e({});return}const l=Object.keys(a)[y],c=a[l];if(!c){e(i);return}(0,_.default)(f,c,t,u,v=>{i[l]=v,n(f,a,t,u,e,r,i,y+1)},r)}function p(f,a,t,u){if(!(0,h.default)(f))return{};const e={};return Object.entries(f).forEach(([r,i])=>{const y=i[a][0].split(t),l=y.length;e[r]={};for(let c=0;c<l;c++)y[c]===r&&Object.entries(i).forEach(([v,b])=>{typeof e[r][v]=="string"?e[r][v]+=", ":e[r][v]="",v===u?e[r][v]=b[0]:v===a?e[r][v]=b[0].split(t)[c]:e[r][v]+=b[0].split(t)[c]})}),e}function s(f){if(!(0,h.default)(f))return{};const a={};return Object.values(f).forEach(t=>{(0,h.default)(t)&&Object.entries(t).forEach(([u,e])=>{Array.isArray(a[u])||(a[u]=[]),a[u].push(e)})}),a}},4129:function(S,$,O){var G=Object.defineProperty,P=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,C=(m,_)=>{for(var h in _)G(m,h,{get:_[h],enumerable:!0})},J=(m,_,h,g)=>{if(_&&typeof _=="object"||typeof _=="function")for(let j of x(_))!E.call(m,j)&&j!==h&&G(m,j,{get:()=>_[j],enumerable:!(g=P(_,j))||g.enumerable});return m},w=m=>J(G({},"__esModule",{value:!0}),m),F={};C(F,{default:()=>N}),S.exports=w(F);var d=O(4081);function N(m,_,h,g,j,n){if(Array.isArray(m))if(typeof _!="string"){typeof n=="function"&&n(new Error("sumNumbers: the key to be summed is needed"));return}else if(typeof h!="string"){typeof n=="function"&&n(new Error("sumNumbers: the propertyName to be summed is needed"));return}else if(Array.isArray(g)){if(!m.length){typeof j=="function"&&j({});return}}else{typeof n=="function"&&n(new Error("sumNumbers: the propertyName should be in an array"));return}else{typeof n=="function"&&n(new Error("sumNumbers: features is not an array"));return}const p=(0,d.createAttributesByFeatures)(m,g);g.includes(h)&&(p[_]=0,typeof p[h]=="string"?p[_]=p[h]:Array.isArray(p[h])&&(p[h].forEach(s=>{p[_]+=parseFloat(s)}),p[_]=[String(p[_])])),typeof j=="function"&&j(p)}}}]);
