(window.webpackJsonp=window.webpackJsonp||[]).push([[467],{3876:function(p,M,u){(function(n){var b=Object.create,i=Object.defineProperty,f=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,h=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,y=(e,r)=>{for(var t in r)i(e,t,{get:r[t],enumerable:!0})},d=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of A(r))!S.call(e,s)&&s!==t&&i(e,s,{get:()=>r[s],enumerable:!(a=f(r,s))||a.enumerable});return e},g=(e,r,t)=>(t=e!=null?b(h(e)):{},d(r||!e||!e.__esModule?i(t,"default",{value:e,enumerable:!0}):t,e)),v=e=>d(i({},"__esModule",{value:!0}),e),c={};y(c,{default:()=>O}),p.exports=v(c);var P=u(453),m=g(u(284)),k=g(u(25)),O={addCoordinatesToSubmitObject({getters:e,commit:r},t){const a=e.submitObject;a.KoordinateX=(0,m.default)(t[0]).replace(/\./g,""),a.KoordinateY=(0,m.default)(t[1]).replace(/\./g,""),r("setSubmitObject",a)},alertWrongInputParameters({dispatch:e}){e("Alerting/addSingleAlert","<strong>"+n.t("additional:modules.tools.oktagon.wrongAddressParameter")+"</strong><br><small>"+n.t("additional:modules.tools.oktagon.wrongAddressParameterMessage")+"</small>",{root:!0})},createAddress({dispatch:e,commit:r,getters:t},a){const s={searchStreets:!0};let o=t.getParameterValue({result:a,property:"STRASSE"});a?.HAUSNUMMER&&a.HAUSNUMMER.length>0&&(o+=" "+t.getParameterValue({result:a,property:"HAUSNUMMER"}),s.searchAddress=!0),a?.ZUSATZ&&(o+=t.getParameterValue({result:a,property:"ZUSATZ"}),s.searchAddress=!0),r("setAddress",o.toUpperCase()),e("startSearch",{searchInput:o,searchParams:s})},handleResponse({dispatch:e,getters:r},t){var a;const s=t.find(o=>o.name.toUpperCase()===r.address);e("zoomToAddress",(a=s?.geometry)==null?void 0:a.coordinates)},initURLParameter({dispatch:e,commit:r,getters:t}){const a={};if(new URLSearchParams(window.location.search).forEach(function(o,l){l==="rueckurl"&&r("setReturnURL",o),a[l.toUpperCase()]=decodeURIComponent(o.toUpperCase())}),a?.BEZIRK){const o=t.getParameterValue({result:a,property:"BEZIRK"});let l="";l=t.hasDistrict(o),l===""?e("Alerting/addSingleAlert","<strong>"+n.t("additional:modules.tools.oktagon.wrongDistrictName")+"</strong><br><small>"+n.t("additional:modules.tools.oktagon.wrongDistrictNameMessage")+o+".</small>",{root:!0}):(r("ZoomTo/setZoomToGeometry",l,{root:!0}),e("ZoomTo/zoomToFeatures",{},{root:!0}))}else a?.STRASSE&&e("createAddress",a)},parseXML({getters:e,commit:r},t){const a=Array.from(t.getElementsByTagName("FIELDS")).length>0?Array.from(t.getElementsByTagName("FIELDS")):Array.from(t.getElementsByTagName("app:baubloecke")),s=e.submitObject;a.forEach(o=>{o.getElementsByTagName("app:baublockbezeichnung").length>0&&(s.Baublock=o.getElementsByTagName("app:baublockbezeichnung")[0].textContent),o.getAttribute("Gemarkungsname")&&(s.Gemarkungsname=o.getAttribute("Gemarkungsname")),o.getAttribute("Gemarkungsnummer")&&(s.Gemarkungsnummer=o.getAttribute("Gemarkungsnummer")),o.getAttribute("Flurstuecksnummer")&&(s.Flurstuecksnummer=o.getAttribute("Flurstuecksnummer"))}),r("setSubmitURL",e.createSubmitURL(s)),r("setSubmitObject",{}),r("setSubmitObject",s)},requestALKISWMS({dispatch:e},r){(0,k.default)({method:"get",url:r,responseType:"document"}).then(t=>{e("parseXML",t.data)}).catch(t=>{console.warn("The fetch of the data failed with the following error message: "+t),e("Alerting/addSingleAlert","<strong>"+n.t("additional:modules.tools.oktagon.fetchFailed")+"</strong> <br><small>"+n.t("additional:modules.tools.oktagon.fetchFailedMessage")+"</small>")})},startSearch({dispatch:e},r){(0,P.search)(r.searchInput,r.searchParams,!0).then(t=>{e("handleResponse",t)}).catch(t=>{String(t)!=="AbortError: The user aborted a request."&&console.error(t)})},zoomToAddress({dispatch:e},r){const t=[];r&&r!==null&&Array.isArray(r)?(r.forEach(a=>{t.push(parseFloat(a))}),e("Maps/setCenter",t,{root:!0}),e("Maps/setZoomLevel",9,{root:!0}),e("MapMarker/placingPointMarker",t,{root:!0})):e("alertWrongInputParameters")}}}).call(this,u(6))}}]);
