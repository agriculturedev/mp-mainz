(window.webpackJsonp=window.webpackJsonp||[]).push([[222,223,224,225],{4117:function(i,C,o){(function(y,l){var f=Object.create,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,P=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,d=(t,a)=>{for(var r in a)c(t,r,{get:a[r],enumerable:!0})},b=(t,a,r,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of p(a))!g.call(t,n)&&n!==r&&c(t,n,{get:()=>a[n],enumerable:!(e=u(a,n))||e.enumerable});return t},h=(t,a,r)=>(r=t!=null?f(P(t)):{},b(a||!t||!t.__esModule?c(r,"default",{value:t,enumerable:!0}):r,t)),v=t=>b(c({},"__esModule",{value:!0}),t),m={};d(m,{default:()=>M}),i.exports=v(m);var O=h(o(7));const _=y.Model.extend({defaults:{mainStreet:{},overviewURL:"",conceptId:null},initialize:function(){const t=this.getMagistraleFromParametricURL(),a=this.getOverviewURL();if(!t){console.error("Missing or invalid parameter for MAGISTRALE. Aborting bauforum.");return}this.setMainStreet(Object.values(t)[0]),this.setOverviewURL(a),this.triggerMapView(this.get("mainStreet"))},triggerMapView:function(t){l.trigger("MapView","setCenter",t.center,t.zoomLevel)},getMagistraleFromParametricURL:function(){var t;const a=(t=O.default.state.urlParams)==null?void 0:t.MAGISTRALE,r=l.request("Parser","getPortalConfig").bauforumHackathon;return a&&r&&Object.prototype.hasOwnProperty.call(r,a)?l.request("Util","pick",r,[a]):null},getOverviewURL:function(){return l.request("Parser","getPortalConfig").bauforumOverviewPage},toggleStadtmodell:function(t){l.request("ModelList","getModelByAttributes",{name:"Geb\xE4ude LoD2"}).setIsVisibleInMap(t)},setMainStreet:function(t){this.set("mainStreet",t)},setOverviewURL:function(t){this.set("overviewURL",t)},setConceptId:function(t){this.set("conceptId",t)}});var M=new _}).call(this,o(13),o(3))},4118:function(i,C,o){(function(y,l,f){var c=Object.create,u=Object.defineProperty,p=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,g=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,b=(r,e)=>{for(var n in e)u(r,n,{get:e[n],enumerable:!0})},h=(r,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let w of P(e))!d.call(r,w)&&w!==n&&u(r,w,{get:()=>e[w],enumerable:!(s=p(e,w))||s.enumerable});return r},v=(r,e,n)=>(n=r!=null?c(g(r)):{},h(e||!r||!r.__esModule?u(n,"default",{value:r,enumerable:!0}):n,r)),m=r=>h(u({},"__esModule",{value:!0}),r),O={};b(O,{default:()=>a}),i.exports=m(O);var _=v(o(4637)),M=o(4246),a=y.View.extend({initialize:function(r){this.model=r,this.render()},template:l.template(_.default),className:"table-nav unselectable col-md-2",id:"table-returnOverview",render:function(){const r=this.model.toJSON();return f("#table-nav").prepend(this.$el.html(this.template(r))),this.delegateEvents(),this}})}).call(this,o(13),o(34),o(14))},4119:function(i,C,o){(function(y,l,f,c){var u=Object.create,p=Object.defineProperty,P=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,h=(e,n)=>{for(var s in n)p(e,s,{get:n[s],enumerable:!0})},v=(e,n,s,w)=>{if(n&&typeof n=="object"||typeof n=="function")for(let x of g(n))!b.call(e,x)&&x!==s&&p(e,x,{get:()=>n[x],enumerable:!(w=P(n,x))||w.enumerable});return e},m=(e,n,s)=>(s=e!=null?u(d(e)):{},v(n||!e||!e.__esModule?p(s,"default",{value:e,enumerable:!0}):s,e)),O=e=>v(p({},"__esModule",{value:!0}),e),_={};h(_,{default:()=>r}),i.exports=O(_);var M=m(o(4638)),t=o(4246),r=y.View.extend({events:{"click span":"showConcept","click .startFlight":"startFlight","click .stopFlight":"stopFlight","click #table-nav-concepts-panel-toggler":"toggleConceptsMenu","click [type='checkbox']":"toggleCheckbox"},initialize:function(e){this.listenTo(l.channel("Map"),{change:this.changeMap}),this.listenTo(l.channel("TableMenu"),{hideMenuElementConcepts:this.hideConceptsMenu}),this.listenTo(l.channel("FlightPlayer"),{stateChange:this.togglePlayButton}),this.model=e,f("#table-category-list").remove(),this.render(),this.showConceptsMenu()},template:c.template(M.default),className:"table-nav col-md-1",id:"table-concepts",render:function(){const e=this.model.toJSON();return f("#table-nav").children().first().after(this.$el.html(this.template(e))),l.request("TableMenu","getActiveElement")==="Concepts"&&this.$("#table-nav-concepts-panel").collapse("show"),this},toggleCheckbox:function(e){const n=e.currentTarget.checked;this.model.toggleStadtmodell(n)},showConcept:function(e){const n=e.target.nodeName==="LI"?e.target.id:e.target.parentElement.id;this.workWithBullets(e),this.model.triggerShowConcept(n)},workWithBullets:function(e){this.$(".concept_list span").removeClass("bauforum-icon-bullet_checked"),this.$(".concept_list span").addClass("bauforum-icon-bullet"),this.$(".concept_list .startFlight").addClass("disabled"),this.$(".concept_list .startFlight").removeClass("hidden"),this.$(".concept_list .stopFlight").addClass("hidden"),this.$(e.currentTarget).removeClass("bauforum-icon-bullet"),this.$(e.currentTarget).addClass("bauforum-icon-bullet_checked"),this.$(e.currentTarget.parentElement).find(".startFlight").removeClass("disabled")},changeMap:function(e){if(e==="2D"){const n=document.querySelectorAll(".concept_list li");for(let s=0;s<n.length;s++)this.$("#"+n[s].id+" > span").removeClass("bauforum-icon-bullet_checked"),this.$("#"+n[s].id+" > span").addClass("bauforum-icon-bullet")}},startFlight:function(e){const n=e.currentTarget.parentElement.id;this.$(e.currentTarget).hasClass("disabled")||this.model.triggerStartFlight(n)},stopFlight:function(e){this.$(e.currentTarget).hasClass("disabled")||this.model.triggerStopFlight()},toggleConceptsMenu:function(){this.$("#table-nav-concepts-panel").hasClass("in")?this.hideConceptsMenu():this.showConceptsMenu()},hideConceptsMenu:function(){this.$("#table-nav-concepts-panel").removeClass("in"),this.$el.removeClass("table-concepts-active"),l.trigger("TableMenu","deactivateCloseClickFrame")},showConceptsMenu:function(){this.$el.addClass("table-concepts-active"),this.$("#table-nav-concepts-panel").addClass("in"),l.request("TableMenu","setActiveElement","Concepts")},togglePlayButton:function(e){const n=this.$el.find(".bauforum-icon-bullet_checked");if(e==="play"){n.parent().find(".startFlight").addClass("hidden"),n.parent().find(".stopFlight").removeClass("hidden");return}n.parent().find(".startFlight").removeClass("hidden"),n.parent().find(".stopFlight").addClass("hidden")}})}).call(this,o(13),o(3),o(14),o(34))},4142:function(i,C,o){var y=Object.create,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,P=(t,a)=>{for(var r in a)l(t,r,{get:a[r],enumerable:!0})},g=(t,a,r,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of c(a))!p.call(t,n)&&n!==r&&l(t,n,{get:()=>a[n],enumerable:!(e=f(a,n))||e.enumerable});return t},d=(t,a,r)=>(r=t!=null?y(u(t)):{},g(a||!t||!t.__esModule?l(r,"default",{value:t,enumerable:!0}):r,t)),b=t=>g(l({},"__esModule",{value:!0}),t),h={};P(h,{default:()=>M}),i.exports=b(h);var v=d(o(4117)),m=d(o(4118)),O=d(o(4119));function _(){new O.default(v.default),new m.default(v.default)}var M=_},4246:function(i,C,o){},4637:function(i,C){i.exports=`<!DOCTYPE html>\r
<a href="<%= overviewURL %>">zur \xDCbersicht</a>\r
`},4638:function(i,C){i.exports=`<div id="table-nav-concepts-panel" class="table-nav-concepts-panel collapse unselectable">\r
	<div class="table-concepts-container"></div>\r
	    <h1><%= mainStreet.heading1 %></h1>\r
	    <h2><%= mainStreet.heading2 %></h2>\r
	    <ul class="concept_list">\r
	    <% mainStreet.concepts.forEach((concept, index) => { %>\r
			<li id="<%= concept.conceptId %>" class="list-bullet">\r
                <span id="<%= concept.conceptId + '_' + index %>" class="bauforum-icon-bullet"/><%= concept.name %></span>\r
            	<button type="button" class="btn btn-link disabled startFlight">Fly it!</button>\r
            	<button type="button" class="btn btn-link hidden stopFlight">Stop!</button>\r
            </li>\r
		<% }); %>\r
		</ul>\r
		<div class="checkStadtmodell">\r
			<input type="checkbox" id="stadtmodell" name="stadtmodell" checked>\r
			<label for="stadtmodell">Hamburger Stadtmodell</label>\r
		</div>\r
	    <div id="funnel">\r
		    <div id="left-funnel-corner"></div>\r
		    <div id="middle-funnel"></div>\r
		    <div id="right-funnel-corner"></div>\r
		</div>\r
	</div>\r
</div>\r
<div id="table-nav-concepts-panel-toggler">\r
    <a id="table-nav-concepts-panel-icon" class="bauforum-icon-variants"></a>\r
</div>\r
`}}]);
