(window.webpackJsonp=window.webpackJsonp||[]).push([[60,160,161,367,368,369,370,371,427],{225:function(g,v,t){var r=Object.create,i=Object.defineProperty,O=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,h=(y,m)=>{for(var p in m)i(y,p,{get:m[p],enumerable:!0})},L=(y,m,p,n)=>{if(m&&typeof m=="object"||typeof m=="function")for(let _ of j(m))!I.call(y,_)&&_!==p&&i(y,_,{get:()=>m[_],enumerable:!(n=O(m,_))||n.enumerable});return y},P=(y,m,p)=>(p=y!=null?r(E(y)):{},L(m||!y||!y.__esModule?i(p,"default",{value:y,enumerable:!0}):p,y)),x=y=>L(i({},"__esModule",{value:!0}),y),d={};h(d,{default:()=>w}),g.exports=x(d);var e=P(t(5494)),o=P(t(3991)),M=P(t(3992)),T=P(t(3993)),w={component:e.default,store:o.default,locales:{de:M.default,en:T.default}}},3649:function(g,v,t){(function(r){var i=Object.defineProperty,O=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,I=(u,S)=>{for(var W in S)i(u,W,{get:S[W],enumerable:!0})},h=(u,S,W,l)=>{if(S&&typeof S=="object"||typeof S=="function")for(let s of j(S))!E.call(u,s)&&s!==W&&i(u,s,{get:()=>S[s],enumerable:!(l=O(S,s))||l.enumerable});return u},L=u=>h(i({},"__esModule",{value:!0}),u),P={};I(P,{addByMouseHover:()=>z,addFolder:()=>f,addModelsByAttributes:()=>p,addVectorLayer:()=>b,closeAllExpandedFolder:()=>y,getCollection:()=>n,getItemByAttributes:()=>_,getItemsByAttributes:()=>a,getModelByAttributes:()=>T,getServiceUrl:()=>e,groupBy:()=>G,offSearchbar:()=>d,onFeaturesLoaded:()=>B,onResetFeatures:()=>J,onSearchbar:()=>x,onShowAllFeatures:()=>M,onShowFeaturesById:()=>o,removeItem:()=>R,removeModelsById:()=>m,renderTree:()=>w}),g.exports=L(P);function x(u){r.on("Searchbar","hit",u)}function d(){r.off("Searchbar","hit")}function e(u){return r.request("RestReader","getServiceById",u).get("url")}function o(u){r.on("ModelList","showFeaturesById",u)}function M(u){r.on("ModelList","showAllFeatures",u)}function T(u){return r.request("ModelList","getModelByAttributes",u)}function w(){r.trigger("ModelList","renderTree")}function y(){r.trigger("ModelList","closeAllExpandedFolder")}function m(u){r.trigger("ModelList","removeModelsById",u)}function p(u){r.trigger("ModelList","addModelsByAttributes",u)}function n(){return r.request("ModelList","getCollection")}function _(u){return r.request("Parser","getItemByAttributes",u)}function a(u){return r.request("Parser","getItemsByAttributes",u)}function f(u,S,W,l){r.trigger("Parser","addFolder",u,S,W,l)}function b(u,S,W,l,s,c,D){r.trigger("Parser","addVectorLayer",u,S,W,l,s,c,D)}function R(u){r.trigger("Parser","removeItem",u)}function B(u){r.on("VectorLayer","featuresLoaded",u)}function J(u){r.on("VectorLayer","resetFeatures",u)}function z(u){r.trigger("MouseHover","add",u)}function G(u,S){return r.request("Util","groupBy",u,S)}}).call(this,t(3))},3684:function(g,v){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,j=(x,d)=>{for(var e in d)t(x,e,{get:d[e],enumerable:!0})},E=(x,d,e,o)=>{if(d&&typeof d=="object"||typeof d=="function")for(let M of i(d))!O.call(x,M)&&M!==e&&t(x,M,{get:()=>d[M],enumerable:!(o=r(d,M))||o.enumerable});return x},I=x=>E(t({},"__esModule",{value:!0}),x),h={};j(h,{default:()=>P}),g.exports=I(h);var P={active:!1,deactivateGFI:!1,icon:"bi-folder2-open",id:"templateManager",isVisibleInMenu:!0,importedTemplateNames:[],name:"Vorlagen",renderToWindow:!0,resizableWindow:!0,templatePath:"./assets/templates",templateFiles:["Erhaltungsmanagement_Spielplaetze"],readmeUrl:{"en-US":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/015templates.md","de-DE":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/015vorlagen.md"},toolToOpen:void 0,useImport:!1,useTemplatesForMapping:!1}},3762:function(g,v,t){var r=Object.create,i=Object.defineProperty,O=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,P=(n,_,a)=>_ in n?i(n,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[_]=a,x=(n,_)=>{for(var a in _||(_={}))h.call(_,a)&&P(n,a,_[a]);if(E)for(var a of E(_))L.call(_,a)&&P(n,a,_[a]);return n},d=(n,_)=>{for(var a in _)i(n,a,{get:_[a],enumerable:!0})},e=(n,_,a,f)=>{if(_&&typeof _=="object"||typeof _=="function")for(let b of j(_))!h.call(n,b)&&b!==a&&i(n,b,{get:()=>_[b],enumerable:!(f=O(_,b))||f.enumerable});return n},o=(n,_,a)=>(a=n!=null?r(I(n)):{},e(_||!n||!n.__esModule?i(a,"default",{value:n,enumerable:!0}):a,n)),M=n=>e(i({},"__esModule",{value:!0}),n),T={};d(T,{default:()=>p}),g.exports=M(T);var w=t(10),y=o(t(3684)),p=x({},(0,w.generateSimpleGetters)(y.default))},3815:function(g,v,t){var r=Object.create,i=Object.defineProperty,O=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,P=(n,_,a)=>_ in n?i(n,_,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[_]=a,x=(n,_)=>{for(var a in _||(_={}))h.call(_,a)&&P(n,a,_[a]);if(E)for(var a of E(_))L.call(_,a)&&P(n,a,_[a]);return n},d=(n,_)=>{for(var a in _)i(n,a,{get:_[a],enumerable:!0})},e=(n,_,a,f)=>{if(_&&typeof _=="object"||typeof _=="function")for(let b of j(_))!h.call(n,b)&&b!==a&&i(n,b,{get:()=>_[b],enumerable:!(f=O(_,b))||f.enumerable});return n},o=(n,_,a)=>(a=n!=null?r(I(n)):{},e(_||!n||!n.__esModule?i(a,"default",{value:n,enumerable:!0}):a,n)),M=n=>e(i({},"__esModule",{value:!0}),n),T={};d(T,{default:()=>p}),g.exports=M(T);var w=t(10),y=o(t(3684)),p=x({},(0,w.generateSimpleMutations)(y.default))},3816:function(g,v){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,j=(x,d)=>{for(var e in d)t(x,e,{get:d[e],enumerable:!0})},E=(x,d,e,o)=>{if(d&&typeof d=="object"||typeof d=="function")for(let M of i(d))!O.call(x,M)&&M!==e&&t(x,M,{get:()=>d[M],enumerable:!(o=r(d,M))||o.enumerable});return x},I=x=>E(t({},"__esModule",{value:!0}),x),h={};j(h,{default:()=>P}),g.exports=I(h);var P={}},3991:function(g,v,t){var r=Object.create,i=Object.defineProperty,O=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,E=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,h=(y,m)=>{for(var p in m)i(y,p,{get:m[p],enumerable:!0})},L=(y,m,p,n)=>{if(m&&typeof m=="object"||typeof m=="function")for(let _ of j(m))!I.call(y,_)&&_!==p&&i(y,_,{get:()=>m[_],enumerable:!(n=O(m,_))||n.enumerable});return y},P=(y,m,p)=>(p=y!=null?r(E(y)):{},L(m||!y||!y.__esModule?i(p,"default",{value:y,enumerable:!0}):p,y)),x=y=>L(i({},"__esModule",{value:!0}),y),d={};h(d,{default:()=>w}),g.exports=x(d);var e=P(t(3762)),o=P(t(3815)),M=P(t(3684)),T=P(t(3816)),w={namespaced:!0,state:M.default,mutations:o.default,getters:e.default,actions:T.default}},3992:function(g){g.exports=JSON.parse('{"modules":{"tools":{"cosi":{"templateManager":{"title":"Vorlagen","importTemplate":"Vorlage importieren","loadFromTemplate":"Vorlage laden","infoLoadFromTemplates":"Laden Sie eine thematische Basis-Konfiguration f\xFCr fachspezifische Analysen. Welche Inhalte durch die Vorlage geladen werden entnehmen Sie der Vorlagen\xFCbersicht. Manche Vorlagen beinhalten eine Gebietsauswahl, bei anderen k\xF6nnen Sie das Gebiet zuvor selbst ausw\xE4hlen.","noInfo":"Nicht vorhanden","label":{"selectTemplate":"Vorlage ausw\xE4hlen","created":"Erstellt","name":"Name","description":"Beschreibung","layers":"Themen","districtLevel":"Bezugsrahmen","selectedDistricts":"Ausgew\xE4hlte Gebiete","categories":"Statistische Daten","addTool":"Starter Werkzeug","calculations":"Berechnungen"},"activeTool":"Aktive Werkzeuge","errors":{"default":"Datei konnte nicht geladen werden.","invalid":"Datei konnte nicht gelesen werden.","wrongFileFormat":"Die Datei hat nicht das richtige Format.","templateName":"Eine Vorlage mit dem Namen: ","isLoaded":"ist bereits geladen.","attErr":" {{attribute}} Tag existiert nicht."}}}}}}')},3993:function(g){g.exports=JSON.parse(`{"modules":{"tools":{"cosi":{"templateManager":{"title":"Templates","importTemplate":"Import Template","loadFromTemplate":"Load Template","infoLoadFromTemplates":"Load basic thematic configurations for specific types of analyses. You can find the data which will be loaded in the templates' overview. Some templates include the selection of areas, some require you to select areas yourself in beforehand.","noInfo":"Not available.","label":{"selectTemplate":"Select Template","created":"Created","name":"Name","description":"Description","layers":"Topics","districtLevel":"District Level","selectedDistricts":"Selected Districts","categories":"Statistical Data","addTools":"Starting Tool","calculations":"Calculations"},"activeTool":"Active Tool","errors":{"default":"File could not be loaded.","invalid":"File could not be read.","wrongFileFormat":"The file is not in the correct format.","attErr":" {{attribute}} node does not exist."}}}}}}`)},4154:function(g,v,t){"use strict";t.r(v);var r=t(4155),i=t.n(r);for(var O in r)["default"].indexOf(O)<0&&function(j){t.d(v,j,function(){return r[j]})}(O);v.default=i.a},4155:function(g,v,t){var r=Object.defineProperty,i=Object.defineProperties,O=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,P=(m,p,n)=>p in m?r(m,p,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[p]=n,x=(m,p)=>{for(var n in p||(p={}))h.call(p,n)&&P(m,n,p[n]);if(I)for(var n of I(p))L.call(p,n)&&P(m,n,p[n]);return m},d=(m,p)=>i(m,j(p)),e=(m,p)=>{for(var n in p)r(m,n,{get:p[n],enumerable:!0})},o=(m,p,n,_)=>{if(p&&typeof p=="object"||typeof p=="function")for(let a of E(p))!h.call(m,a)&&a!==n&&r(m,a,{get:()=>p[a],enumerable:!(_=O(p,a))||_.enumerable});return m},M=m=>o(r({},"__esModule",{value:!0}),m),T={};e(T,{default:()=>y}),g.exports=M(T);var w=t(8),y={name:"ToolInfo",props:{title:{type:String,default:"Werkzeuginformationen (Link \xF6ffnen)"},url:{type:[String,Object],default:null},infoText:{type:String,default:void 0},summary:{type:String,default:null},locale:{type:String,default:"de"}},methods:d(x({},(0,w.mapActions)("Alerting",["addSingleAlert","cleanup"])),{showInfo(){return this.url?window.open(this.getUrl(),"_blank"):(this.infoText&&(this.cleanup(),this.addSingleAlert({category:"Info",content:this.infoText,displayClass:"info"})),null)},getUrl(){if(typeof this.url=="string")return this.url;const m=Object.keys(this.url).find(p=>p.substring(0,p.indexOf("-"))===this.locale.substring(0,p.indexOf("-")));return this.url[m]}})}},4156:function(g,v,t){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,E=(d,e)=>{for(var o in e)r(d,o,{get:e[o],enumerable:!0})},I=(d,e,o,M)=>{if(e&&typeof e=="object"||typeof e=="function")for(let T of O(e))!j.call(d,T)&&T!==o&&r(d,T,{get:()=>e[T],enumerable:!(M=i(e,T))||M.enumerable});return d},h=d=>I(r({},"__esModule",{value:!0}),d),L={};E(L,{render:()=>P,staticRenderFns:()=>x}),g.exports=h(L);var P=function(){var e=this,o=e._self._c;return o("div",[o("v-row",{attrs:{dense:"",justify:"end"}},[o("v-col",{attrs:{cols:"17"}},[e.summary?o("p",[e._v(`
                `+e._s(e.summary)+`
            `)]):e._e()]),e._v(" "),o("v-col",{attrs:{cols:"1"}},[e.infoText||e.url?o("v-btn",{staticClass:"info_btn",attrs:{title:e.title,depressed:"",right:"",icon:"","x-small":""},on:{click:e.showInfo}},[o("v-icon",[e._v("mdi-help-circle")])],1):e._e()],1)],1),e._v(" "),o("v-divider")],1)},x=[];P._withStripped=!0},4157:function(g,v,t){},4162:function(g,v,t){"use strict";t.r(v);var r=t(4163),i=t(4154);for(var O in i)["default"].indexOf(O)<0&&function(h){t.d(v,h,function(){return i[h]})}(O);var j=t(4164),E=t(1),I=Object(E.a)(i.default,r.render,r.staticRenderFns,!1,null,"0f052480",null);v.default=I.exports},4163:function(g,v,t){"use strict";var r=t(4156),i=t.n(r);t.o(r,"render")&&t.d(v,"render",function(){return r.render}),t.o(r,"staticRenderFns")&&t.d(v,"staticRenderFns",function(){return r.staticRenderFns})},4164:function(g,v,t){"use strict";var r=t(4157),i=t.n(r)},4444:function(g,v,t){"use strict";t.r(v);var r=t(4445),i=t.n(r);for(var O in r)["default"].indexOf(O)<0&&function(j){t.d(v,j,function(){return r[j]})}(O);v.default=i.a},4445:function(g,v,t){var r=Object.create,i=Object.defineProperty,O=Object.defineProperties,j=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,L=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,d=(l,s,c)=>s in l?i(l,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[s]=c,e=(l,s)=>{for(var c in s||(s={}))P.call(s,c)&&d(l,c,s[c]);if(h)for(var c of h(s))x.call(s,c)&&d(l,c,s[c]);return l},o=(l,s)=>O(l,E(s)),M=(l,s)=>{for(var c in s)i(l,c,{get:s[c],enumerable:!0})},T=(l,s,c,D)=>{if(s&&typeof s=="object"||typeof s=="function")for(let A of I(s))!P.call(l,A)&&A!==c&&i(l,A,{get:()=>s[A],enumerable:!(D=j(s,A))||D.enumerable});return l},w=(l,s,c)=>(c=l!=null?r(L(l)):{},T(s||!l||!l.__esModule?i(c,"default",{value:l,enumerable:!0}):c,l)),y=l=>T(i({},"__esModule",{value:!0}),l),m=(l,s,c)=>new Promise((D,A)=>{var F=N=>{try{$(c.next(N))}catch(V){A(V)}},C=N=>{try{$(c.throw(N))}catch(V){A(V)}},$=N=>N.done?D(N.value):Promise.resolve(N.value).then(F,C);$((c=c.apply(l,s)).next())}),p={};M(p,{default:()=>W}),g.exports=y(p);var n=w(t(59)),_=t(41),a=t(8),f=w(t(3762)),b=w(t(3815)),R=w(t(3816)),B=w(t(4162)),J=w(t(5496)),z=w(t(25)),G=w(t(4176)),u=t(3649),S=w(t(2093)),W={name:"TemplateManager",components:{Tool:n.default,ToolInfo:B.default,TemplateManagerImport:J.default,Multiselect:S.default},data(){return{templates:[],selectedTemplateName:!1,filters:[]}},computed:o(e(e(e(e({},(0,a.mapGetters)("Language",["currentLocale"])),(0,a.mapGetters)("Tools/TemplateManager",Object.keys(f.default))),(0,a.mapGetters)("Tools/SaveSession",[])),(0,a.mapGetters)("Tools/DistrictSelector",["districtLevels"])),{hasTemplates(){return this.templates.length>0},selectedTemplate(){return this.templates.find(l=>l.meta.title===this.selectedTemplateName)},selectedTemplateIndex(){return this.templates.findIndex(l=>l.meta.title===this.selectedTemplateName)},templateTitles(){return this.templates.map(l=>l.meta.title)}}),watch:{active(l){if(!l){const s=(0,_.getComponent)(this.id);s&&s.set("isActive",!1)}},templates:"createFilterObjects"},created(){this.$on("close",()=>{this.setActive(!1)})},mounted(){this.loadTemplates()},methods:o(e(e(e(e({},(0,a.mapMutations)("Tools/TemplateManager",Object.keys(b.default))),(0,a.mapActions)("Tools/TemplateManager",Object.keys(R.default))),(0,a.mapMutations)("Tools/DistrictSelector",["setMapping"])),(0,a.mapActions)("Tools/SaveSession",["loadSessionData"])),{loadTemplates(){return m(this,null,function*(){let l,s;const c=[];for(const D of this.templateFiles){l=`${this.templatePath}/${D}.json`;try{s=yield(0,z.default)(l),s=yield s.data,c.push(s)}catch{console.warn(`Template at ${l} could not be loaded. Please check that it is a valid JSON file.`)}}this.templates=c,this.selectedTemplateName=this.templates[0].meta.title})},createFilterObjects(){this.filters=this.templates.map(l=>({name:l.meta.title,activeLayerList:Object.fromEntries(this.getActiveLayerList(l).map(s=>[s.id,!0])),selectedDistrictNames:Object.fromEntries(this.getSelectedDistricts(l).map(s=>[s,!0])),statsCategories:Object.fromEntries(this.getStatsCategories(l).map(s=>[s,!0])),calculations:Object.fromEntries(this.getCalculations(l).map(s=>[s.id,!0]))}))},applyFilters(l,s){var c,D,A,F;const C=JSON.parse(JSON.stringify(l)),$=Object.keys(s.activeLayerList).filter(U=>s.activeLayerList[U]),N=Object.keys(s.selectedDistrictNames).filter(U=>s.selectedDistrictNames[U]),V=Object.keys(s.statsCategories).filter(U=>s.statsCategories[U]),X=this.getCalculations(l).filter(U=>s.calculations[U.id]);return(c=C.state.Maps)!=null&&c.layerIds&&(C.state.Maps.layerIds=$),(D=C.state.Tools.DistrictSelector)!=null&&D.selectedDistrictNames&&(C.state.Tools.DistrictSelector.selectedDistrictNames=N),(A=C.state.Tools.Dashboard)!=null&&A.statsFeatureFilter&&(C.state.Tools.Dashboard.statsFeatureFilter=V),(F=C.state.Tools.Dashboard)!=null&&F.calculations&&(C.state.Tools.Dashboard.calculations=X),C},loadFromTemplate(l,s){var c,D,A,F;l.meta.isActive=!0;const C=this.applyFilters(l,this.filters[s]),$=(D=(c=l?.state)==null?void 0:c.Tools)==null?void 0:D.toolToOpen;this.useTemplatesForMapping&&(l.meta.time=new Date().getTime(),this.createMappingByTemplates(this.templates,G.default)),this.loadSessionData(C),this.setActive(!1),this.openTool($),this.loadLayer((F=(A=C?.state)==null?void 0:A.Maps)==null?void 0:F.layerIds)},loadLayer(l){Array.isArray(l)&&l.length&&l.forEach(s=>{(0,u.getModelByAttributes)({id:s})||(0,u.addModelsByAttributes)({id:s});const c=(0,u.getModelByAttributes)({id:s});c&&c.set("isSelected",!0)})},openTool(l){typeof l=="string"?this.$store.dispatch("Tools/setToolActive",{id:l,active:!0}):typeof this.toolToOpen=="string"&&this.$store.dispatch("Tools/setToolActive",{id:this.toolToOpen,active:!0})},getActiveLayerList(l){var s,c;if(Array.isArray((c=(s=l?.state)==null?void 0:s.Maps)==null?void 0:c.layerIds)&&l.state.Maps.layerIds.length===0)return[];const D=(0,u.getItemsByAttributes)({type:"layer"});return Array.isArray(D)?D.filter(A=>l.state.Maps.layerIds.includes(A.id)):[]},getActiveTool(l){var s;const c=(s=Object.entries(l.state.Tools).find(D=>D[1].active))==null?void 0:s[0];return this.$store.getters[`Tools/${c}/name`]},getActiveDistrictLevel(l){var s,c,D,A,F;const C=(D=(c=(s=l?.state)==null?void 0:s.Tools)==null?void 0:c.DistrictSelector)==null?void 0:D.selectedDistrictLevelId;return(F=(A=this.districtLevels)==null?void 0:A.find($=>$.layerId===C))==null?void 0:F.label},getSelectedDistricts(l){var s,c,D;return((D=(c=(s=l?.state)==null?void 0:s.Tools)==null?void 0:c.DistrictSelector)==null?void 0:D.selectedDistrictNames)||[]},getStatsCategories(l){var s,c,D;return((D=(c=(s=l?.state)==null?void 0:s.Tools)==null?void 0:c.Dashboard)==null?void 0:D.statsFeatureFilter)||[]},getInitTool(l){var s,c;return(c=(s=l?.state)==null?void 0:s.Tools)==null?void 0:c.toolToOpen},getCalculations(l){var s,c,D;return((D=(c=(s=l?.state)==null?void 0:s.Tools)==null?void 0:c.Dashboard)==null?void 0:D.calculations)||[]},addTemplate(l){this.templates.push(l),this.selectedTemplateName=l.meta.title},createMappingByTemplates(l,s){const c=l.filter(F=>F.meta.isActive),D=c.sort((F,C)=>C.meta.time-F.meta.time),A=[];D.forEach(F=>{var C,$,N,V,X,U;const q=this.filters.find(K=>K.name===F.meta.title),Y=this.applyFilters(F,q),k=(N=($=(C=Y.state)==null?void 0:C.Tools)==null?void 0:$.Dashboard)==null?void 0:N.statsFeatureFilter,Z=(U=(X=(V=Y.state)==null?void 0:V.Tools)==null?void 0:X.Dashboard)==null?void 0:U.orientationValues;k?k.forEach(K=>{const H=s.find(ee=>ee.value===K),Q={};H&&(Object.assign(Q,H),Q.value=K,Q.group=F.meta.title,Z&&Array.isArray(Z)&&Z.length>0&&(Q.orientationValue=this.getOrientationValueByStatistic(Z,K)),A.push(Q))}):s.forEach(K=>{const H=Object.assign({},K);H.group=F.meta.title,A.push(H)})}),A.length>0&&this.setMapping(A)},getOrientationValueByStatistic(l,s){var c;return((c=l.find(D=>D.statisticName===s))==null?void 0:c.value)||"-"}})}},4446:function(g,v,t){"use strict";t.r(v);var r=t(4447),i=t.n(r);for(var O in r)["default"].indexOf(O)<0&&function(j){t.d(v,j,function(){return r[j]})}(O);v.default=i.a},4447:function(g,v,t){var r=Object.create,i=Object.defineProperty,O=Object.defineProperties,j=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,L=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,d=(a,f,b)=>f in a?i(a,f,{enumerable:!0,configurable:!0,writable:!0,value:b}):a[f]=b,e=(a,f)=>{for(var b in f||(f={}))P.call(f,b)&&d(a,b,f[b]);if(h)for(var b of h(f))x.call(f,b)&&d(a,b,f[b]);return a},o=(a,f)=>O(a,E(f)),M=(a,f)=>{for(var b in f)i(a,b,{get:f[b],enumerable:!0})},T=(a,f,b,R)=>{if(f&&typeof f=="object"||typeof f=="function")for(let B of I(f))!P.call(a,B)&&B!==b&&i(a,B,{get:()=>f[B],enumerable:!(R=j(f,B))||R.enumerable});return a},w=(a,f,b)=>(b=a!=null?r(L(a)):{},T(f||!a||!a.__esModule?i(b,"default",{value:a,enumerable:!0}):b,a)),y=a=>T(i({},"__esModule",{value:!0}),a),m={};M(m,{default:()=>_}),g.exports=y(m);var p=t(8),n=w(t(3762)),_={name:"TemplateManagerImport",computed:e({},(0,p.mapGetters)("Tools/TemplateManager",Object.keys(n.default))),methods:o(e({},(0,p.mapActions)("Alerting",["addSingleAlert"])),{triggerFileInput(){this.$el.querySelector("#file-input").click()},loadFiles(a){for(const f of a.target.files){if(!f.type.match("application/json")){this.addSingleAlert({content:`${f.name}: ${this.$t("additional:modules.tools.cosi.templateManager.errors.wrongFileFormat")}`,category:"Warning",displayClass:"warning"});continue}const b=new FileReader;b.onload=this.parseFileContent,b.readAsText(f)}this.$refs.form.reset()},parseFileContent(a){var f,b,R,B,J,z,G;let u={};try{u=JSON.parse((f=a?.target)==null?void 0:f.result)}catch{this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")}`,category:"Warning",displayClass:"warning"});return}if(!Object.prototype.hasOwnProperty.call(u,"meta")){const S="Meta";this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")} ${this.$t("additional:modules.tools.cosi.templateManager.errors.attErr",{attribute:S})}`,category:"Warning",displayClass:"warning"});return}if(!Object.prototype.hasOwnProperty.call(u?.meta,"title")){const S="Title";this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")} ${this.$t("additional:modules.tools.cosi.templateManager.errors.attErr",{attribute:S})}`,category:"Warning",displayClass:"warning"});return}if(!Object.prototype.hasOwnProperty.call(u,"state")){const S="State";this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")} ${this.$t("additional:modules.tools.cosi.templateManager.errors.attErr",{attribute:S})}`,category:"Warning",displayClass:"warning"});return}if(!Object.prototype.hasOwnProperty.call(u?.state,"Tools")){const S="Tools";this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")} ${this.$t("additional:modules.tools.cosi.templateManager.errors.attErr",{attribute:S})}`,category:"Warning",displayClass:"warning"});return}if(!Object.prototype.hasOwnProperty.call((b=u?.state)==null?void 0:b.Tools,"Dashboard")){const S="Dashboard";this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")} ${this.$t("additional:modules.tools.cosi.templateManager.errors.attErr",{attribute:S})}`,category:"Warning",displayClass:"warning"});return}if(!Object.prototype.hasOwnProperty.call((B=(R=u?.state)==null?void 0:R.Tools)==null?void 0:B.Dashboard,"statsFeatureFilter")){const S="statsFeatureFilter";this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.invalid")} ${this.$t("additional:modules.tools.cosi.templateManager.errors.attErr",{attribute:S})}`,category:"Warning",displayClass:"warning"});return}if(Array.isArray(this.importedTemplateNames)&&this.importedTemplateNames.includes((J=u?.meta)==null?void 0:J.title)){this.addSingleAlert({content:`${this.$t("additional:modules.tools.cosi.templateManager.errors.templateName")} ${(z=u?.meta)==null?void 0:z.title} ${this.$t("additional:modules.tools.cosi.templateManager.errors.isLoaded")}`,category:"Warning",displayClass:"warning"});return}this.importedTemplateNames.push((G=u?.meta)==null?void 0:G.title),this.$emit("addTemplate",u)}})}},4853:function(g,v,t){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,E=(d,e)=>{for(var o in e)r(d,o,{get:e[o],enumerable:!0})},I=(d,e,o,M)=>{if(e&&typeof e=="object"||typeof e=="function")for(let T of O(e))!j.call(d,T)&&T!==o&&r(d,T,{get:()=>e[T],enumerable:!(M=i(e,T))||M.enumerable});return d},h=d=>I(r({},"__esModule",{value:!0}),d),L={};E(L,{render:()=>P,staticRenderFns:()=>x}),g.exports=h(L);var P=function(){var e=this,o=e._self._c;return o("Tool",{ref:"tool",attrs:{title:e.$t("additional:modules.tools.cosi.templateManager.title"),icon:e.icon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"deactivate-gfi":e.deactivateGFI,"initial-width":700},scopedSlots:e._u([e.active?{key:"toolBody",fn:function(){var M,T,w,y,m,p,n,_;return[o("div",{staticClass:"container",attrs:{id:"template-manager"}},[o("ToolInfo",{attrs:{url:e.readmeUrl,locale:e.currentLocale,summary:e.$t("additional:modules.tools.cosi.templateManager.infoLoadFromTemplates")}}),e._v(" "),e.useImport?o("TemplateManagerImport",{on:{addTemplate:e.addTemplate}}):e._e(),e._v(" "),o("label",{staticClass:"col col-md form-label p-0 m-0",attrs:{for:"select-template"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.selectTemplate"))+`
            `)]),e._v(" "),e.hasTemplates?o("Multiselect",{staticClass:"mb-4",attrs:{id:"select-template",options:e.templateTitles,"close-on-select":!0,"show-labels":!1,"allow-empty":!1,multiple:!1,placeholder:e.$t("additional:modules.tools.cosi.templateManager.label.selectTemplate")},model:{value:e.selectedTemplateName,callback:function(a){e.selectedTemplateName=a},expression:"selectedTemplateName"}}):e._e(),e._v(" "),o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-created"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.created"))+`
                `)]),e._v(" "),o("p",{attrs:{id:"selected-template-created"}},[e._v(`
                    `+e._s(((T=(M=e.selectedTemplate)==null?void 0:M.meta)==null?void 0:T.created)||e.$t("additional:modules.tools.cosi.templateManager.noInfo"))+`
                `)])]),e._v(" "),o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-title"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.name"))+`
                `)]),e._v(" "),o("p",{attrs:{id:"selected-template-title"}},[e._v(`
                    `+e._s(((y=(w=e.selectedTemplate)==null?void 0:w.meta)==null?void 0:y.title)||e.$t("additional:modules.tools.cosi.templateManager.noInfo"))+`
                `)])]),e._v(" "),(p=(m=e.selectedTemplate)==null?void 0:m.meta)!=null&&p.info?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-description"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.description"))+`
                `)]),e._v(" "),o("p",{attrs:{id:"selected-template-description"}},[e._v(`
                    `+e._s((_=(n=e.selectedTemplate)==null?void 0:n.meta)==null?void 0:_.info)+`
                `)])]):e._e(),e._v(" "),e.getActiveLayerList(e.selectedTemplate).length>0?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-layer"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.layers"))+`
                `)]),e._v(" "),o("div",{attrs:{id:"selected-template-layer"}},e._l(e.getActiveLayerList(e.selectedTemplate),function(a){return o("v-chip",{key:e.selectedTemplate.meta.title+a.id,staticClass:"m-1",attrs:{small:""}},[e._v(`
                        `+e._s(a.name)+`
                        `),o("v-checkbox",{attrs:{small:""},model:{value:e.filters[e.selectedTemplateIndex].activeLayerList[a.id],callback:function(f){e.$set(e.filters[e.selectedTemplateIndex].activeLayerList,a.id,f)},expression:"filters[selectedTemplateIndex].activeLayerList[layerMap.id]"}})],1)}),1)]):e._e(),e._v(" "),e.getActiveDistrictLevel(e.selectedTemplate)?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-level"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.districtLevel"))+`
                `)]),e._v(" "),o("p",{attrs:{id:"selected-template-level"}},[e._v(`
                    `+e._s(e.getActiveDistrictLevel(e.selectedTemplate))+`
                `)])]):e._e(),e._v(" "),e.getSelectedDistricts(e.selectedTemplate).length>0?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-districts"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.selectedDistricts"))+`
                `)]),e._v(" "),o("div",{attrs:{id:"selected-template-districts"}},e._l(e.getSelectedDistricts(e.selectedTemplate),function(a){return o("v-chip",{key:e.selectedTemplate.meta.title+a,staticClass:"m-1",attrs:{small:""}},[e._v(`
                        `+e._s(a)+`
                        `),o("v-checkbox",{attrs:{small:""},model:{value:e.filters[e.selectedTemplateIndex].selectedDistrictNames[a],callback:function(f){e.$set(e.filters[e.selectedTemplateIndex].selectedDistrictNames,a,f)},expression:"filters[selectedTemplateIndex].selectedDistrictNames[districtName]"}})],1)}),1)]):e._e(),e._v(" "),e.getStatsCategories(e.selectedTemplate).length>0?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-statistics"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.categories"))+`
                `)]),e._v(" "),o("div",{attrs:{id:"selected-template-statistics"}},e._l(e.getStatsCategories(e.selectedTemplate),function(a){return o("v-chip",{key:e.selectedTemplate.meta.title+a,staticClass:"m-1",attrs:{small:""}},[e._v(`
                        `+e._s(a)+`
                        `),o("v-checkbox",{attrs:{small:""},model:{value:e.filters[e.selectedTemplateIndex].statsCategories[a],callback:function(f){e.$set(e.filters[e.selectedTemplateIndex].statsCategories,a,f)},expression:"filters[selectedTemplateIndex].statsCategories[category]"}})],1)}),1)]):e._e(),e._v(" "),e.getInitTool(e.selectedTemplate)?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-tool"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.addTool"))+`
                `)]),e._v(" "),o("p",{attrs:{id:"selected-template-tool"}},[e._v(`
                    `+e._s(e.getInitTool(e.selectedTemplate))+`
                `)])]):e._e(),e._v(" "),e.getCalculations(e.selectedTemplate).length>0?o("div",{staticClass:"mb-4"},[o("label",{attrs:{for:"selected-template-calculations"}},[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.templateManager.label.calculations"))+`
                `)]),e._v(" "),o("div",{attrs:{id:"selected-template-calculations"}},e._l(e.getCalculations(e.selectedTemplate),function(a,f){return o("v-chip",{key:e.selectedTemplate.meta.title+"calculation"+f,staticClass:"m-1",attrs:{small:""}},[e._v(`
                        `+e._s(a.id)+`
                        `),o("v-checkbox",{attrs:{small:""},model:{value:e.filters[e.selectedTemplateIndex].calculations[a.id],callback:function(b){e.$set(e.filters[e.selectedTemplateIndex].calculations,a.id,b)},expression:"filters[selectedTemplateIndex].calculations[calculation.id]"}})],1)}),1)]):e._e(),e._v(" "),o("button",{staticClass:"btn btn-outline lh-1 fs-5",on:{click:function(a){return e.loadFromTemplate(e.selectedTemplate,e.selectedTemplateIndex)}}},[o("i",{staticClass:"bi bi-file-earmark-plus pe-2"}),e._v(e._s(e.$t("additional:modules.tools.cosi.templateManager.loadFromTemplate"))+`
            `)])],1)]},proxy:!0}:null],null,!0)})},x=[];P._withStripped=!0},4854:function(g,v,t){var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,E=(d,e)=>{for(var o in e)r(d,o,{get:e[o],enumerable:!0})},I=(d,e,o,M)=>{if(e&&typeof e=="object"||typeof e=="function")for(let T of O(e))!j.call(d,T)&&T!==o&&r(d,T,{get:()=>e[T],enumerable:!(M=i(e,T))||M.enumerable});return d},h=d=>I(r({},"__esModule",{value:!0}),d),L={};E(L,{render:()=>P,staticRenderFns:()=>x}),g.exports=h(L);var P=function(){var e=this,o=e._self._c;return o("div",{attrs:{id:"template-manager-import"}},[o("button",{staticClass:"btn btn-outline lh-1 fs-5 mb-3",on:{click:e.triggerFileInput}},[o("i",{staticClass:"bi bi-upload pe-2"}),e._v(e._s(e.$t("additional:modules.tools.cosi.templateManager.importTemplate"))+`
    `)]),e._v(" "),o("form",{ref:"form"},[o("label",{attrs:{for:"file-input"}},[o("input",{staticClass:"d-none",attrs:{id:"file-input",type:"file",multiple:""},on:{change:e.loadFiles}})])])])},x=[];P._withStripped=!0},4855:function(g,v,t){},4856:function(g,v,t){},4857:function(g,v,t){g.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},5494:function(g,v,t){"use strict";t.r(v);var r=t(5495),i=t(4444);for(var O in i)["default"].indexOf(O)<0&&function(L){t.d(v,L,function(){return i[L]})}(O);var j=t(5499),E=t(5500),I=t(1),h=Object(I.a)(i.default,r.render,r.staticRenderFns,!1,null,"982d66a2",null);v.default=h.exports},5495:function(g,v,t){"use strict";var r=t(4853),i=t.n(r);t.o(r,"render")&&t.d(v,"render",function(){return r.render}),t.o(r,"staticRenderFns")&&t.d(v,"staticRenderFns",function(){return r.staticRenderFns})},5496:function(g,v,t){"use strict";t.r(v);var r=t(5497),i=t(4446);for(var O in i)["default"].indexOf(O)<0&&function(h){t.d(v,h,function(){return i[h]})}(O);var j=t(5498),E=t(1),I=Object(E.a)(i.default,r.render,r.staticRenderFns,!1,null,"30562a90",null);v.default=I.exports},5497:function(g,v,t){"use strict";var r=t(4854),i=t.n(r);t.o(r,"render")&&t.d(v,"render",function(){return r.render}),t.o(r,"staticRenderFns")&&t.d(v,"staticRenderFns",function(){return r.staticRenderFns})},5498:function(g,v,t){"use strict";var r=t(4855),i=t.n(r)},5499:function(g,v,t){"use strict";var r=t(4856),i=t.n(r)},5500:function(g,v,t){"use strict";var r=t(4857),i=t.n(r)}}]);
