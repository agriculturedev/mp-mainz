(window.webpackJsonp=window.webpackJsonp||[]).push([[542],{4082:function(E,L,p){(function(M){var b=Object.create,c=Object.defineProperty,_=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,x=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty,F=(t,r)=>{for(var e in r)c(t,e,{get:r[e],enumerable:!0})},d=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of m(r))!C.call(t,o)&&o!==e&&c(t,o,{get:()=>r[o],enumerable:!(n=_(r,o))||n.enumerable});return t},v=(t,r,e)=>(e=t!=null?b(x(t)):{},d(r||!t||!t.__esModule?c(e,"default",{value:t,enumerable:!0}):e,t)),R=t=>d(c({},"__esModule",{value:!0}),t),h={};F(h,{default:()=>G}),E.exports=R(h);var S=p(2106),g=v(p(45)),w=p(5),D=v(p(284)),O=v(p(18));function G(t,r,e,n,o,s,f,l,u){A(t,r,o,f,a=>{if(!Array.isArray(a)){u(new Error("allFeaturesByDuration: featuresAndRouting is not an array")),console.warn("featuresAndRouting",a);return}const i={};a.forEach(({feature:j,routing:P})=>{!(0,O.default)(j)||!(0,O.default)(P)||(Array.isArray(s)&&s.forEach(y=>{Array.isArray(i[y])||(i[y]=[]),i[y].push(j.get(y))}),typeof e=="string"&&(Array.isArray(i[e])||(i[e]=[]),i[e].push(Math.ceil(P.duration/60))),typeof n=="string"&&(Array.isArray(i[n])||(i[n]=[]),i[n].push((0,D.default)(Math.round(P.distance)))))}),l(i)},u)}function A(t,r,e,n,o,s,f=[],l=0){const u=r[l];if(!(0,O.default)(u)){o(f);return}n(M.t("additional:modules.tools.valuationPrint.pleaseWait")),J(t,u,e,a=>{f.push({feature:u,routing:a}),A(t,r,e,n,o,s,f,l+1)},s)}function J(t,r,e,n,o){if(typeof r?.getGeometry!="function"){o(new Error("requestRoutingByFeature: A feature given to the routing is not a valid ol feature."));return}const s=r.getGeometry().getExtent(),f=(0,w.getCenter)(s),l="EPSG:4326",u=g.default.getMapProjection(mapCollection.getMap("2D"));(0,S.fetchRoutingOrsDirections)({coordinates:[g.default.transform(u,l,t),g.default.transform(u,l,f)],transformCoordinatesToLocal:a=>a,speedProfile:e,avoidSpeedProfileOptions:[],preference:"RECOMMENDED",avoidPolygons:{coordinates:[],type:"MultiPolygon"},instructions:!1}).then(a=>{n(a)}).catch(a=>{o(a)})}}).call(this,p(6))}}]);
