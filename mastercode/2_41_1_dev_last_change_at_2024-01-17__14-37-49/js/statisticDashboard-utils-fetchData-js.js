(window.webpackJsonp=window.webpackJsonp||[]).push([[519],{4067:function(O,$,p){var m=Object.create,c=Object.defineProperty,P=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,w=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,D=(t,n)=>{for(var e in n)c(t,e,{get:n[e],enumerable:!0})},_=(t,n,e,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of A(n))!x.call(t,a)&&a!==e&&c(t,a,{get:()=>n[a],enumerable:!(u=P(n,a))||u.enumerable});return t},b=(t,n,e)=>(e=t!=null?m(w(t)):{},_(n||!t||!t.__esModule?c(e,"default",{value:t,enumerable:!0}):e,t)),j=t=>_(c({},"__esModule",{value:!0}),t),d=(t,n,e)=>new Promise((u,a)=>{var l=v=>{try{h(e.next(v))}catch(M){a(M)}},f=v=>{try{h(e.throw(v))}catch(M){a(M)}},h=v=>v.done?u(v.value):Promise.resolve(v.value).then(l,f);h((e=e.apply(t,n)).next())}),g={};D(g,{default:()=>F}),O.exports=j(g);var T=p(168),W=p(1202),S=p(58),E=b(p(18)),r=p(4170);function o(t,n){return d(this,null,function*(){const e=T.rawLayerList.getLayerWhere({id:t});let u=null,a=null,l=null;return e===null?[]:(e?.typ==="WFS"&&(u=yield this.fetchAllDataForWFS(e?.url,e?.featureType,n.join(",")),a=new S.WFS().readFeatures(u),l=yield this.getAttributesWithType(e?.url,n,e?.featureType)),this.getUniqueValuesFromFeatures(a,l))})}function i(t,n,e){return d(this,null,function*(){if(typeof t!="string"||!Array.isArray(n))return[];const u=yield(0,r.describeFeatureType)(t),a=(0,r.getFeatureDescription)(u,e);return Array.isArray(a)?a.filter(f=>n.includes(f.name)):[]})}function y(t,n,e){return d(this,null,function*(){const u={version:"1.1.0",featureType:n,propertyNames:e};return(0,W.getFeatureGET)(t,u,a=>{console.error(a)})})}function s(t,n){if(!Array.isArray(t)||!Array.isArray(n))return{};const e={};return t.forEach(u=>{const a=u.getProperties();n.forEach(l=>{const f=a[l.name];(0,E.default)(e[l.name])||(e[l.name]={}),e[l.name][f]=!0})}),e}var F={getUniqueValues:o,getAttributesWithType:i,fetchAllDataForWFS:y,getUniqueValuesFromFeatures:s}},4170:function(O,$,p){var m=Object.create,c=Object.defineProperty,P=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,w=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,D=(r,o)=>{for(var i in o)c(r,i,{get:o[i],enumerable:!0})},_=(r,o,i,y)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of A(o))!x.call(r,s)&&s!==i&&c(r,s,{get:()=>o[s],enumerable:!(y=P(o,s))||y.enumerable});return r},b=(r,o,i)=>(i=r!=null?m(w(r)):{},_(o||!r||!r.__esModule?c(i,"default",{value:r,enumerable:!0}):i,r)),j=r=>_(c({},"__esModule",{value:!0}),r),d={};D(d,{describeFeatureType:()=>S,getFeatureDescription:()=>E}),O.exports=j(d);var g=b(p(25)),T=b(p(1203)),W=b(p(1206));function S(r,o="1.1.0",i=void 0){if(typeof r!="string"){console.error(`api/wfs/describeFeatureType: Url is ${r}. Url has to be defined and a string.`);return}if(typeof o!="string"){console.error(`api/wfs/describeFeatureType: Version is ${o}. Version has to be a string. Default is 1.1.0.`);return}const y={params:{service:"WFS",request:"DescribeFeatureType",version:o,typeName:Array.isArray(i)?i.join(","):i,typeNames:Array.isArray(i)?i.join(","):i}};return g.default.get(r,y).then(s=>(0,T.default)(s.request.responseXML)).catch(s=>W.default.handleAxiosError(s,"api/wfs/describeFeatureType"))}function E(r,o){var i,y,s,F,t,n,e,u;if(typeof r!="object"||r===null||typeof o!="string"){console.error(`getFeatureDescription: ${r} has to be defined and an object (not null). ${o} has to be defined and a string`);return}const a=[],l=Array.isArray((i=r?.schema)==null?void 0:i.element)?(s=(y=r?.schema)==null?void 0:y.element)==null?void 0:s.find(f=>{var h;return((h=f.attributes)==null?void 0:h.name)===o}):(F=r?.schema)==null?void 0:F.element;if(typeof l>"u"){console.error(`getFeatureDescription: FeatureType "${l}" was not found`);return}if(!Array.isArray((u=(e=(n=(t=l.complexType)==null?void 0:t.complexContent)==null?void 0:n.extension)==null?void 0:e.sequence)==null?void 0:u.element)){console.error(`getFeatureDescription: No attributes were found for the FeatureType "${l}"`);return}return l.complexType.complexContent.extension.sequence.element.forEach(f=>{a.push(f.getAttributes())}),a}}}]);
