(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{3944:function(h,k,u){var F=Object.create,p=Object.defineProperty,l=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,m=(e,t)=>{for(var a in t)p(e,a,{get:t[a],enumerable:!0})},g=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of v(t))!j.call(e,n)&&n!==a&&p(e,n,{get:()=>t[n],enumerable:!(r=l(t,n))||r.enumerable});return e},c=(e,t,a)=>(a=e!=null?F(b(e)):{},g(t||!e||!e.__esModule?p(a,"default",{value:e,enumerable:!0}):a,e)),w=e=>g(p({},"__esModule",{value:!0}),e),f={};m(f,{createStatFeaturesFromLTF:()=>i,findMappingObjectByCategory:()=>O,parseFeatures:()=>S,prepareStatsFeatures:()=>y,updateStatFeaturesFromLTF:()=>_}),h.exports=w(f);var s=c(u(4176)),P=c(u(21));function S(e,t,a){if(e.every(r=>r.get("jahr")&&r.get("jahr_timestamp")))if(t.statFeatures.length>0)_(e,t.statFeatures);else{const r=i(e,a,t);t.statFeatures.push(...r),t.originalStatFeatures.push(...r.map(n=>n.clone()))}else e.forEach(y),t.statFeatures.push(...e),t.originalStatFeatures=e.map(r=>r.clone())}function y(e){const t=O(e.get("kategorie"));e.unset("geom"),typeof t<"u"&&(e.set("kategorie",t.value),e.set("group",t.group))}function i(e,t){const a=[];return s.default.forEach(r=>{const n=new P.default({kategorie:r.value,group:r.group});n.set(t.stats.keyOfAttrName,e[0].get(t.stats.keyOfAttrName)),t.referenceLevel&&n.set(t.referenceLevel.stats.keyOfAttrName,e[0].get(t.referenceLevel.stats.keyOfAttrName)),e.forEach(o=>{n.set("jahr_"+o.get("jahr"),o.get(r.category))}),a.push(n)}),a}function _(e,t){const a=Object.keys(e[0].getProperties());s.default.forEach((r,n)=>{a.includes(r.category)&&e.forEach(o=>{t[n].set("jahr_"+o.get("jahr"),o.get(r.category))})})}function O(e){if(typeof e!="string"){console.error(`prepareStatFeatures.findMappingObjectByCategory: ${e} has to be defined and a string.`);return}return s.default.find(t=>t.category===e)}}}]);
