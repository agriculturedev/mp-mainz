(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{4127:function(C,A,b){var y=Object.defineProperty,w=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,P=(f,t)=>{for(var e in t)y(f,e,{get:t[e],enumerable:!0})},D=(f,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of O(t))!v.call(f,i)&&i!==e&&y(f,i,{get:()=>t[i],enumerable:!(a=w(t,i))||a.enumerable});return f},W=f=>D(y({},"__esModule",{value:!0}),f),d={};P(d,{TrafficCountCache:()=>j}),C.exports=W(d);var g=b(4128);class j{constructor(t,e,a,i){this.api=i||(t==="test://api"?{updateTitle:()=>!1,updateDirection:()=>!1}:new g.TrafficCountApi(t,e,a)),this.cache={}}updateTitle(t,e,a,i,h,r=null,s=null){const u="updateTitle"+t;(r||this.simpleCacheCall).bind(this)(u,c=>{(s||this.api).updateTitle(t,(...l)=>typeof c=="function"?c(...l):null,a)},e,e,i,h)}updateDirection(t,e,a,i,h,r=null,s=null){const u="updateDirection"+t;(r||this.simpleCacheCall).bind(this)(u,c=>{(s||this.api).updateDirection(t,(...l)=>typeof c=="function"?c(...l):null,a)},e,e,i,h)}updateDay(t,e,a,i,h,r,s,u=null,c=null){const l="updateDay"+t+e+a;(u||this.simpleCacheCall).bind(this)(l,n=>{(c||this.api).updateDay(t,e,a,(...o)=>typeof n=="function"?n(...o):null,h)},i,i,r,s)}updateYear(t,e,a,i,h,r,s,u=null,c=null){const l="updateYear"+t+e+a;(u||this.simpleCacheCall).bind(this)(l,n=>{(c||this.api).updateYear(t,e,a,(...o)=>typeof n=="function"?n(...o):null,h)},i,i,r,s)}updateTotal(t,e,a,i,h,r,s=null,u=null){const c="updateTotal"+t+e;(s||this.simpleCacheCall).bind(this)(c,l=>{(u||this.api).updateTotal(t,e,(...n)=>typeof l=="function"?l(...n):null,i)},a,a,h,r)}updateWorkingDayAverage(t,e,a,i,h,r,s,u,c=null){const l="updateWorkingDayAverage"+t+e+a,n=typeof c=="object"&&c!==null?c.simpleCacheCallOpt:null,o=typeof c=="object"&&c!==null?c.trafficCountApiOpt:null;(n||this.simpleCacheCall).bind(this)(l,p=>{(o||this.api).updateWorkingDayAverage(t,e,a,i,(..._)=>typeof p=="function"?p(..._):null,r)},h,h,s,u)}updateHighestWorkloadDay(t,e,a,i,h,r,s,u=null,c=null){const l="updateHighestWorkloadDay"+t+e+a;(u||this.simpleCacheCall).bind(this)(l,n=>{(c||this.api).updateHighestWorkloadDay(t,e,a,(...o)=>typeof n=="function"?n(...o):null,h)},i,i,r,s)}updateHighestWorkloadWeek(t,e,a,i,h,r,s,u=null,c=null){const l="updateHighestWorkloadWeek"+t+e+a;(u||this.simpleCacheCall).bind(this)(l,n=>{(c||this.api).updateHighestWorkloadWeek(t,e,a,(...o)=>typeof n=="function"?n(...o):null,h)},i,i,r,s)}updateHighestWorkloadMonth(t,e,a,i,h,r,s,u=null,c=null){const l="updateHighestWorkloadMonth"+t+e+a;(u||this.simpleCacheCall).bind(this)(l,n=>{(c||this.api).updateHighestWorkloadMonth(t,e,a,(...o)=>typeof n=="function"?n(...o):null,h)},i,i,r,s)}updateDatasetHelper(t,e,a,i,h,r,s,u,c){const l=Array.isArray(i)&&Array.isArray(a)?a[i.length]:void 0,n="updateDatasetHelper"+t+e+JSON.stringify(l);if(l===void 0){typeof h=="function"&&h(i);return}(u||this.simpleCacheCall).bind(this)(n,o=>{(c||this.api).updateDataset(t,e,l,p=>typeof o=="function"?o(p):null,s)},o=>{i.push(o),this.updateDatasetHelper(t,e,a,i,h,r,s,u,c)},r)}updateDataset(t,e,a,i,h,r,s,u){typeof r=="function"&&r(),(u||this.updateDatasetHelper).bind(this)(t,e,a,[],c=>{typeof i=="function"&&i(c),typeof s=="function"&&s()},()=>{(u||this.updateDatasetHelper).bind(this)(t,e,a,[],c=>{typeof i=="function"&&i(c)},!1,h)},h)}subscribeLastUpdate(t,e,a,i,h,r,s=null,u=null){const c="subscribeLastUpdate"+t+e;(s||this.simpleCacheCall).bind(this)(c,l=>{(u||this.api).subscribeLastUpdate(t,e,(...n)=>typeof l=="function"?l(...n):null,i)},a,a,h,r)}unsubscribeEverything(t,e){(e||this.api).unsubscribeEverything(()=>{this.setCache({}),typeof t=="function"&&t()})}downloadData(t,e,a,i,h,r,s){this.api.downloadData(t,e,a,i,h,r,s)}getFirstDateEver(t,e,a,i,h,r,s=null,u=null){const c="getFirstDateEver"+t+e;(s||this.simpleCacheCall).bind(this)(c,l=>{(u||this.api).getFirstDateEver(t,e,(...n)=>typeof l=="function"?l(...n):null,i)},a,!1,h,r)}simpleCacheCall(t,e,a,i,h,r){typeof h=="function"&&h(),this.cacheIsReady(t)?(i!==!1&&this.cacheSetObserver(t,i),typeof a=="function"&&a(...this.cacheGetValue(t)),typeof r=="function"&&r()):this.cacheInProgress(t)?this.cacheAddToWaitlist(t,()=>{i!==!1&&this.cacheSetObserver(t,i),typeof a=="function"&&a(...this.cacheGetValue(t)),typeof r=="function"&&r()}):(this.cacheCreate(t),this.cacheSetInProgress(t,!0),this.cacheSetIsReady(t,!1),this.cacheAddToWaitlist(t,()=>{i!==!1&&this.cacheSetObserver(t,i),typeof a=="function"&&a(...this.cacheGetValue(t)),typeof r=="function"&&r()}),typeof e=="function"&&e((...s)=>{this.cacheInProgress(t)===!0&&this.cacheIsReady(t)===!1?(this.cacheSetValue(t,s),this.cacheSetIsReady(t,!0),this.cacheSetInProgress(t,!1),this.cacheWorkOffWaitlist(t)):(this.cacheSetValue(t,s),typeof this.cacheGetObserver(t)=="function"&&this.cacheGetObserver(t)(...this.cacheGetValue(t)))}))}cacheCreate(t){this.cache[t]={value:[],isReady:!1,inProgress:!1,waitlist:[],observer:null}}cacheGetValue(t){if(Object.prototype.hasOwnProperty.call(this.cache,t))return this.cache[t].value}cacheIsReady(t){return Object.prototype.hasOwnProperty.call(this.cache,t)&&this.cache[t].isReady===!0}cacheInProgress(t){return Object.prototype.hasOwnProperty.call(this.cache,t)&&this.cache[t].inProgress===!0}cacheGetWaitlist(t){return Object.prototype.hasOwnProperty.call(this.cache,t)?this.cache[t].waitlist:[]}cacheWorkOffWaitlist(t){!Object.prototype.hasOwnProperty.call(this.cache,t)||Array.isArray(!this.cache[t])||(this.cache[t].waitlist.forEach(e=>{typeof e=="function"&&e()}),this.cache[t].waitlist=[])}cacheGetObserver(t){return Object.prototype.hasOwnProperty.call(this.cache,t)?this.cache[t].observer:null}cacheSetValue(t,e){Object.prototype.hasOwnProperty.call(this.cache,t)&&(this.cache[t].value=e)}cacheSetIsReady(t,e){Object.prototype.hasOwnProperty.call(this.cache,t)&&(this.cache[t].isReady=e)}cacheSetInProgress(t,e){Object.prototype.hasOwnProperty.call(this.cache,t)&&(this.cache[t].inProgress=e)}cacheAddToWaitlist(t,e){Object.prototype.hasOwnProperty.call(this.cache,t)&&(Array.isArray(this.cache[t].waitlist)||(this.cache[t].waitlist=[]),this.cache[t].waitlist.push(e))}cacheSetObserver(t,e){Object.prototype.hasOwnProperty.call(this.cache,t)&&(this.cache[t].observer=e)}getCache(){return this.cache}setCache(t){this.cache=t}}}}]);
