(window.webpackJsonp=window.webpackJsonp||[]).push([[56,153,154,345,346,347,348,349,351,357,394,404,406,407,408,416,417,419,427],{222:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(f,a)=>{for(var p in a)s(f,p,{get:a[p],enumerable:!0})},E=(f,a,p,g)=>{if(a&&typeof a=="object"||typeof a=="function")for(let F of j(a))!D.call(f,F)&&F!==p&&s(f,F,{get:()=>a[F],enumerable:!(g=P(a,F))||g.enumerable});return f},O=(f,a,p)=>(p=f!=null?o(L(f)):{},E(a||!f||!f.__esModule?s(p,"default",{value:f,enumerable:!0}):p,f)),w=f=>E(s({},"__esModule",{value:!0}),f),i={};x(i,{default:()=>l}),S.exports=w(i);var e=O(r(5444)),t=O(r(3983)),n=O(r(3984)),_=O(r(3985)),l={component:e.default,store:t.default,locales:{de:n.default,en:_.default}}},3649:function(S,m,r){(function(o){var s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,D=(u,b)=>{for(var C in b)s(u,C,{get:b[C],enumerable:!0})},x=(u,b,C,k)=>{if(b&&typeof b=="object"||typeof b=="function")for(let $ of j(b))!L.call(u,$)&&$!==C&&s(u,$,{get:()=>b[$],enumerable:!(k=P(b,$))||k.enumerable});return u},E=u=>x(s({},"__esModule",{value:!0}),u),O={};D(O,{addByMouseHover:()=>I,addFolder:()=>d,addModelsByAttributes:()=>p,addVectorLayer:()=>v,closeAllExpandedFolder:()=>f,getCollection:()=>g,getItemByAttributes:()=>F,getItemsByAttributes:()=>h,getModelByAttributes:()=>_,getServiceUrl:()=>e,groupBy:()=>T,offSearchbar:()=>i,onFeaturesLoaded:()=>y,onResetFeatures:()=>M,onSearchbar:()=>w,onShowAllFeatures:()=>n,onShowFeaturesById:()=>t,removeItem:()=>c,removeModelsById:()=>a,renderTree:()=>l}),S.exports=E(O);function w(u){o.on("Searchbar","hit",u)}function i(){o.off("Searchbar","hit")}function e(u){return o.request("RestReader","getServiceById",u).get("url")}function t(u){o.on("ModelList","showFeaturesById",u)}function n(u){o.on("ModelList","showAllFeatures",u)}function _(u){return o.request("ModelList","getModelByAttributes",u)}function l(){o.trigger("ModelList","renderTree")}function f(){o.trigger("ModelList","closeAllExpandedFolder")}function a(u){o.trigger("ModelList","removeModelsById",u)}function p(u){o.trigger("ModelList","addModelsByAttributes",u)}function g(){return o.request("ModelList","getCollection")}function F(u){return o.request("Parser","getItemByAttributes",u)}function h(u){return o.request("Parser","getItemsByAttributes",u)}function d(u,b,C,k){o.trigger("Parser","addFolder",u,b,C,k)}function v(u,b,C,k,$,K,V){o.trigger("Parser","addVectorLayer",u,b,C,k,$,K,V)}function c(u){o.trigger("Parser","removeItem",u)}function y(u){o.on("VectorLayer","featuresLoaded",u)}function M(u){o.on("VectorLayer","resetFeatures",u)}function I(u){o.trigger("MouseHover","add",u)}function T(u,b){return o.request("Util","groupBy",u,b)}}).call(this,r(3))},3658:function(S,m){var r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,j=(w,i)=>{for(var e in i)r(w,e,{get:i[e],enumerable:!0})},L=(w,i,e,t)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of s(i))!P.call(w,n)&&n!==e&&r(w,n,{get:()=>i[n],enumerable:!(t=o(i,n))||t.enumerable});return w},D=w=>L(r({},"__esModule",{value:!0}),w),x={};j(x,{default:()=>O}),S.exports=D(x);var O={active:!1,deactivateGFI:!0,icon:"bi-boxes",id:"ScenarioBuilder",name:"ScenarioBuilder",useIcons:!0,isVisibleInMenu:!0,renderToWindow:!1,resizableWindow:!1,width:.45,scenarios:[],activeScenario:null,guideLayer:null,geomAttributes:{area:[{key:"flaeche_qm",factorToSqm:1},{key:"flaeche_ha",factorToSqm:1e-4}],lineString:[{key:"laenge_m",factorToM:1},{key:"laenge_km",factorToM:.001}]},readmeUrl:{"en-US":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/009scenariobuilder.md","de-DE":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/009einrichtungenanlegen.md"},featureEditorDisabled:!1}},3708:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of j(e))!D.call(i,_)&&_!==t&&s(i,_,{get:()=>e[_],enumerable:!(n=P(e,_))||n.enumerable});return i},E=(i,e,t)=>(t=i!=null?o(L(i)):{},x(e||!i||!i.__esModule?s(t,"default",{value:i,enumerable:!0}):t,i)),O=E(r(21));function w(i){return typeof i!="object"||!(i instanceof O.default)?(console.error(`utils/features/unpackCluster: feature must be an ol feature object. Got ${i} instead`),!1):i.get("features")?i.get("features"):[i]}S.exports={unpackCluster:w}},3718:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(a,p)=>{for(var g in p)s(a,g,{get:p[g],enumerable:!0})},E=(a,p,g,F)=>{if(p&&typeof p=="object"||typeof p=="function")for(let h of j(p))!D.call(a,h)&&h!==g&&s(a,h,{get:()=>p[h],enumerable:!(F=P(p,h))||F.enumerable});return a},O=(a,p,g)=>(g=a!=null?o(L(a)):{},E(p||!a||!a.__esModule?s(g,"default",{value:a,enumerable:!0}):g,a)),w=a=>E(s({},"__esModule",{value:!0}),a),i={};x(i,{getSearchResultsCoordinates:()=>l,getSearchResultsGeometry:()=>f}),S.exports=w(i);var e=O(r(12)),t=O(r(5)),n=O(r(7));function _(a){const p=a.getGeometry().getInteriorPoints();if(p.getPoints().length===1)return p.getPoints()[0].getCoordinates().slice(0,2);if(p.getPoints().length>1){const g=a.getGeometry();return t.getCenter(g.getExtent())}return null}function l(a){const p=n.default.getters["Maps/projectionCode"],g=n.default.getters["MapMarker/markerPoint"],F=n.default.getters["MapMarker/markerPolygon"];let h=g.getSource().getFeatures(),d;return h.length===1&&(d=h[0].getGeometry().getCoordinates()),h=F.getSource().getFeatures(),h.length===1&&(d=_(h[0])),d&&a&&(d=e.transform(d,p,a)),d}function f(){const a=n.default.getters["MapMarker/markerPoint"].getSource().getFeatures(),p=n.default.getters["MapMarker/markerPolygon"].getSource().getFeatures();return a.length===1?a[0].getGeometry():p.length===1?p[0].getGeometry():null}},3724:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(l,f)=>{for(var a in f)s(l,a,{get:f[a],enumerable:!0})},E=(l,f,a,p)=>{if(f&&typeof f=="object"||typeof f=="function")for(let g of j(f))!D.call(l,g)&&g!==a&&s(l,g,{get:()=>f[g],enumerable:!(p=P(f,g))||p.enumerable});return l},O=(l,f,a)=>(a=l!=null?o(L(l)):{},E(f||!l||!l.__esModule?s(a,"default",{value:l,enumerable:!0}):a,l)),w=l=>E(s({},"__esModule",{value:!0}),l),i=(l,f,a)=>new Promise((p,g)=>{var F=v=>{try{d(a.next(v))}catch(c){g(c)}},h=v=>{try{d(a.throw(v))}catch(c){g(c)}},d=v=>v.done?p(v.value):Promise.resolve(v.value).then(F,h);d((a=a.apply(l,f)).next())}),e={};x(e,{default:()=>_}),S.exports=w(e);var t=r(4170),n=O(r(60));function _(l){return i(this,null,function*(){const f=n.default.getLayerList().find(a=>a.id===l);if(f){const a=yield(0,t.describeFeatureType)(f.url);return(0,t.getFeatureDescription)(a,f.featureType)}return null})}},3728:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(d,v,c)=>v in d?s(d,v,{enumerable:!0,configurable:!0,writable:!0,value:c}):d[v]=c,e=(d,v)=>{for(var c in v||(v={}))O.call(v,c)&&i(d,c,v[c]);if(x)for(var c of x(v))w.call(v,c)&&i(d,c,v[c]);return d},t=(d,v)=>P(d,L(v)),n=(d,v)=>{for(var c in v)s(d,c,{get:v[c],enumerable:!0})},_=(d,v,c,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let M of D(v))!O.call(d,M)&&M!==c&&s(d,M,{get:()=>v[M],enumerable:!(y=j(v,M))||y.enumerable});return d},l=(d,v,c)=>(c=d!=null?o(E(d)):{},_(v||!d||!d.__esModule?s(c,"default",{value:d,enumerable:!0}):c,d)),f=d=>_(s({},"__esModule",{value:!0}),d),a={};n(a,{default:()=>h}),S.exports=f(a);var p=r(10),g=l(r(3658)),h=t(e({},(0,p.generateSimpleGetters)(g.default)),{activeSimulatedFeatures(d,{activeScenario:v}){return v?.getSimulatedFeatures()},activeModifiedFeatures(d,{activeScenario:v}){return v?.getModifiedFeatures()},activeModifiedFeaturesCount(d,{activeScenario:v}){return v?.getModifiedFeatures().filter(c=>c.feature.get("isModified"))},scenarioUpdated(d,{activeScenario:v}){return v?.getUpdated()}})},3729:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(d,v,c)=>v in d?s(d,v,{enumerable:!0,configurable:!0,writable:!0,value:c}):d[v]=c,e=(d,v)=>{for(var c in v||(v={}))O.call(v,c)&&i(d,c,v[c]);if(x)for(var c of x(v))w.call(v,c)&&i(d,c,v[c]);return d},t=(d,v)=>P(d,L(v)),n=(d,v)=>{for(var c in v)s(d,c,{get:v[c],enumerable:!0})},_=(d,v,c,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let M of D(v))!O.call(d,M)&&M!==c&&s(d,M,{get:()=>v[M],enumerable:!(y=j(v,M))||y.enumerable});return d},l=(d,v,c)=>(c=d!=null?o(E(d)):{},_(v||!d||!d.__esModule?s(c,"default",{value:d,enumerable:!0}):c,d)),f=d=>_(s({},"__esModule",{value:!0}),d),a={};n(a,{default:()=>h}),S.exports=f(a);var p=r(10),g=l(r(3658)),h=t(e({},(0,p.generateSimpleMutations)(g.default)),{storeScenarioFeature(d,v){d.scenario.find(c=>c.feature===v.feature&&c.layer===v.layer)||d.scenario.push(v)}})},3730:function(S,m){var r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,j=(w,i)=>{for(var e in i)r(w,e,{get:i[e],enumerable:!0})},L=(w,i,e,t)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of s(i))!P.call(w,n)&&n!==e&&r(w,n,{get:()=>i[n],enumerable:!(t=o(i,n))||t.enumerable});return w},D=w=>L(r({},"__esModule",{value:!0}),w),x={};j(x,{default:()=>O}),S.exports=D(x);var O={}},3749:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(n,_)=>{for(var l in _)o(n,l,{get:_[l],enumerable:!0})},D=(n,_,l,f)=>{if(_&&typeof _=="object"||typeof _=="function")for(let a of P(_))!j.call(n,a)&&a!==l&&o(n,a,{get:()=>_[a],enumerable:!(f=s(_,a))||f.enumerable});return n},x=n=>D(o({},"__esModule",{value:!0}),n),E={};L(E,{geomPickerClearDrawPolygon:()=>i,geomPickerGetFeature:()=>t,geomPickerResetLocation:()=>w,geomPickerSetGeometry:()=>e,geomPickerUnlisten:()=>O}),S.exports=x(E);function O(n){n&&(n.locationPickerActive=!1,n.unlisten())}function w(n){n&&n.resetLocation()}function i(n){n.clearDrawPolygon()}function e(n,_){n.setGeometry(_)}function t(n,_=!0){var l;const f=(l=n?.drawLayer)==null?void 0:l.getSource().getFeatures()[0];return _?f?.clone():f}},3750:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(l,f)=>{for(var a in f)s(l,a,{get:f[a],enumerable:!0})},E=(l,f,a,p)=>{if(f&&typeof f=="object"||typeof f=="function")for(let g of j(f))!D.call(l,g)&&g!==a&&s(l,g,{get:()=>f[g],enumerable:!(p=P(f,g))||p.enumerable});return l},O=(l,f,a)=>(a=l!=null?o(L(l)):{},E(f||!l||!l.__esModule?s(a,"default",{value:l,enumerable:!0}):a,l)),w=l=>E(s({},"__esModule",{value:!0}),l),i={};x(i,{default:()=>n,getOlGeomTypeByGmlType:()=>_}),S.exports=w(i);var e=O(r(44)),t=O(r(49));function n(l){return typeof l!="string"?(console.error(`Type must be a string. Got ${typeof l} instead.`),null):l.includes("gml:")?l.includes("Point")?t.default:l.includes("Polygon")?e.default:null:(console.warn(`Type must be part of GML namespace, e.g.: gml:PointPropertyType. Got ${l} instead.`),null)}function _(l){return typeof l!="string"?(console.error(`Type must be a string. Got ${typeof l} instead.`),null):l.includes("gml:")?l.includes("Point")?"Point":l.includes("Polygon")?"Polygon":null:(console.warn(`Type must be part of GML namespace, e.g.: gml:PointPropertyType. Got ${l} instead.`),null)}},3867:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(l,f)=>{for(var a in f)s(l,a,{get:f[a],enumerable:!0})},E=(l,f,a,p)=>{if(f&&typeof f=="object"||typeof f=="function")for(let g of j(f))!D.call(l,g)&&g!==a&&s(l,g,{get:()=>f[g],enumerable:!(p=P(f,g))||p.enumerable});return l},O=(l,f,a)=>(a=l!=null?o(L(l)):{},E(f||!l||!l.__esModule?s(a,"default",{value:l,enumerable:!0}):a,l)),w=l=>E(s({},"__esModule",{value:!0}),l),i={};x(i,{default:()=>_}),S.exports=w(i);var e=r(3708),t=O(r(7));function n(l){t.default.dispatch("Maps/highlightFeature",l)}function _(l,f){var a;const p=(0,e.unpackCluster)(l)[0],g=(a=p.getGeometry())==null?void 0:a.getType();g==="Point"?n({id:p.getId(),type:"increase",scale:1.4,layer:{id:f}}):(g==="Polygon"||g==="MultiPolygon")&&n({feature:p,type:"highlightPolygon",highlightStyle:{stroke:{color:"#F0E455",width:5}},layer:{id:f}})}},3868:function(S,m){var r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,P=Object.prototype.hasOwnProperty,j=(O,w)=>{for(var i in w)r(O,i,{get:w[i],enumerable:!0})},L=(O,w,i,e)=>{if(w&&typeof w=="object"||typeof w=="function")for(let t of s(w))!P.call(O,t)&&t!==i&&r(O,t,{get:()=>w[t],enumerable:!(e=o(w,t))||e.enumerable});return O},D=O=>L(r({},"__esModule",{value:!0}),O),x={};j(x,{default:()=>E}),S.exports=D(x);function E(O,w){const i=O.getGeometry(),e=i?.getType();if(e==="Polygon"||e==="MultiPolygon"){const t=Math.round((i.getArea()+Number.EPSILON)*100)/100;for(const n of w.area)O.set(n.key,t*n.factorToSqm)}else if(e==="LineString"||e==="MultiLineString"){let t;e==="LineString"?t=Math.round((i.getLength()+Number.EPSILON)*100)/100:e==="MultiLineString"&&(t=i.getLineStrings().reduce((n,_)=>n+Math.round((_.getLength()+Number.EPSILON)*100)/100,0));for(const n of w.lineString)O.set(n.key,t*n.factorToM)}}},3891:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(a,p)=>{for(var g in p)s(a,g,{get:p[g],enumerable:!0})},E=(a,p,g,F)=>{if(p&&typeof p=="object"||typeof p=="function")for(let h of j(p))!D.call(a,h)&&h!==g&&s(a,h,{get:()=>p[h],enumerable:!(F=P(p,h))||F.enumerable});return a},O=(a,p,g)=>(g=a!=null?o(L(a)):{},E(p||!a||!a.__esModule?s(g,"default",{value:a,enumerable:!0}):g,a)),w=a=>E(s({},"__esModule",{value:!0}),a),i=(a,p,g)=>new Promise((F,h)=>{var d=y=>{try{c(g.next(y))}catch(M){h(M)}},v=y=>{try{c(g.throw(y))}catch(M){h(M)}},c=y=>y.done?F(y.value):Promise.resolve(y.value).then(d,v);c((g=g.apply(a,p)).next())}),e={};x(e,{getAddress:()=>f,reverseGeocode:()=>l}),S.exports=w(e);var t=r(2107),n=r(2108),_=O(r(12));function l(a,p,g="NOMINATIM"){return i(this,null,function*(){const F=_.transform(a,p,"EPSG:4326");try{return g==="BKG"?yield(0,n.fetchRoutingBkgGeosearchReverse)(F):yield(0,t.fetchRoutingNominatimGeosearchReverse)(F)}catch(h){return console.warn("Could not fetch address, please check config of routing/reverseGeocode",h),null}})}function f(a,p,g){return i(this,null,function*(){const F=a.getType()==="Polygon"||a.getType()==="MultiPolygon"?a.getExtent().getCenter():a.getCoordinates(),h=yield l(F,p,g);return h?.displayName})}},3980:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(l,f)=>{for(var a in f)s(l,a,{get:f[a],enumerable:!0})},E=(l,f,a,p)=>{if(f&&typeof f=="object"||typeof f=="function")for(let g of j(f))!D.call(l,g)&&g!==a&&s(l,g,{get:()=>f[g],enumerable:!(p=P(f,g))||p.enumerable});return l},O=(l,f,a)=>(a=l!=null?o(L(l)):{},E(f||!l||!l.__esModule?s(a,"default",{value:l,enumerable:!0}):a,l)),w=l=>E(s({},"__esModule",{value:!0}),l),i={};x(i,{compareLayerMapping:()=>n,default:()=>_}),S.exports=w(i);var e=O(r(4287));const t={required:[l=>!!l||"Erforderlich"],number:[l=>!isNaN(parseFloat(l))||"Wert muss eine Zahl sein. Kommastellen m\xFCssen mit Punkt abgetrennt werden"],string:[],date:[],geom:[],boolean:[l=>typeof JSON.parse(l)=="boolean"||"Wert muss 'true' oder 'false' sein."]};function n(l,f){return l.name===f.keyOfAttrName||l.name===f.categoryField}function _(l,f){const a=parseInt(l.minOccurs,10)>0||n(l,f)?t.required:[],p=e.default[l.type],g=t[p]||[];return[...a,...g]}},3981:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(F,h)=>{for(var d in h)s(F,d,{get:h[d],enumerable:!0})},E=(F,h,d,v)=>{if(h&&typeof h=="object"||typeof h=="function")for(let c of j(h))!D.call(F,c)&&c!==d&&s(F,c,{get:()=>h[c],enumerable:!(v=P(h,c))||v.enumerable});return F},O=(F,h,d)=>(d=F!=null?o(L(F)):{},E(h||!F||!F.__esModule?s(d,"default",{value:F,enumerable:!0}):d,F)),w=F=>E(s({},"__esModule",{value:!0}),F),i=(F,h,d)=>new Promise((v,c)=>{var y=T=>{try{I(d.next(T))}catch(u){c(u)}},M=T=>{try{I(d.throw(T))}catch(u){c(u)}},I=T=>T.done?v(T.value):Promise.resolve(T.value).then(y,M);I((d=d.apply(F,h)).next())}),e={};x(e,{default:()=>g}),S.exports=w(e);var t=r(1202),n=O(r(60)),_=O(r(7)),l=r(58),f=r(3650);const a=new l.WFS;function p(F){return _.default.getters["Maps/getLayerById"]({layerId:F})}function g(F,h){return i(this,null,function*(){let d;const v=n.default.getLayerWhere({id:h});if(v){const c=yield(0,t.getFeatureGET)(v.url,{featureType:v.featureType,version:v.version});d=a.readFeatures(c)}else{const c=p(h);d=(0,f.getLayerSource)(c).getFeatures()}return d.reduce((c,y)=>{const M=y.getProperties()[F];return M&&!c.includes(M)&&c.push(M),c},[])})}},3982:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{default:()=>w}),S.exports=x(E);var O=r(140);function w(i){return Number.isInteger(parseFloat(i))?"integer":isNaN(parseFloat(i))?i?.constructor===O.Point?"gml:PointPropertyType":i?.constructor===O.MultiPoint?"gml:MultiPointPropertyType":i?.constructor===O.Polygon?"gml:PolygontPropertyType":i?.constructor===O.MultiPolygon?"gml:MultiPolygonPropertyType":/^(0?[1-9]|[12][0-9]|3[01])[/-](0?[1-9]|1[012])[/-]\d{4}$/.test(i)?"date":i==null?"string":typeof i:"float"}},3983:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,D=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(F,h,d)=>h in F?s(F,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):F[h]=d,w=(F,h)=>{for(var d in h||(h={}))x.call(h,d)&&O(F,d,h[d]);if(L)for(var d of L(h))E.call(h,d)&&O(F,d,h[d]);return F},i=(F,h)=>{for(var d in h)s(F,d,{get:h[d],enumerable:!0})},e=(F,h,d,v)=>{if(h&&typeof h=="object"||typeof h=="function")for(let c of j(h))!x.call(F,c)&&c!==d&&s(F,c,{get:()=>h[c],enumerable:!(v=P(h,c))||v.enumerable});return F},t=(F,h,d)=>(d=F!=null?o(D(F)):{},e(h||!F||!F.__esModule?s(d,"default",{value:F,enumerable:!0}):d,F)),n=F=>e(s({},"__esModule",{value:!0}),F),_={};i(_,{default:()=>g}),S.exports=n(_);var l=t(r(3728)),f=t(r(3729)),a=t(r(3658)),p=t(r(3730)),g={namespaced:!0,state:w({},a.default),mutations:f.default,getters:l.default,actions:p.default}},3984:function(S){S.exports=JSON.parse('{"modules":{"tools":{"cosi":{"scenarioBuilder":{"title":"Einrichtungen anlegen","configureFeature":"Einrichtung konfigurieren","toolMenu":"Werkzeuge","help":"Lorem Ipsum dolor sit amet","layerSelector":"Thema ausw\xE4hlen","pickReference":"Referenzeinrichtung w\xE4hlen","chooseLocation":"Ort w\xE4hlen","resetLocation":"Zur\xFCcksetzen","createFeature":"Anlegen","helpCreateFeature":"Neue Einrichtung erstellen","resetFeature":"Werte Zur\xFCcksetzen","helpResetFeature":"Die konfigurieren Werte der Einrichtung zur\xFCcksetzen","warningNoData":"Es wurden bisher keine Themendaten geladen. Bitte w\xE4hlen Sie mindestens ein Analysethema aus dem Themenbaum.","required":"Erforderlich","requiredFieldMissing":"Eines oder mehrere erforderliche Felder wurden nicht ausgef\xFCllt.","essentialFieldHeader":"Erforderliche Spalten","optionalFieldHeader":"Optionale Spalten","geomFieldHeader":"Geometrie / Ort","optionalField":"Diese Spalte hat keinen Einfluss auf die Darstellung oder andere Analysefunktionen","essentialField":"Dieses Feld ist wichtig f\xFCr die Darstellung bzw. Suche","defineFeature":"Neue Einrichtung definieren","undo":"Schritt zur\xFCck","pick":"Polygon in der Karte w\xE4hlen","editFeature":"Simulierte Einrichtung l\xF6schen?"},"moveFeatures":{"title":"Einrichtungen verschieben","toggleOnlySimulated":"Nur Simulierte","toggleOnlySimulatedTooltip":"Verriegelt: Nur simulierte Einrichtungen k\xF6nnen bearbeitet werden","toggleOnlySimulatedOffTooltip":"Offen: Alle Einrichtungen des Themas k\xF6nnen bearbeitet werden","onlySimulatedWarning":"Achtung: Sie k\xF6nnen jetzt auch echte Einrichtungen verschieben. Ihre \xC4nderungen sind nur tempor\xE4r und werden nach der Sitzung nicht gespeichert.","resetFeatureLocations":"Verschobene Einrichtungen Zur\xFCcksetzen","help":"Einrichtung zum Verschieben ausw\xE4hlen. Der Cursor zeigt an, wenn eine Einrichtung durchs Ziehen verschoben werden kann."},"scenarioManager":{"title":"Szenariomanager","createNewTitle":"Neues Szenario anlegen","createNewSubmit":"Anlegen","dublicateName":"Bitte w\xE4hlen Sie einen anderen Namen","scenarioName":"Name des Szenarios","deleteScenario":"Szenario l\xF6schen","deleteScenarioWarning":"M\xF6chten Sie das aktive Szenario wirklich l\xF6schen? Alle Inhalte gehen verloren.","noScenarios":"Bislang sind keine Szenarien vorhanden","selectScenarios":"Szenario ausw\xE4hlen","exportScenario":"Szenario exportieren (GeoJSON)","exportNeighborhoods":"Wohnquartiere exportieren (GeoJSON)","exportSimulatedFeatures":"Simulierte Einrichtungen exportieren (GeoJSON)","restoreAllFeatures":"Alle wiederherstellen","helpRestoreAllFeatures":"Alle erstellten Features wiederherstellen","pruneAllFeatures":"Szenario leeren","helpPruneAllFeatures":"Alle erstellten Features und l\xF6schen manipulierten Daten zur\xFCcksetzen.","pruneNeighborhoods":"Wohnungsbauquartiere l\xF6schen","helpPruneNeighborhoods":"Alle Wohnungsbauquartiere dieses Szenarios l\xF6schen","pruneSimulatedFeatures":"Einrichtungen l\xF6schen","helpPruneSimulatedFeatures":"Alle simulierten Einrichtungen dieses Szenarios l\xF6schen","pruneAllFeaturesWarning":"Wollen Sie wirklich alle Daten in diesem Szenario l\xF6schen?","pruneNeighborhoodsWarning":"Wollen Sie wirklich alle erstellten Wohnquartiere in diesem Szenario l\xF6schen?","pruneSimulatedFeaturesWarning":"Wollen Sie wirklich alle erstellten Einrichtungen in diesem Szenario l\xF6schen?","noActiveScenario":"Bitte w\xE4hlen Sie ein Szenario oder legen Sie ein neues an."},"dataTypes":{"decimal":"Zahl","long":"Zahl","double":"Zahl","float":"Zahl","integer":"Zahl","string":"Text","date":"Datum","boolean":"Ja/Nein","geometry":"Geometrie","object":"-"},"featureEditor":{"editFeature":"Einrichtung bearbeiten","layer":"Fachdatenlayer","update":"\xC4nderungen speichern","noScenarioWarning":"Bitte erstellen Sie erst ein Szenario um Einrichtungen bearbeiten zu k\xF6nnen.","reset":"Zur\xFCcksetzen","confirmDelete":"M\xF6chten Sie die ausgew\xE4hlte Einrichtung wirklich l\xF6schen?","confirmReset":"M\xF6chten Sie die ausgew\xE4hlte Einrichtung wirklich auf ihren Ursprungszustand zur\xFCcksetzen?"}}}}}')},3985:function(S){S.exports=JSON.parse('{"modules":{"tools":{"cosi":{"scenarioBuilder":{"title":"Simulate Facilities","configureFeature":"Configure facility","toolMenu":"Tools","help":"Lorem Ipsum dolor sit amet","layerSelector":"Thema ausw\xE4hlen","pickReference":"Referenzeinrichtung w\xE4hlen","chooseLocation":"Ort w\xE4hlen","resetLocation":"Zur\xFCcksetzen","createFeature":"Create","helpCreateFeature":"Neue Einrichtung erstellen","resetFeature":"Zur\xFCcksetzen","warningNoData":"Es wurden bisher keine Themendaten geladen. Bitte w\xE4hlen Sie mindestens ein Analysethema aus dem Themenbaum.","required":"Erforderlich","requiredFieldMissing":"Eines oder mehrere erforderliche Felder wurden nicht ausgef\xFCllt.","essentialFieldHeader":"Erforderliche Spalten","optionalFieldHeader":"Optionale Spalten","geomFieldHeader":"Geometrie / Ort","optionalField":"Diese Spalte hat keinen Einfluss auf die Darstellung oder andere Analysefunktionen","essentialField":"Dieses Feld ist wichtig f\xFCr die Darstellung bzw. Suche","defineFeature":"Neue Einrichtung definieren","undo":"Schritt zur\xFCck","pick":"Polygon in der Karte w\xE4hlen","editFeature":"Delete simulated Feature?"},"moveFeatures":{"title":"Einrichtungen verschieben","toggleOnlySimulated":"Nur Simulierte","toggleOnlySimulatedTooltip":"Nur Simulierte Einrichtungen verschieben","toggleOnlySimulatedOffTooltip":"Alle Einrichtungen k\xF6nnen verschoben werden","onlySimulatedWarning":"Achtung: Sie k\xF6nnen jetzt auch echte Einrichtungen verschieben. Ihre \xC4nderungen sind nur tempor\xE4r und werden nach der Sitzung nicht gespeichert.","resetFeatureLocations":"Reset moved facilities"},"scenarioManager":{"title":"Szenariomanager","createNewTitle":"Neues Szenario anlegen","createNewSubmit":"Anlegen","dublicateName":"Bitte w\xE4hlen Sie einen anderen Namen","scenarioName":"Name des Szenarios","deleteScenario":"Szenario l\xF6schen","deleteScenarioWarning":"M\xF6chten Sie das aktive Szenario wirklich l\xF6schen? Alle Inhalte gehen verloren.","noScenarios":"Bislang sind keine Szenarien vorhanden","selectScenarios":"Szenario ausw\xE4hlen","exportScenario":"Szenario exportieren (GeoJSON)","exportNeighborhoods":"Wohnquartiere exportieren (GeoJSON)","exportSimulatedFeatures":"Simulierte Einrichtungen exportieren (GeoJSON)","restoreAllFeatures":"Alle wiederherstellen","helpRestoreAllFeatures":"Alle erstellten Features wiederherstellen","pruneAllFeatures":"Clear scenario","helpPruneAllFeatures":"Delete all created features in the scenario and reset manipulated data.","pruneNeighborhoods":"Wohnquartiere l\xF6schen","helpPruneNeighborhoods":"Alle Wohnquartiere dieses Szenarios l\xF6schen","pruneSimulatedFeatures":"Einrichtungen l\xF6schen","helpPruneSimulatedFeatures":"Alle simulierten Einrichtungen dieses Szenarios l\xF6schen","pruneAllFeaturesWarning":"Wollen Sie wirklich alle erstellten Einrichtungen in diesem Szenario l\xF6schen?","noActiveScenario":"Bitte w\xE4hlen Sie ein Szenario oder legen Sie ein neues an."},"dataTypes":{"decimal":"number","long":"number","double":"number","float":"number","integer":"number","string":"text","date":"date","boolean":"true/false","geometry":"geometry","object":"-"}}}}}')},4154:function(S,m,r){"use strict";r.r(m);var o=r(4155),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4155:function(S,m,r){var o=Object.defineProperty,s=Object.defineProperties,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(a,p,g)=>p in a?o(a,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):a[p]=g,w=(a,p)=>{for(var g in p||(p={}))x.call(p,g)&&O(a,g,p[g]);if(D)for(var g of D(p))E.call(p,g)&&O(a,g,p[g]);return a},i=(a,p)=>s(a,j(p)),e=(a,p)=>{for(var g in p)o(a,g,{get:p[g],enumerable:!0})},t=(a,p,g,F)=>{if(p&&typeof p=="object"||typeof p=="function")for(let h of L(p))!x.call(a,h)&&h!==g&&o(a,h,{get:()=>p[h],enumerable:!(F=P(p,h))||F.enumerable});return a},n=a=>t(o({},"__esModule",{value:!0}),a),_={};e(_,{default:()=>f}),S.exports=n(_);var l=r(8),f={name:"ToolInfo",props:{title:{type:String,default:"Werkzeuginformationen (Link \xF6ffnen)"},url:{type:[String,Object],default:null},infoText:{type:String,default:void 0},summary:{type:String,default:null},locale:{type:String,default:"de"}},methods:i(w({},(0,l.mapActions)("Alerting",["addSingleAlert","cleanup"])),{showInfo(){return this.url?window.open(this.getUrl(),"_blank"):(this.infoText&&(this.cleanup(),this.addSingleAlert({category:"Info",content:this.infoText,displayClass:"info"})),null)},getUrl(){if(typeof this.url=="string")return this.url;const a=Object.keys(this.url).find(p=>p.substring(0,p.indexOf("-"))===this.locale.substring(0,p.indexOf("-")));return this.url[a]}})}},4156:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("div",[t("v-row",{attrs:{dense:"",justify:"end"}},[t("v-col",{attrs:{cols:"17"}},[e.summary?t("p",[e._v(`
                `+e._s(e.summary)+`
            `)]):e._e()]),e._v(" "),t("v-col",{attrs:{cols:"1"}},[e.infoText||e.url?t("v-btn",{staticClass:"info_btn",attrs:{title:e.title,depressed:"",right:"",icon:"","x-small":""},on:{click:e.showInfo}},[t("v-icon",[e._v("mdi-help-circle")])],1):e._e()],1)],1),e._v(" "),t("v-divider")],1)},w=[];O._withStripped=!0},4157:function(S,m,r){},4162:function(S,m,r){"use strict";r.r(m);var o=r(4163),s=r(4154);for(var P in s)["default"].indexOf(P)<0&&function(x){r.d(m,x,function(){return s[x]})}(P);var j=r(4164),L=r(1),D=Object(L.a)(s.default,o.render,o.staticRenderFns,!1,null,"0f052480",null);m.default=D.exports},4163:function(S,m,r){"use strict";var o=r(4156),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},4164:function(S,m,r){"use strict";var o=r(4157),s=r.n(o)},4170:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=(f,a)=>{for(var p in a)s(f,p,{get:a[p],enumerable:!0})},E=(f,a,p,g)=>{if(a&&typeof a=="object"||typeof a=="function")for(let F of j(a))!D.call(f,F)&&F!==p&&s(f,F,{get:()=>a[F],enumerable:!(g=P(a,F))||g.enumerable});return f},O=(f,a,p)=>(p=f!=null?o(L(f)):{},E(a||!f||!f.__esModule?s(p,"default",{value:f,enumerable:!0}):p,f)),w=f=>E(s({},"__esModule",{value:!0}),f),i={};x(i,{describeFeatureType:()=>_,getFeatureDescription:()=>l}),S.exports=w(i);var e=O(r(25)),t=O(r(1203)),n=O(r(1206));function _(f,a="1.1.0",p=void 0){if(typeof f!="string"){console.error(`api/wfs/describeFeatureType: Url is ${f}. Url has to be defined and a string.`);return}if(typeof a!="string"){console.error(`api/wfs/describeFeatureType: Version is ${a}. Version has to be a string. Default is 1.1.0.`);return}const g={params:{service:"WFS",request:"DescribeFeatureType",version:a,typeName:Array.isArray(p)?p.join(","):p,typeNames:Array.isArray(p)?p.join(","):p}};return e.default.get(f,g).then(F=>(0,t.default)(F.request.responseXML)).catch(F=>n.default.handleAxiosError(F,"api/wfs/describeFeatureType"))}function l(f,a){var p,g,F,h,d,v,c,y;if(typeof f!="object"||f===null||typeof a!="string"){console.error(`getFeatureDescription: ${f} has to be defined and an object (not null). ${a} has to be defined and a string`);return}const M=[],I=Array.isArray((p=f?.schema)==null?void 0:p.element)?(F=(g=f?.schema)==null?void 0:g.element)==null?void 0:F.find(T=>{var u;return((u=T.attributes)==null?void 0:u.name)===a}):(h=f?.schema)==null?void 0:h.element;if(typeof I>"u"){console.error(`getFeatureDescription: FeatureType "${I}" was not found`);return}if(!Array.isArray((y=(c=(v=(d=I.complexType)==null?void 0:d.complexContent)==null?void 0:v.extension)==null?void 0:c.sequence)==null?void 0:y.element)){console.error(`getFeatureDescription: No attributes were found for the FeatureType "${I}"`);return}return I.complexType.complexContent.extension.sequence.element.forEach(T=>{M.push(T.getAttributes())}),M}},4183:function(S,m,r){"use strict";r.r(m);var o=r(4184),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4184:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(u,b,C)=>b in u?s(u,b,{enumerable:!0,configurable:!0,writable:!0,value:C}):u[b]=C,e=(u,b)=>{for(var C in b||(b={}))O.call(b,C)&&i(u,C,b[C]);if(x)for(var C of x(b))w.call(b,C)&&i(u,C,b[C]);return u},t=(u,b)=>P(u,L(b)),n=(u,b)=>{for(var C in b)s(u,C,{get:b[C],enumerable:!0})},_=(u,b,C,k)=>{if(b&&typeof b=="object"||typeof b=="function")for(let $ of D(b))!O.call(u,$)&&$!==C&&s(u,$,{get:()=>b[$],enumerable:!(k=j(b,$))||k.enumerable});return u},l=(u,b,C)=>(C=u!=null?o(E(u)):{},_(b||!u||!u.__esModule?s(C,"default",{value:u,enumerable:!0}):C,u)),f=u=>_(s({},"__esModule",{value:!0}),u),a=(u,b,C)=>new Promise((k,$)=>{var K=W=>{try{G(C.next(W))}catch(X){$(X)}},V=W=>{try{G(C.throw(W))}catch(X){$(X)}},G=W=>W.done?k(W.value):Promise.resolve(W.value).then(K,V);G((C=C.apply(u,b)).next())}),p={};n(p,{default:()=>T}),S.exports=f(p);var g=r(8),F=l(r(317)),h=r(3750),d=l(r(21)),v=r(44),c=l(r(49)),y=r(62),M=r(3718),I=r(3649),T={name:"GeometryPicker",props:{geomField:{type:Object,required:!0},isGml:{type:Boolean,required:!1,default:!0},useIcons:{type:Boolean,required:!1,default:!0},id:{type:String,default:"geometry_picker"},additionalSelectLayerIds:{type:Array,default:()=>["importDrawLayer"]}},data(){return{geometry:{type:"",value:null},beautifyKey:F.default,locationPickerActive:!1,pickPolygonActive:!1,drawPolygonInteraction:null,drawLayer:null,polygonSelect:null,map:void 0}},computed:t(e(e({},(0,g.mapGetters)("Maps",["getLayerById","projectionCode"])),(0,g.mapGetters)("Tools/FeaturesList",["activeVectorLayerList"])),{geomCoords(){return this.geometry.value?JSON.stringify(this.geometry.value.getCoordinates()):void 0},geom(){return this.geometry.value}}),watch:{geom(u){this.$emit("updateGeometry",u)}},created(){return a(this,null,function*(){this.geomField.type&&(this.geometry.type=this.isGml?(0,h.getOlGeomTypeByGmlType)(this.geomField.type):this.geomField.type),this.map=mapCollection.getMap("2D"),yield this.createDrawingLayer()})},beforeDestroy(){this.unlisten(),this.clearDrawPolygon(),this.removePointMarker()},methods:t(e(e({},(0,g.mapActions)("MapMarker",["placingPointMarker","removePointMarker"])),(0,g.mapActions)("Maps",["addNewLayerIfNotExists"])),{createDrawingLayer(){return a(this,null,function*(){const u=yield this.addNewLayerIfNotExists({layerName:this.id+"_draw"});return u.setVisible(!0),this.drawLayer=u,u})},toggleLocationPicker(u){this.locationPickerActive=!this.locationPickerActive,this.geometry.type=this.isGml?(0,h.getOlGeomTypeByGmlType)(u):u,this.locationPickerActive?this.listen():(this.pickPolygonActive=!1,this.unlisten())},listen(){this.geometry.type==="Point"?(this.map.addEventListener("click",this.pickLocation),(0,I.onSearchbar)(this.pickLocationBySearchbar.bind(this))):this.geometry.type==="Polygon"?(this.drawPolygon(),(0,I.onSearchbar)(this.pickPolygonBySearchbar.bind(this))):this.locationPickerActive=!1},unlisten(){this.geometry.type==="Point"?this.map.removeEventListener("click",this.pickLocation):this.geometry.type==="Polygon"&&(this.map.removeInteraction(this.drawPolygonInteraction),this.map.removeInteraction(this.polygonSelect),this.drawPolygonInteraction=null,this.polygonSelect=null),(0,I.offSearchbar)()},pickLocation(u){this.geometry.value=new c.default(u.coordinate),this.placingPointMarker(u.coordinate)},resetLocation(){this.geometry.value=null,this.removePointMarker(),this.clearDrawPolygon()},pickLocationBySearchbar(){this.geometry.value=new c.default((0,M.getSearchResultsCoordinates)())},pickPolygonBySearchbar(){const u=(0,M.getSearchResultsGeometry)();u&&this.setGeometry(u)},togglePickPolygon(){this.pickPolygonActive=!this.pickPolygonActive,this.unlisten(),this.clearDrawPolygon(),this.pickPolygonActive?this.pickPolygon():this.drawPolygon()},pickPolygon(){const u=[...this.activeVectorLayerList,...this.additionalSelectLayerIds.map(b=>this.getLayerById({layerId:b}))];this.polygonSelect=new y.Select({layers:u,style:null}),this.map.addInteraction(this.polygonSelect),this.polygonSelect.on("select",this.onPolygonSelect.bind(this))},onPolygonSelect(u){const b=u.selected[0];let C=b?.getGeometry().clone(),k=C?.getType();k==="Circle"&&(C=(0,v.fromCircle)(C,64),k="Polygon"),(k==="Polygon"||k==="MultiPolygon")&&(this.geometry.value=C,this.setDrawPolygon(C),this.pickPolygonActive=!1)},drawPolygon(){this.drawPolygonInteraction=new y.Draw({source:this.drawLayer.getSource(),type:"Polygon"}),this.map.addInteraction(this.drawPolygonInteraction),this.drawPolygonInteraction.on("drawstart",this.onDrawPolygonStart.bind(this)),this.drawPolygonInteraction.on("drawend",this.onDrawPolygonEnd.bind(this))},clearDrawPolygon(){this.drawLayer.getSource().clear()},setDrawPolygon(u){this.clearDrawPolygon(),this.drawLayer.getSource().addFeature(new d.default({geometry:u}))},undoDrawPolygonStep(){this.drawPolygonInteraction.removeLastPoint()},onDrawPolygonStart(){this.clearDrawPolygon()},onDrawPolygonEnd(u){this.geometry.value=u.feature.getGeometry()},drawPolygonByCoords(u){try{const b=new v.Polygon(u);this.setDrawPolygon(b),this.geometry.value=b}catch{console.warn("GeometryPicker: The entered geometry is not a valid Polygon. Please check the List of Coordinates.")}},drawPointByCoords(u){try{this.geometry.value=new c.default(u),this.placingPointMarker(u)}catch{console.warn("GeometryPicker: The entered geometry is not a valid Point. Please check the List of Coordinates.")}},setGeomByInput(u){let b;try{b=JSON.parse(u)}catch{b=u?.split(",").map(k=>parseFloat(k))}this.geometry.type==="Point"&&this.drawPointByCoords(b),this.geometry.type==="Polygon"&&this.drawPolygonByCoords(b)},setGeometry(u){return a(this,null,function*(){const b=u?.getType(),C=u?.clone();yield this.$nextTick(),this.$set(this.geometry,"value",C),this.geometry.type==="Point"&&b==="Point"?this.placingPointMarker(C.getCoordinates()):this.geometry.type==="Polygon"&&(b==="Polygon"||b==="MultiPolygon")&&this.setDrawPolygon(C)})}})}},4208:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"3"}},[t("v-subheader",{attrs:{title:e.beautifyKey(e.geomField.name)}},[e._v(`
            `+e._s(e.beautifyKey(e.geomField.name))+`
        `)])],1),e._v(" "),t("v-col",{attrs:{cols:"9"}},[t("v-text-field",{attrs:{value:e.geomCoords,name:e.geomField.name,label:e.$t("additional:modules.tools.cosi.dataTypes.geometry"),dense:""},on:{change:e.setGeomByInput},scopedSlots:e._u([{key:"append",fn:function(){return[t("v-btn",{attrs:{dense:"","x-small":"",tile:"",color:e.locationPickerActive?"warning":"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioBuilder.chooseLocation")},on:{click:function(n){return e.toggleLocationPicker(e.geomField.type)}}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-lead-pencil")])],1):t("span",[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.chooseLocation"))+`
                    `)])]),e._v(" "),e.geometry.type==="Polygon"?t("v-btn",{attrs:{dense:"","x-small":"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioBuilder.undo"),disabled:!e.locationPickerActive},on:{click:e.undoDrawPolygonStep}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-undo")])],1):t("span",[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.undo"))+`
                    `)])]):e._e(),e._v(" "),e.geometry.type==="Polygon"?t("v-btn",{staticClass:"ms-1",attrs:{dense:"","x-small":"",tile:"",color:e.pickPolygonActive?"warning":"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioBuilder.pick"),disabled:!e.locationPickerActive},on:{click:e.togglePickPolygon}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-selection-ellipse-arrow-inside")])],1):t("span",[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.pick"))+`
                    `)])]):e._e(),e._v(" "),t("v-btn",{staticClass:"ms-1",attrs:{dense:"","x-small":"",tile:"",color:"grey lighten-1",disabled:!e.geom,title:e.$t("additional:modules.tools.cosi.scenarioBuilder.resetLocation")},on:{click:e.resetLocation}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-delete-forever")])],1):t("span",[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.resetLocation"))+`
                    `)])])]},proxy:!0}])})],1)],1)},w=[];O._withStripped=!0},4230:function(S,m,r){"use strict";r.r(m);var o=r(4231),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4231:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(y,M,I)=>M in y?s(y,M,{enumerable:!0,configurable:!0,writable:!0,value:I}):y[M]=I,e=(y,M)=>{for(var I in M||(M={}))O.call(M,I)&&i(y,I,M[I]);if(x)for(var I of x(M))w.call(M,I)&&i(y,I,M[I]);return y},t=(y,M)=>P(y,L(M)),n=(y,M)=>{for(var I in M)s(y,I,{get:M[I],enumerable:!0})},_=(y,M,I,T)=>{if(M&&typeof M=="object"||typeof M=="function")for(let u of D(M))!O.call(y,u)&&u!==I&&s(y,u,{get:()=>M[u],enumerable:!(T=j(M,u))||T.enumerable});return y},l=(y,M,I)=>(I=y!=null?o(E(y)):{},_(M||!y||!y.__esModule?s(I,"default",{value:y,enumerable:!0}):I,y)),f=y=>_(s({},"__esModule",{value:!0}),y),a={};n(a,{default:()=>c}),S.exports=f(a);var p=l(r(3728)),g=l(r(3729)),F=l(r(3730)),h=r(8),d=l(r(451)),v=l(r(3759)),c={name:"ScenarioManager",components:{Modal:d.default},data:()=>({newScenarioName:"",newScenarioValid:!0,createNewScenarioModalOpen:!1,confirmDialog:!1,confirmText:"",confirmAction:{function:()=>null,text:""}}),computed:t(e({},(0,h.mapGetters)("Tools/ScenarioBuilder",Object.keys(p.default))),{scenarioNames(){return this.scenarios.map(y=>y.name)},invalidScenarioName(){return this.newScenarioName.length===0||this.scenarioNames.includes(this.newScenarioName)},scenarioByName:()=>y=>(void 0).scenarios.find(M=>M.name===y),newScenarioRules(){return[y=>!!y||this.$t("additional:modules.tools.cosi.scenarioBuilder.required"),y=>!this.scenarioNames.includes(y)||this.$t("additional:modules.tools.cosi.scenarioManager.dublicateName")]},_activeScenario:{get(){return this.activeScenario},set(y){this.setActiveScenario(y)}}}),watch:{activeScenario(y,M){M&&M.hideScenario(),y&&y.restore()},createNewScenarioModalOpen(y){return y?document.addEventListener("keyup",this.checkKey):document.removeEventListener("keyup",this.checkKey)}},methods:t(e(e({},(0,h.mapMutations)("Tools/ScenarioBuilder",Object.keys(g.default))),(0,h.mapActions)("Tools/ScenarioBuilder",Object.keys(F.default))),{checkKey(y){y.code==="Enter"&&(this.invalidScenarioName||this.createNewScenario())},createNewScenario(){const y=new v.default(this.newScenarioName,this.guideLayer);this.scenarios.push(y),this.createNewScenarioModalOpen=!1,this.newScenarioName="",this.setActiveScenario(y)},deleteScenario(){this.activeScenario.prune(),this.setScenarios(this.scenarios.filter(y=>y!==this.activeScenario)),this.setActiveScenario(null),this.confirmDialog=!1},pruneActiveScenario(){this.activeScenario.prune(),this.confirmDialog=!1,this.$emit("pruneScenario")},pruneActiveScenarioNeighborhoods(){this.activeScenario.pruneNeighborhoods(),this.confirmDialog=!1,this.$emit("pruneScenario","neighborhoods")},pruneActiveScenarioSimulatedFeatures(){this.activeScenario.pruneSimulatedFeatures(),this.confirmDialog=!1,this.$emit("pruneScenario","simulated")},onDelete(){this.confirmDialog=!0,this.confirmText=this.$t("additional:modules.tools.cosi.scenarioManager.deleteScenarioWarning"),this.confirmAction.function=this.deleteScenario,this.confirmAction.text=this.$t("common:button.delete")},onPruneAll(){this.confirmDialog=!0,this.confirmText=this.$t("additional:modules.tools.cosi.scenarioManager.pruneAllFeaturesWarning"),this.confirmAction.function=this.pruneActiveScenario,this.confirmAction.text=this.$t("common:button.delete")},onPruneNeighborhoods(){this.confirmDialog=!0,this.confirmText=this.$t("additional:modules.tools.cosi.scenarioManager.pruneNeighborhoodsWarning"),this.confirmAction.function=this.pruneActiveScenarioNeighborhoods,this.confirmAction.text=this.$t("common:button.delete")},onPruneSimulation(){this.confirmDialog=!0,this.confirmText=this.$t("additional:modules.tools.cosi.scenarioManager.pruneSimulatedFeaturesWarning"),this.confirmAction.function=this.pruneActiveScenarioSimulatedFeatures,this.confirmAction.text=this.$t("common:button.delete")}})}},4255:function(S,m,r){"use strict";r.r(m);var o=r(4256),s=r(4183);for(var P in s)["default"].indexOf(P)<0&&function(D){r.d(m,D,function(){return s[D]})}(P);var j=r(1),L=Object(j.a)(s.default,o.render,o.staticRenderFns,!1,null,null,null);m.default=L.exports},4256:function(S,m,r){"use strict";var o=r(4208),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},4261:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"scenario-manager"}},[t("div",[t("span",{staticClass:"text-subtitle-2"},[e._v(`
            `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.title"))+`
        `)])]),e._v(" "),t("div",{staticClass:"mb-2"},[e._v(`
        Anlegen und Verwalten der Szenarien f\xFCr fiktive Daten. In einem Szenario k\xF6nnen Einrichtungen und Wohnquartiere simuliert, sowie bestehende Einrichtungen ver\xE4ndert werden.
    `)]),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"6"}},[t("v-select",{attrs:{items:e.scenarios,"item-text":"name","item-value":"name","return-object":"","no-data-text":e.$t("additional:modules.tools.cosi.scenarioManager.noScenarios"),label:e.$t("additional:modules.tools.cosi.scenarioManager.selectScenarios"),title:e.$t("additional:modules.tools.cosi.scenarioManager.selectScenarios"),outlined:"",dense:"",clearable:""},model:{value:e._activeScenario,callback:function(n){e._activeScenario=n},expression:"_activeScenario"}})],1),e._v(" "),t("v-col",{staticClass:"flex",attrs:{cols:"6"}},[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioManager.createNewTitle")},on:{click:function(n){e.createNewScenarioModalOpen=!e.createNewScenarioModalOpen}}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-domain-plus")])],1):t("span",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.createNewTitle"))+`
                `)])]),e._v(" "),t("v-menu",{attrs:{"open-on-hover":"",top:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:_}){return[t("v-btn",e._g(e._b({staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioManager.exportScenario"),disabled:!e.activeScenario},on:{click:function(l){e.activeScenario&&e.activeScenario.exportScenario()}}},"v-btn",_,!1),n),[e.useIcons?t("span",[t("v-icon",[e._v("mdi-download")])],1):t("span",[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.exportScenario"))+`
                        `)])])]}}])},[e._v(" "),t("v-list",[t("v-list-item",[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioManager.exportSimulatedFeatures"),disabled:!e.activeScenario},on:{click:function(n){e.activeScenario&&e.activeScenario.exportScenarioFeatures()}}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-map-marker-multiple")])],1):t("span",[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.exportSimulatedFeatures"))+`
                            `)])])],1),e._v(" "),t("v-list-item",[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioManager.exportNeighborhoods"),disabled:!e.activeScenario},on:{click:function(n){e.activeScenario&&e.activeScenario.exportScenarioNeighborhoods()}}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-home")])],1):t("span",[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.exportNeighborhoods"))+`
                            `)])])],1),e._v(" "),t("v-list-item",[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioManager.exportScenario"),disabled:!e.activeScenario},on:{click:function(n){e.activeScenario&&e.activeScenario.exportScenario()}}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-download")])],1):t("span",[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.exportScenario"))+`
                            `)])])],1)],1)],1),e._v(" "),t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e._activeScenario,title:e.$t("additional:modules.tools.cosi.scenarioManager.deleteScenario")},on:{click:e.onDelete}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-delete-forever")])],1):t("span",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.deleteScenario"))+`
                `)])])],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{staticClass:"flex",attrs:{cols:"12"}},[t("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:_}){return[t("v-btn",e._g(e._b({staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e.activeScenario,title:e.$t("additional:modules.tools.cosi.scenarioManager.helpPruneAllFeatures")},on:{click:e.onPruneAll}},"v-btn",_,!1),n),[t("v-icon",{attrs:{left:""}},[e._v(`
                            mdi-domain-remove
                        `)]),e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.pruneAllFeatures"))+`
                    `)],1)]}}])},[e._v(" "),t("v-list",[t("v-list-item",[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e.activeScenario,title:e.$t("additional:modules.tools.cosi.scenarioManager.helpPruneSimulatedFeatures")},on:{click:e.onPruneSimulation}},[t("v-icon",{attrs:{left:""}},[e._v(`
                                mdi-map-marker-remove
                            `)]),e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.pruneSimulatedFeatures"))+`
                        `)],1)],1),e._v(" "),t("v-list-item",[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e.activeScenario,title:e.$t("additional:modules.tools.cosi.scenarioManager.helpPruneNeighborhoods")},on:{click:e.onPruneNeighborhoods}},[t("v-icon",{attrs:{left:""}},[e._v(`
                                mdi-home-remove
                            `)]),e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.pruneNeighborhoods"))+`
                        `)],1)],1),e._v(" "),t("v-list-item",[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e.activeScenario,title:e.$t("additional:modules.tools.cosi.scenarioManager.helpPruneAllFeatures")},on:{click:e.onPruneAll}},[t("v-icon",{attrs:{left:""}},[e._v(`
                                mdi-domain-remove
                            `)]),e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.pruneAllFeatures"))+`
                        `)],1)],1)],1)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12"}},[e.activeScenario?e._e():t("div",[e._v(`
                `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.noActiveScenario"))+`
            `)])])],1),e._v(" "),t("Modal",{attrs:{"show-modal":e.createNewScenarioModalOpen},on:{modalHid:function(n){e.createNewScenarioModalOpen=!1},clickedOnX:function(n){e.createNewScenarioModalOpen=!1},clickedOutside:function(n){e.createNewScenarioModalOpen=!1}}},[t("h4",[e._v(" "+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.createNewTitle"))+" ")]),e._v(" "),t("div",{attrs:{id:"new-scenario-form"}},[t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{required:"",dense:"",rules:e.newScenarioRules,label:e.$t("additional:modules.tools.cosi.scenarioManager.scenarioName")},model:{value:e.newScenarioName,callback:function(n){e.newScenarioName=n},expression:"newScenarioName"}}),e._v(" "),t("v-btn",{attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",type:"button",disabled:e.invalidScenarioName,title:e.$t("additional:modules.tools.cosi.scenarioManager.createNewTitle")},on:{click:e.createNewScenario}},[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioManager.createNewSubmit"))+`
                        `)])],1)],1)],1)],1)]),e._v(" "),t("v-snackbar",{attrs:{timeout:-1,color:"white",light:"",centered:""},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[t("v-btn",e._b({attrs:{text:""},on:{click:e.confirmAction.function}},"v-btn",n,!1),[e._v(`
                `+e._s(e.confirmAction.text)+`
            `)]),e._v(" "),t("v-btn",e._b({attrs:{text:""},on:{click:function(_){e.confirmDialog=!1}}},"v-btn",n,!1),[e._v(`
                `+e._s(e.$t("common:button.cancel"))+`
            `)])]}}]),model:{value:e.confirmDialog,callback:function(n){e.confirmDialog=n},expression:"confirmDialog"}},[e._v(`
        `+e._s(e.confirmText)+`

        `)])],1)},w=[];O._withStripped=!0},4263:function(S,m,r){},4287:function(S){S.exports=JSON.parse('{"decimal":"number","long":"number","double":"number","float":"number","integer":"number","string":"string","date":"date","boolean":"boolean","gml:PointPropertyType":"geom","gml:MultiPointPropertyType":"geom","gml:LinePropertyType":"geom","gml:PolygonPropertyType":"geom","gml:MultiPolygonPropertyType":"geom"}')},4412:function(S,m,r){"use strict";r.r(m);var o=r(4413),s=r(4230);for(var P in s)["default"].indexOf(P)<0&&function(x){r.d(m,x,function(){return s[x]})}(P);var j=r(4414),L=r(1),D=Object(L.a)(s.default,o.render,o.staticRenderFns,!1,null,"78648abe",null);m.default=D.exports},4413:function(S,m,r){"use strict";var o=r(4261),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},4414:function(S,m,r){"use strict";var o=r(4263),s=r.n(o)},4425:function(S,m,r){"use strict";r.r(m);var o=r(4426),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4426:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(A,B,N)=>B in A?s(A,B,{enumerable:!0,configurable:!0,writable:!0,value:N}):A[B]=N,e=(A,B)=>{for(var N in B||(B={}))O.call(B,N)&&i(A,N,B[N]);if(x)for(var N of x(B))w.call(B,N)&&i(A,N,B[N]);return A},t=(A,B)=>P(A,L(B)),n=(A,B)=>{for(var N in B)s(A,N,{get:B[N],enumerable:!0})},_=(A,B,N,z)=>{if(B&&typeof B=="object"||typeof B=="function")for(let R of D(B))!O.call(A,R)&&R!==N&&s(A,R,{get:()=>B[R],enumerable:!(z=j(B,R))||z.enumerable});return A},l=(A,B,N)=>(N=A!=null?o(E(A)):{},_(B||!A||!A.__esModule?s(N,"default",{value:A,enumerable:!0}):N,A)),f=A=>_(s({},"__esModule",{value:!0}),A),a=(A,B,N)=>new Promise((z,R)=>{var H=Z=>{try{Q(N.next(Z))}catch(Y){R(Y)}},U=Z=>{try{Q(N.throw(Z))}catch(Y){R(Y)}},Q=Z=>Z.done?z(Z.value):Promise.resolve(Z.value).then(H,U);Q((N=N.apply(A,B)).next())}),p={};n(p,{default:()=>ae}),S.exports=f(p);var g=l(r(59)),F=r(41),h=r(8),d=l(r(3728)),v=l(r(3729)),c=l(r(3730)),y=l(r(3724)),M=l(r(317)),I=l(r(3980)),T=l(r(4287)),u=l(r(21)),b=r(3721),C=l(r(3981)),k=l(r(3982)),$=l(r(4262)),K=l(r(5446)),V=l(r(5449)),G=l(r(5451)),W=l(r(4255)),X=l(r(4412)),ee=l(r(3720)),J=r(3749),te=l(r(4162)),re=r(3708),oe=r(3891),q=l(r(90)),ne=r(3649),ie=l(r(3868)),ae={name:"ScenarioBuilder",components:{Tool:g.default,ToolInfo:te.default,ReferencePicker:K.default,MoveFeatures:V.default,ScenarioManager:X.default,GeometryPicker:W.default,FeatureEditor:G.default},data(){return{workingLayer:null,featureTypeDesc:[],featureTypeDescSorted:{required:[],optional:[]},featureProperties:{},beautifyKey:M.default,typesMapping:T.default,geometry:null,valuesForFields:{},panel:[0,1],formValid:!1,isCreated:!1,editDialog:!1,editFeature:null,map:void 0}},computed:t(e(e(e(e(e({},(0,h.mapGetters)("Language",["currentLocale"])),(0,h.mapGetters)("Tools/ScenarioBuilder",Object.keys(d.default))),(0,h.mapGetters)("Tools/FeaturesList",["groupActiveLayer","activeVectorLayerList"])),(0,h.mapGetters)("Maps",["getLayerById","projectionCode"])),(0,h.mapGetters)("Tools/Routing",["geosearchReverse"])),{geomCoords:{get(){return this.geometry?JSON.stringify(this.geometry.getCoordinates()):void 0},set(A){this.setGeomByInput(A)}}}),watch:{workingLayer(A){q.default.show(),this.resetFeature(),this.describeFeatureTypeByLayerId(A.layerId).then(B=>{const N=B||this.getDescriptionBySource(A.layerId),z=[],R=[];let H;for(const U of N)(0,I.compareLayerMapping)(U,A)?(z.push(U),this.featureProperties[U.name]=null):this.typesMapping[U.type]==="geom"?H=U:R.push(U);this.featureTypeDescSorted={required:z,optional:R,geom:H},this.featureTypeDesc=N,this.asyncGetValuesForField(N)})},active(A){return a(this,null,function*(){if(A)this.geometry&&(yield this.$nextTick(),this.$refs["geometry-picker"].geometry.value=this.geometry,yield this.$nextTick(),(0,J.geomPickerSetGeometry)(this.$refs["geometry-picker"],this.geometry));else{const B=(0,F.getComponent)(this.id);B&&B.set("isActive",!1),(0,J.geomPickerUnlisten)(this.$refs["geometry-picker"])}})},activeVectorLayerList(A){this.guideLayer&&(0,b.toggleTagsOnLayerVisibility)(this.guideLayer,A)},featureProperties:{deep:!0,handler(){this.isCreated=!1}},geometry(A){this.isCreated=!1,this.getAddress(A)}},created(){return a(this,null,function*(){this.$on("close",()=>{this.setActive(!1)}),this.map=mapCollection.getMap("2D"),yield this.createGuideLayer()})},methods:t(e(e(e(e(e({},(0,h.mapMutations)("Tools/ScenarioBuilder",Object.keys(v.default))),(0,h.mapActions)("Tools/ScenarioBuilder",Object.keys(c.default))),(0,h.mapActions)("MapMarker",["placingPointMarker","removePointMarker"])),(0,h.mapActions)("Maps",["addNewLayerIfNotExists"])),(0,h.mapMutations)("Maps",["setCenter"])),{compareLayerMapping:I.compareLayerMapping,validateProp:I.default,describeFeatureTypeByLayerId:y.default,createGuideLayer(){return a(this,null,function*(){const A=yield this.addNewLayerIfNotExists({layerName:this.id+"_layer"});return A.setVisible(!0),A.setStyle(function(B){return B.get("isModified")&&!B.get("isSimulation")?[(0,b.featureTagStyleMod)(B)]:[(0,b.featureTagStyle)(B)]}),A.setZIndex(15),this.setGuideLayer(A),A})},resetFeature(){this.featureProperties={},this.geometry=null,this.formValid=!1,(0,J.geomPickerResetLocation)(this.$refs["geometry-picker"]),(0,J.geomPickerUnlisten)(this.$refs["geometry-picker"])},updateGeometry(A){this.geometry=A},createFeature(){const A=this.getLayerById({layerId:this.workingLayer.layerId}),B=this.geometry,N=new u.default({geometry:B});this.setFeatureProperties(N,this.featureProperties,B),this.activeScenario.addFeature(new ee.default(N,A)),(0,J.geomPickerUnlisten)(this.$refs["geometry-picker"]),(0,J.geomPickerClearDrawPolygon)(this.$refs["geometry-picker"]),this.removePointMarker(),this.$root.$emit("updateFeature"),this.isCreated=!0},setFeatureProperties(A,B,N){Object.hasOwnProperty.call(B,"geometry")&&delete B.geometry,A.setProperties(B),A.set("isSimulation",!0),A.setId((0,$.default)(t(e({},B),{geom:N}))),(0,ie.default)(A,this.geomAttributes)},asyncGetValuesForField(A){this.valuesForFields={};for(const B of A)(0,C.default)(B.name,this.workingLayer.layerId).then(N=>{this.valuesForFields=t(e({},this.valuesForFields),{[B.name]:N})});q.default.hide()},getDataFromReferenceFeature(A){const B=A.getProperties();Object.prototype.hasOwnProperty.call(B,"geom")&&delete B.geom,this.featureProperties=B,this.formValid=this.requiredFieldsSet()},disableFeatureEditor(A){A&&(0,J.geomPickerUnlisten)(this.$refs["geometry-picker"]),this.setFeatureEditorDisabled(A)},mapDataTypes(A){return this.$t(`additional:modules.tools.cosi.dataTypes.${A}`)},getAddress(A){return a(this,null,function*(){const B=yield(0,oe.getAddress)(A,this.projectionCode,this.geosearchReverse.type);if(B){for(const N of this.workingLayer.addressField)this.featureProperties[N]="";this.$set(this.featureProperties,this.workingLayer.addressField[0],B),this.$forceUpdate()}})},getDescriptionBySource(A){var B;const N=this.getLayerById({layerId:A}),z=N.getSource().getFeatures()[0]||((B=(0,ne.getModelByAttributes)({id:A}))==null?void 0:B.get("features")[0]);let R,H;return z?(R=z.getProperties(),H=Object.entries(R).map(U=>({minOccurs:0,name:U[0],type:(0,k.default)(U[1])})),H):[]},requiredFieldsSet(){for(const A of this.featureTypeDescSorted.required)if(!this.featureProperties[A.name])return!1;return!0},openEditDialog(A){this.editFeature=null,this.map.forEachFeatureAtPixel(A.pixel,B=>{for(const N of(0,re.unpackCluster)(B))N.get("isSimulation")&&(this.editFeature=N,this.editDialog=!0)},{layerFilter:B=>this.activeVectorLayerList.includes(B)}),this.editFeature||(this.editDialog=!1)},deleteFeature(){this.activeScenario.removeSimulatedFeature(this.editFeature),this.editDialog=!1}})}},4427:function(S,m,r){"use strict";r.r(m);var o=r(4428),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4428:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(d,v,c)=>v in d?s(d,v,{enumerable:!0,configurable:!0,writable:!0,value:c}):d[v]=c,e=(d,v)=>{for(var c in v||(v={}))O.call(v,c)&&i(d,c,v[c]);if(x)for(var c of x(v))w.call(v,c)&&i(d,c,v[c]);return d},t=(d,v)=>P(d,L(v)),n=(d,v)=>{for(var c in v)s(d,c,{get:v[c],enumerable:!0})},_=(d,v,c,y)=>{if(v&&typeof v=="object"||typeof v=="function")for(let M of D(v))!O.call(d,M)&&M!==c&&s(d,M,{get:()=>v[M],enumerable:!(y=j(v,M))||y.enumerable});return d},l=(d,v,c)=>(c=d!=null?o(E(d)):{},_(v||!d||!d.__esModule?s(c,"default",{value:d,enumerable:!0}):c,d)),f=d=>_(s({},"__esModule",{value:!0}),d),a={};n(a,{default:()=>h}),S.exports=f(a);var p=r(62),g=r(8),F=l(r(451)),h={name:"ReferencePicker",components:{Modal:F.default},props:{active:{type:Boolean,required:!0},workingLayer:{type:Object,required:!1,default:null},useIcons:{type:Boolean,required:!1,default:!0}},data:()=>({select:null,referencePickerActive:!1,referenceFeature:null,clusteredFeatures:[],showClusteredFeaturePicker:!1,map:void 0}),computed:t(e({},(0,g.mapGetters)("Maps",["getLayerById"])),{layer(){return this.getLayerById({layerId:this.workingLayer.layerId})}}),watch:{active(d){d||this.unlisten()},referencePickerActive(d){d?(this.listen(),this.$emit("referencePickerActive",!0)):(this.unlisten(),this.$emit("referencePickerActive",!1))}},created(){this.map=mapCollection.getMap("2D")},beforeDestroy(){this.unlisten()},methods:{togglePickReference(){this.referencePickerActive=!this.referencePickerActive},listen(){this.select=new p.Select({layers:[this.layer],style:null}),this.map.addInteraction(this.select),this.select.on("select",this.pickReference.bind(this))},unlisten(){this.map.removeInteraction(this.select),this.select=null},pickReference(d){const v=this.unpackClusteredFeatures(d.selected[0]);v&&this.$emit("pickReference",v),this.referencePickerActive=!1},unpackClusteredFeatures(d){const v=d.get("features");return v?v.length===1?v[0]:(v.length>1&&(this.clusteredFeatures=v,this.showClusteredFeaturePicker=!0),null):d},pickClusteredFeature(d){this.showClusteredFeaturePicker=!1,this.$emit("pickReference",d)},escapeClusteredFeaturePicker(){this.showClusteredFeaturePicker=!1}}}},4429:function(S,m,r){"use strict";r.r(m);var o=r(4430),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4430:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(T,u,b)=>u in T?s(T,u,{enumerable:!0,configurable:!0,writable:!0,value:b}):T[u]=b,e=(T,u)=>{for(var b in u||(u={}))O.call(u,b)&&i(T,b,u[b]);if(x)for(var b of x(u))w.call(u,b)&&i(T,b,u[b]);return T},t=(T,u)=>P(T,L(u)),n=(T,u)=>{for(var b in u)s(T,b,{get:u[b],enumerable:!0})},_=(T,u,b,C)=>{if(u&&typeof u=="object"||typeof u=="function")for(let k of D(u))!O.call(T,k)&&k!==b&&s(T,k,{get:()=>u[k],enumerable:!(C=j(u,k))||C.enumerable});return T},l=(T,u,b)=>(b=T!=null?o(E(T)):{},_(u||!T||!T.__esModule?s(b,"default",{value:T,enumerable:!0}):b,T)),f=T=>_(s({},"__esModule",{value:!0}),T),a=(T,u,b)=>new Promise((C,k)=>{var $=G=>{try{V(b.next(G))}catch(W){k(W)}},K=G=>{try{V(b.throw(G))}catch(W){k(W)}},V=G=>G.done?C(G.value):Promise.resolve(G.value).then($,K);V((b=b.apply(T,u)).next())}),p={};n(p,{default:()=>I}),S.exports=f(p);var g=r(62),F=r(8),h=r(3708),d=l(r(3867)),v=r(3718),c=l(r(49)),y=r(3891),M=r(3649),I={name:"MoveFeatures",props:{active:{type:Boolean,required:!0},activeScenario:{type:Object,required:!1,default:null},workingLayer:{type:Object,required:!1,default:null},useIcons:{type:Boolean,required:!1,default:!0},guideLayer:{type:Object,required:!1,default:null}},data:()=>({translate:null,moveFeaturesActive:!1,onlyEditSimulated:!0,select:null,dialog:{open:!1,color:"success",text:"",timeout:4e3},map:void 0}),computed:t(e(e({},(0,F.mapGetters)("Maps",["getLayerById","projectionCode"])),(0,F.mapGetters)("Tools/Routing",["geosearchReverse"])),{layer(){return this.getLayerById({layerId:this.workingLayer.layerId})}}),watch:{active(T){T||(this.moveFeaturesActive=!1)},moveFeaturesActive(T){T?(this.$emit("moveFeaturesActive",!0),this.listen(),this.dialog.timeout=5e3,this.dialog.color="primary",this.dialog.text=this.$t("additional:modules.tools.cosi.moveFeatures.help"),this.dialog.open=!0):(this.$emit("moveFeaturesActive",!1),this.unlisten())},workingLayer(){this.moveFeaturesActive=!1}},created(){this.map=mapCollection.getMap("2D")},beforeDestroy(){this.unlisten()},methods:t(e({},(0,F.mapActions)("Maps",["removeHighlightFeature"])),{listen(){this.select=new g.Select({layers:[this.layer],style:null,filter:this.filterFeaturesOnSelect}),this.translate=new g.Translate({features:this.select.getFeatures()}),this.map.addInteraction(this.select),this.map.addInteraction(this.translate),this.select.on("select",this.onSelect.bind(this)),this.translate.on("translatestart",this.onTranslateStart.bind(this)),this.translate.on("translateend",this.onTranslateEnd.bind(this)),(0,M.onSearchbar)(this.translateBySearchbar.bind(this))},unlisten(){this.removeHighlightFeature(),this.map.removeInteraction(this.translate),this.map.removeInteraction(this.select),this.translate=null,this.select=null,(0,M.offSearchbar)()},toggleOnlySimulated(){this.onlyEditSimulated=!this.onlyEditSimulated,this.onlyEditSimulated||(this.dialog.timeout=2e3,this.dialog.color="warning",this.dialog.text=this.$t("additional:modules.tools.cosi.moveFeatures.onlySimulatedWarning"),this.dialog.open=!0)},onSelect(T){const u=T.selected[0];this.removeHighlightFeature(),(0,d.default)(u,this.workingLayer.layerId)},onTranslateStart(T){const u=T.features.item(0);let b;for(b of(0,h.unpackCluster)(u))this.activeScenario.modifyFeature(b,{},this.layer)},onTranslateEnd(T){return a(this,null,function*(){const u=T.features.item(0),b=u.getGeometry().clone();let C;for(C of(0,h.unpackCluster)(u)){C.setGeometry(b);const k=yield(0,y.getAddress)(b,this.projectionCode,this.geosearchReverse.type),$={};if(k){for(const K of this.workingLayer.addressField)$[K]="";$[this.workingLayer.addressField[0]]=k}this.activeScenario.modifyFeature(C,e({geometry:b},$))}})},resetFeatureLocations(){this.activeScenario.resetFeaturesByLayer(this.layer,["geometry",...this.workingLayer.addressField],!0)},filterFeaturesOnSelect(T){if(!this.onlyEditSimulated)return!0;const u=(0,h.unpackCluster)(T);return!!(u.length===1&&u[0].get("isSimulation"))},translateBySearchbar(){const T=new c.default(this.getSearchResultsCoordinates()),u=this.select.getFeatures().item(0);let b;if(u)for(b of(0,h.unpackCluster)(u))this.activeScenario.modifyFeature(b,{},this.layer),b.setGeometry(T),this.activeScenario.modifyFeature(b,{geometry:T})},getSearchResultsCoordinates:v.getSearchResultsCoordinates})}},4431:function(S,m,r){"use strict";r.r(m);var o=r(4432),s=r.n(o);for(var P in o)["default"].indexOf(P)<0&&function(j){r.d(m,j,function(){return o[j]})}(P);m.default=s.a},4432:function(S,m,r){var o=Object.create,s=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,i=(c,y,M)=>y in c?s(c,y,{enumerable:!0,configurable:!0,writable:!0,value:M}):c[y]=M,e=(c,y)=>{for(var M in y||(y={}))O.call(y,M)&&i(c,M,y[M]);if(x)for(var M of x(y))w.call(y,M)&&i(c,M,y[M]);return c},t=(c,y)=>P(c,L(y)),n=(c,y)=>{for(var M in y)s(c,M,{get:y[M],enumerable:!0})},_=(c,y,M,I)=>{if(y&&typeof y=="object"||typeof y=="function")for(let T of D(y))!O.call(c,T)&&T!==M&&s(c,T,{get:()=>y[T],enumerable:!(I=j(y,T))||I.enumerable});return c},l=(c,y,M)=>(M=c!=null?o(E(c)):{},_(y||!c||!c.__esModule?s(M,"default",{value:c,enumerable:!0}):M,c)),f=c=>_(s({},"__esModule",{value:!0}),c),a={};n(a,{default:()=>v}),S.exports=f(a);var p=r(8),g=l(r(451)),F=r(3708),h=l(r(317)),d=l(r(4162)),v={name:"FeatureEditor",components:{Modal:g.default,ToolInfo:d.default},props:{disabled:{type:Boolean,default:!1}},data:()=>({editDialog:!1,editModal:!1,featureSelectionList:[],featureSelectionModal:!1,panel:[0],selectedFeature:{layerMap:null,properties:null,feature:null},noScenarioWarning:!1,confirmDialog:!1,lock:!0,confirmText:"",confirmAction:{function:()=>null,text:""},subReadMeUrl:{"de-DE":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/010einrichtungenbearbeiten.md","en-US":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/010featureeditor.md"}}),computed:t(e(e(e(e({},(0,p.mapGetters)("Language",["currentLocale"])),(0,p.mapGetters)("Maps",["getLayerById"])),(0,p.mapGetters)("Tools/FeaturesList",["activeVectorLayerList","layerMapById"])),(0,p.mapGetters)("Tools/ScenarioBuilder",["activeScenario"])),{map(){return mapCollection.getMap("2D")},isSimulation(){var c;return(c=this.selectedFeature.properties)==null?void 0:c.isSimulation},isModified(){var c;return(c=this.selectedFeature.properties)==null?void 0:c.isModified}}),created(){mapCollection.getMap("2D").addEventListener("click",this.openEditDialog.bind(this)),this.confirmText=this.$t("additional:modules.tools.cosi.featureEditor.noScenarioconfirmDeleteWarning")},methods:{openEditDialog(c){this.disabled||(this.reset(),mapCollection.getMap("2D").forEachFeatureAtPixel(c.pixel,(y,M)=>{for(const I of(0,F.unpackCluster)(y))this.featureSelectionList.push({layerMap:this.layerMapById(M.get("id")),feature:I,properties:I.getProperties()})},{layerFilter:y=>this.activeVectorLayerList.includes(y)}),this.featureSelectionList.length===1&&(this.selectedFeature.layerMap=this.featureSelectionList[0].layerMap,this.selectedFeature.feature=this.featureSelectionList[0].feature,this.selectedFeature.properties=this.featureSelectionList[0].properties),this.featureSelectionList.length>0&&(this.activeScenario?this.editDialog=!0:this.noScenarioWarning=!0))},editFeature(){this.selectedFeature.properties?this.editModal=!0:this.featureSelectionModal=!0,this.editDialog=!1},editProp(c,y){const M=c?.match(/^[0-9,.]{1,}$/)?parseFloat(c.replace(",",".")):c;this.selectedFeature.properties[y]=M},deleteSelectedFeature(){this.activeScenario.removeSimulatedFeature(this.selectedFeature.feature),this.reset()},reset(){this.selectedFeature.properties=null,this.selectedFeature.feature=null,this.selectedFeature.layerMap=null,this.editDialog=!1,this.editModal=!1,this.confirmDialog=!1,this.lock=!0,this.featureSelectionList=[],this.featureSelectionModal=!1},updateSelectedFeature(){const c=this.getLayerById({layerId:this.selectedFeature.layerMap.layerId});this.activeScenario.modifyFeature(this.selectedFeature.feature,this.selectedFeature.properties,c),this.reset()},resetSelectedFeature(){this.activeScenario.resetFeature(this.selectedFeature.feature,void 0,!0),this.reset()},isObject(c){return typeof c=="object"},onDelete(){this.confirmDialog=!0,this.confirmText=this.$t("additional:modules.tools.cosi.featureEditor.confirmDelete"),this.confirmAction.function=this.deleteSelectedFeature,this.confirmAction.text=this.$t("common:button.delete")},onReset(){this.confirmDialog=!0,this.confirmText=this.$t("additional:modules.tools.cosi.featureEditor.confirmReset"),this.confirmAction.function=this.resetSelectedFeature,this.confirmAction.text=this.$t("common:button.reset")},beautifyKey:h.default,setSelectedFeature(c){this.selectedFeature.layerMap=c.layerMap,this.selectedFeature.feature=c.feature,this.selectedFeature.properties=c.properties,this.$nextTick(()=>{this.featureSelectionModal=!1,this.editModal=!0})}}}},4831:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("div",{class:e.active?"tool-wrap":""},[t("Tool",{attrs:{title:e.$t("additional:modules.tools.cosi.scenarioBuilder.title"),icon:e.icon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"deactivate-gfi":e.deactivateGFI,"initial-width":.4},scopedSlots:e._u([e.active?{key:"toolBody",fn:function(){return[t("ToolInfo",{attrs:{url:e.readmeUrl,locale:e.currentLocale}}),e._v(" "),t("v-app",{attrs:{id:"scenario-builder-wrapper"}},[t("ScenarioManager",{on:{pruneScenario:e.resetFeature}}),e._v(" "),t("v-divider"),e._v(" "),t("div",[t("span",{staticClass:"text-subtitle-2"},[e._v(`
                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.title"))+`
                    `)])]),e._v(" "),t("div",{staticClass:"mb-2"},[e._v(`
                    F\xFCr die ausgew\xE4hlten Fachdaten Themen k\xF6nnen neue fiktive Einrichtungen angelegt werden. Diese k\xF6nnen f\xFCr alle CoSI Analysefunktionen verwendet werden. Sie werden au\xDFerhalb CoSI's nicht gespeichert.
                `)]),e._v(" "),e.groupActiveLayer.length===0?t("div",{staticClass:"warning_wrapper section"},[t("p",{staticClass:"warning"},[t("span",[e._v(e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.warningNoData")))])])]):t("div",{attrs:{id:"scenario-builder"}},[t("form",{staticClass:"features-list-controls"},[t("v-divider"),e._v(" "),t("div",{staticClass:"mb-5 overline"},[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.layerSelector"))+`
                        `)]),e._v(" "),e.groupActiveLayer.length>0?t("v-select",{staticClass:"layer_selection selection",attrs:{items:e.groupActiveLayer,dense:"",outlined:"",clearable:"",placeholder:e.$t("additional:modules.tools.cosi.scenarioBuilder.layerSelector")},model:{value:e.workingLayer,callback:function(n){e.workingLayer=n},expression:"workingLayer"}}):e._e(),e._v(" "),t("v-divider"),e._v(" "),e.featureTypeDesc.length>0?[t("div",{staticClass:"mb-5 overline"},[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.toolMenu"))+`
                            `)]),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"4"}},[t("ReferencePicker",{attrs:{"working-layer":e.workingLayer,active:e.active,"use-icons":e.useIcons},on:{pickReference:e.getDataFromReferenceFeature,referencePickerActive:e.disableFeatureEditor}})],1),e._v(" "),t("v-col",{attrs:{cols:"8"}},[t("MoveFeatures",{attrs:{"active-scenario":e.activeScenario,"working-layer":e.workingLayer,active:e.active,"use-icons":e.useIcons,"guide-layer":e.guideLayer},on:{moveFeaturesActive:e.disableFeatureEditor}})],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("div",{staticClass:"mb-5 overline"},[e._v(`
                                `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.configureFeature"))+`
                            `)]),e._v(" "),t("v-expansion-panels",{attrs:{accordion:"",multiple:""},model:{value:e.panel,callback:function(n){e.panel=n},expression:"panel"}},[t("v-expansion-panel",[t("v-expansion-panel-header",[e._v(`
                                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.geomFieldHeader"))+`
                                    `)]),e._v(" "),t("v-expansion-panel-content",[t("GeometryPicker",{ref:"geometry-picker",attrs:{"geom-field":e.featureTypeDescSorted.geom,"use-icons":e.useIcons},on:{updateGeometry:e.updateGeometry}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[e._v(`
                                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.essentialFieldHeader"))+`
                                    `)]),e._v(" "),t("v-expansion-panel-content",e._l(e.featureTypeDescSorted.required,function(n){return t("v-row",{key:n.name,staticClass:"essential-field",attrs:{title:e.$t("additional:modules.tools.cosi.scenarioBuilder.essentialField"),dense:""}},[t("v-col",{attrs:{cols:"3"}},[t("v-subheader",{attrs:{title:e.beautifyKey(n.name)}},[e._v(`
                                                    `+e._s(e.beautifyKey(n.name))+`
                                                `)])],1),e._v(" "),t("v-col",{attrs:{cols:"9"}},[e.typesMapping[n.type]==="boolean"?t("v-switch",{attrs:{label:e.mapDataTypes(n.type),dense:"","hide-details":!1},on:{change:function(_){e.formValid=e.requiredFieldsSet()}},model:{value:e.featureProperties[n.name],callback:function(_){e.$set(e.featureProperties,n.name,_)},expression:"featureProperties[field.name]"}}):t("v-combobox",{attrs:{items:e.valuesForFields[n.name],name:n.name,label:e.mapDataTypes(n.type),rules:e.validateProp(n,e.workingLayer),dense:""},on:{change:function(_){e.formValid=e.requiredFieldsSet()}},model:{value:e.featureProperties[n.name],callback:function(_){e.$set(e.featureProperties,n.name,_)},expression:"featureProperties[field.name]"}})],1)],1)}),1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[e._v(`
                                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.optionalFieldHeader"))+`
                                    `)]),e._v(" "),t("v-expansion-panel-content",e._l(e.featureTypeDescSorted.optional,function(n){return t("v-row",{key:n.name,staticClass:"optional-field",attrs:{title:e.$t("additional:modules.tools.cosi.scenarioBuilder.optionalField"),dense:""}},[t("v-col",{attrs:{cols:"3"}},[t("v-subheader",{attrs:{title:e.beautifyKey(n.name)}},[e._v(`
                                                    `+e._s(e.beautifyKey(n.name))+`
                                                `)])],1),e._v(" "),t("v-col",{attrs:{cols:"9"}},[e.typesMapping[n.type]==="boolean"?t("v-switch",{attrs:{label:e.mapDataTypes(n.type),dense:""},model:{value:e.featureProperties[n.name],callback:function(_){e.$set(e.featureProperties,n.name,_)},expression:"featureProperties[field.name]"}}):t("v-combobox",{attrs:{items:e.valuesForFields[n.name],name:n.name,label:e.mapDataTypes(n.type),rules:e.validateProp(n,e.workingLayer),dense:""},model:{value:e.featureProperties[n.name],callback:function(_){e.$set(e.featureProperties,n.name,_)},expression:"featureProperties[field.name]"}})],1)],1)}),1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[e.featureTypeDesc.length>0&&Object.keys(e.valuesForFields).length/e.featureTypeDesc.length<1?t("v-progress-linear",{attrs:{value:100*Object.keys(e.valuesForFields).length/e.featureTypeDesc.length,"background-color":"white"}}):e._e()],1),e._v(" "),t("v-row",[t("v-col",{staticClass:"flex",attrs:{cols:"12"}},[t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"primary",disabled:!e.activeScenario||e.geometry===null||!e.formValid||e.isCreated,title:e.formValid?"":e.$t("additional:modules.tools.cosi.scenarioBuilder.requiredFieldMissing")},on:{click:e.createFeature}},[t("v-icon",[e._v("mdi-home-plus")]),e._v(" "),t("span",[e._v(`
                                            `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.createFeature"))+`
                                        `)])],1),e._v(" "),t("v-btn",{staticClass:"flex-item",attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e.activeScenario,title:e.$t("additional:modules.tools.cosi.scenarioBuilder.helpResetFeature")},on:{click:e.resetFeature}},[t("v-icon",[e._v("mdi-eraser")]),e._v(`
                                        `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.resetFeature"))+`
                                    `)],1)],1)],1)]:e._e()],2)])],1)]},proxy:!0}:null],null,!0)}),e._v(" "),t("FeatureEditor",{attrs:{disabled:e.featureEditorDisabled}})],1)},w=[];O._withStripped=!0},4832:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("div",[t("v-btn",{attrs:{dense:"",small:"",tile:"",color:e.referencePickerActive?"warning":"grey lighten-1",title:e.$t("additional:modules.tools.cosi.scenarioBuilder.pickReference")},on:{click:e.togglePickReference}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-eyedropper")])],1):t("span",[e._v(`
            `+e._s(e.$t("additional:modules.tools.cosi.scenarioBuilder.pickReference"))+`
        `)])]),e._v(" "),t("Modal",{attrs:{"show-modal":e.showClusteredFeaturePicker},on:{modalHid:e.escapeClusteredFeaturePicker,clickedOnX:e.escapeClusteredFeaturePicker,clickedOutside:e.escapeClusteredFeaturePicker}},[t("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",{staticClass:"header-row"},[t("th",[e._v(e._s(e.$t("additional:modules.tools.cosi.featuresList.colFacility")))]),e._v(" "),t("th",[e._v(e._s(e.$t("additional:modules.tools.cosi.featuresList.colType")))]),e._v(" "),t("th",[e._v(e._s(e.$t("additional:modules.tools.cosi.featuresList.colAddress")))])])]),e._v(" "),t("tbody",e._l(e.clusteredFeatures,function(n,_){return t("tr",{key:_,staticClass:"selectable-row",on:{click:function(l){return e.pickClusteredFeature(n)}}},[t("th",[e._v(e._s(n.get(e.workingLayer.keyOfAttrName)))]),e._v(" "),t("td",[e._v(e._s(n.get(e.workingLayer.categoryField)))]),e._v(" "),t("td",[e._v(e._s(e.workingLayer.addressField.map(l=>n.get(l)).join(", ")))])])}),0)]},proxy:!0}])})],1)],1)},w=[];O._withStripped=!0},4833:function(S,m,r){},4834:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("div",[t("v-btn",{attrs:{title:e.$t("additional:modules.tools.cosi.moveFeatures.title"),dense:"",small:"",tile:"",color:e.moveFeaturesActive?"warning":"grey lighten-1",disabled:!e.activeScenario},on:{click:function(n){e.moveFeaturesActive=!e.moveFeaturesActive}}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-axis-arrow")])],1):t("span",[e._v(`
            `+e._s(e.$t("additional:modules.tools.cosi.moveFeatures.title"))+`
        `)])]),e._v(" "),t("v-btn",{attrs:{title:e.onlyEditSimulated?e.$t("additional:modules.tools.cosi.moveFeatures.toggleOnlySimulatedTooltip"):e.$t("additional:modules.tools.cosi.moveFeatures.toggleOnlySimulatedOffTooltip"),dense:"",small:"",tile:"",color:e.onlyEditSimulated?"grey lighten-1":"warning",disabled:!e.activeScenario},on:{click:e.toggleOnlySimulated}},[e.useIcons?t("span",[t("v-icon",[e._v(e._s(e.onlyEditSimulated?"mdi-lock":"mdi-lock-open"))])],1):t("span",[e._v(`
            `+e._s(e.$t("additional:modules.tools.cosi.moveFeatures.toggleOnlySimulated"))+`
        `)])]),e._v(" "),t("v-btn",{attrs:{title:e.$t("additional:modules.tools.cosi.moveFeatures.resetFeatureLocations"),dense:"",small:"",tile:"",color:"grey lighten-1",disabled:!e.activeScenario},on:{click:e.resetFeatureLocations}},[e.useIcons?t("span",[t("v-icon",[e._v("mdi-undo")])],1):t("span",[e._v(`
            `+e._s(e.$t("additional:modules.tools.cosi.moveFeatures.resetFeatureLocations"))+`
        `)])]),e._v(" "),t("v-snackbar",{attrs:{timeout:2e3,color:e.dialog.color},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[t("v-btn",e._b({attrs:{text:""},on:{click:function(_){e.dialog.open=!1}}},"v-btn",n,!1),[t("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.dialog.open,callback:function(n){e.$set(e.dialog,"open",n)},expression:"dialog.open"}},[e._v(`
        `+e._s(e.dialog.text)+`
        `)])],1)},w=[];O._withStripped=!0},4835:function(S,m,r){var o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(i,e)=>{for(var t in e)o(i,t,{get:e[t],enumerable:!0})},D=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let _ of P(e))!j.call(i,_)&&_!==t&&o(i,_,{get:()=>e[_],enumerable:!(n=s(e,_))||n.enumerable});return i},x=i=>D(o({},"__esModule",{value:!0}),i),E={};L(E,{render:()=>O,staticRenderFns:()=>w}),S.exports=x(E);var O=function(){var e=this,t=e._self._c;return t("v-app",[t("v-snackbar",{attrs:{timeout:-1,color:"white",light:"",centered:""},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[t("v-btn",e._b({attrs:{text:""},on:{click:e.confirmAction.function}},"v-btn",n,!1),[e._v(`
                `+e._s(e.confirmAction.text)+`
            `)]),e._v(" "),t("v-btn",e._b({attrs:{text:""},on:{click:function(_){e.confirmDialog=!1}}},"v-btn",n,!1),[e._v(`
                `+e._s(e.$t("common:button.cancel"))+`
            `)])]}}]),model:{value:e.confirmDialog,callback:function(n){e.confirmDialog=n},expression:"confirmDialog"}},[e._v(`
        `+e._s(e.confirmText)+`

        `)]),e._v(" "),t("v-snackbar",{attrs:{timeout:3e3,color:"grey lighten-1"},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[t("v-btn",e._b({attrs:{text:""},on:{click:function(_){e.noScenarioWarning=!1}}},"v-btn",n,!1),[t("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.noScenarioWarning,callback:function(n){e.noScenarioWarning=n},expression:"noScenarioWarning"}},[e._v(`
        `+e._s(e.$t("additional:modules.tools.cosi.featureEditor.noScenarioWarning"))+`

        `)]),e._v(" "),t("v-snackbar",{attrs:{timeout:8e3,color:"primary lighten-1"},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[e.isSimulation?t("v-btn",e._b({attrs:{text:""},on:{click:e.onDelete}},"v-btn",n,!1),[e._v(`
                `+e._s(e.$t("common:button.delete"))+`
            `)]):e._e(),e._v(" "),t("v-btn",e._b({attrs:{text:""},on:{click:e.editFeature}},"v-btn",n,!1),[e._v(`
                `+e._s(e.$t("common:button.edit"))+`
            `)]),e._v(" "),e.isModified?t("v-btn",e._b({attrs:{text:""},on:{click:e.onReset}},"v-btn",n,!1),[e._v(`
                `+e._s(e.$t("common:button.reset"))+`
            `)]):e._e(),e._v(" "),t("v-btn",e._b({attrs:{text:""},on:{click:function(_){e.editDialog=!1}}},"v-btn",n,!1),[t("v-icon",[e._v("mdi-close")])],1)]}}]),model:{value:e.editDialog,callback:function(n){e.editDialog=n},expression:"editDialog"}},[e._v(`
        `+e._s(e.$t("additional:modules.tools.cosi.featureEditor.editFeature"))+`

        `)]),e._v(" "),t("Modal",{attrs:{"show-modal":e.featureSelectionModal},on:{clickedOnX:e.reset,clickedOutside:e.reset}},[t("v-app",[t("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",{staticClass:"header-row"},[t("th",[e._v("Einrichtung")]),e._v(" "),t("th",[e._v("Name")])])]),e._v(" "),t("tbody",e._l(e.featureSelectionList,function(n,_){return t("tr",{key:_,staticClass:"selectable-row",on:{click:function(l){return e.setSelectedFeature(n)}}},[t("th",[e._v(e._s(n.layerMap.id))]),e._v(" "),t("td",[e._v(e._s(n.feature.get(n.layerMap.keyOfAttrName)))])])}),0)]},proxy:!0}])})],1)],1),e._v(" "),e.selectedFeature.properties?t("Modal",{attrs:{"show-modal":e.editModal},on:{modalHid:e.reset,clickedOnX:e.reset,clickedOutside:e.reset}},[t("v-app",[t("v-container",[t("v-subheader",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.cosi.featureEditor.editFeature"))+`
                `)]),e._v(" "),t("ToolInfo",{attrs:{url:e.subReadMeUrl[e.currentLocale]}}),e._v(" "),t("v-card-title",{attrs:{"primary-title":""}},[e._v(`
                    `+e._s(e.selectedFeature.properties[e.selectedFeature.layerMap.keyOfAttrName])+`
                `)]),e._v(" "),t("v-card-subtitle",[e._v(`
                    `+e._s(e.selectedFeature.layerMap.id)+" | "+e._s(e.selectedFeature.layerMap.group)+`
                    `),e.isSimulation?e._e():t("v-btn",{staticClass:"float-right",attrs:{title:e.lock?e.$t("additional:modules.tools.cosi.moveFeatures.toggleOnlySimulatedTooltip"):e.$t("additional:modules.tools.cosi.moveFeatures.toggleOnlySimulatedOffTooltip"),dense:"",small:"",tile:"",color:e.lock?"grey lighten-1":"warning"},on:{click:function(n){e.lock=!e.lock}}},[t("span",[t("v-icon",[e._v(e._s(e.lock?"mdi-lock":"mdi-lock-open"))])],1)])],1),e._v(" "),t("div",{staticClass:"stats-table-modal"},e._l(e.selectedFeature.properties,function(n,_){return t("v-row",{key:_,attrs:{dense:""}},[!e.isObject(n)&&_!=="isSimulation"&&_!=="isModified"?[t("v-col",{attrs:{cols:"3"}},[t("v-subheader",{attrs:{title:e.beautifyKey(_)}},[e._v(`
                                    `+e._s(e.beautifyKey(_))+`
                                `)])],1),e._v(" "),t("v-col",{attrs:{cols:"9"}},[typeof n=="boolean"?t("v-switch",{attrs:{value:n,dense:"","hide-details":!0,disabled:!e.isSimulation&&e.lock},on:{change:function(l){return e.editProp(l,_)}}}):t("v-text-field",{attrs:{value:n,name:_,title:n,dense:"",disabled:!e.isSimulation&&e.lock},on:{change:function(l){return e.editProp(l,_)}}})],1)]:e._e()],2)}),1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{dense:"",small:"",tile:"",color:"primary",title:e.$t("additional:modules.tools.cosi.featureEditor.update")},on:{click:e.updateSelectedFeature}},[t("v-icon",[e._v("mdi-pencil")]),e._v(" "),t("span",[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.featureEditor.update"))+`
                        `)])],1),e._v(" "),t("v-btn",{attrs:{dense:"",small:"",tile:"",color:"primary",disabled:!e.isModified,title:e.$t("additional:modules.tools.cosi.featureEditor.reset")},on:{click:e.resetSelectedFeature}},[t("v-icon",[e._v("mdi-undo")]),e._v(" "),t("span",[e._v(`
                            `+e._s(e.$t("additional:modules.tools.cosi.featureEditor.reset"))+`
                        `)])],1),e._v(" "),t("v-btn",{attrs:{dense:"",small:"",tile:"",color:"grey lighten-1",title:e.$t("common:button.cancel")},on:{click:e.reset}},[t("v-icon",[e._v("mdi-close")]),e._v(" "),t("span",[e._v(`
                            `+e._s(e.$t("common:button.cancel"))+`
                        `)])],1)],1)],1)],1)],1):e._e()],1)},w=[];O._withStripped=!0},4836:function(S,m,r){},4837:function(S,m,r){},5444:function(S,m,r){"use strict";r.r(m);var o=r(5445),s=r(4425);for(var P in s)["default"].indexOf(P)<0&&function(x){r.d(m,x,function(){return s[x]})}(P);var j=r(5454),L=r(1),D=Object(L.a)(s.default,o.render,o.staticRenderFns,!1,null,null,null);m.default=D.exports},5445:function(S,m,r){"use strict";var o=r(4831),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},5446:function(S,m,r){"use strict";r.r(m);var o=r(5447),s=r(4427);for(var P in s)["default"].indexOf(P)<0&&function(x){r.d(m,x,function(){return s[x]})}(P);var j=r(5448),L=r(1),D=Object(L.a)(s.default,o.render,o.staticRenderFns,!1,null,"5954d95a",null);m.default=D.exports},5447:function(S,m,r){"use strict";var o=r(4832),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},5448:function(S,m,r){"use strict";var o=r(4833),s=r.n(o)},5449:function(S,m,r){"use strict";r.r(m);var o=r(5450),s=r(4429);for(var P in s)["default"].indexOf(P)<0&&function(D){r.d(m,D,function(){return s[D]})}(P);var j=r(1),L=Object(j.a)(s.default,o.render,o.staticRenderFns,!1,null,null,null);m.default=L.exports},5450:function(S,m,r){"use strict";var o=r(4834),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},5451:function(S,m,r){"use strict";r.r(m);var o=r(5452),s=r(4431);for(var P in s)["default"].indexOf(P)<0&&function(x){r.d(m,x,function(){return s[x]})}(P);var j=r(5453),L=r(1),D=Object(L.a)(s.default,o.render,o.staticRenderFns,!1,null,"8833ccd4",null);m.default=D.exports},5452:function(S,m,r){"use strict";var o=r(4835),s=r.n(o);r.o(o,"render")&&r.d(m,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(m,"staticRenderFns",function(){return o.staticRenderFns})},5453:function(S,m,r){"use strict";var o=r(4836),s=r.n(o)},5454:function(S,m,r){"use strict";var o=r(4837),s=r.n(o)}}]);
