(window.webpackJsonp=window.webpackJsonp||[]).push([[591,589,590,592,593],{3707:function(m,N){var _=Object.defineProperty,S=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,T=(O,f)=>{for(var d in f)_(O,d,{get:f[d],enumerable:!0})},V=(O,f,d,L)=>{if(f&&typeof f=="object"||typeof f=="function")for(let w of u(f))!M.call(O,w)&&w!==d&&_(O,w,{get:()=>f[w],enumerable:!(L=S(f,w))||L.enumerable});return O},x=O=>V(_({},"__esModule",{value:!0}),O),P={};T(P,{default:()=>h}),m.exports=x(P);var h={name:"common:modules.tools.featureLister.title",icon:"bi-list",renderToWindow:!0,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!1,maxFeatures:20,active:!1,id:"wholeCityList",layerlist:[],layerId:"",layer:null,layerListView:!0,gfiFeaturesOfLayer:[],featureCount:"",shownFeatures:"",featureListView:!1,rawFeaturesOfLayer:[],nestedFeatures:!1,featureDetailView:!1,headers:[],selectedFeature:null,highlightVectorRulesPolygon:{fill:{color:[255,0,255,.9]},stroke:{width:4,color:[0,0,204,.9]},zoomLevel:7},highlightVectorRulesPointLine:{stroke:{width:8,color:[255,0,255,.9]},image:{scale:2},zoomLevel:7}}},3856:function(m,N,_){var S=Object.create,u=Object.defineProperty,M=Object.defineProperties,T=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,f=(o,e,t)=>e in o?u(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,d=(o,e)=>{for(var t in e||(e={}))h.call(e,t)&&f(o,t,e[t]);if(P)for(var t of P(e))O.call(e,t)&&f(o,t,e[t]);return o},L=(o,e)=>M(o,V(e)),w=(o,e)=>{for(var t in e)u(o,t,{get:e[t],enumerable:!0})},r=(o,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let p of x(e))!h.call(o,p)&&p!==t&&u(o,p,{get:()=>e[p],enumerable:!(s=T(e,p))||s.enumerable});return o},l=(o,e,t)=>(t=o!=null?S(b(o)):{},r(e||!o||!o.__esModule?u(t,"default",{value:o,enumerable:!0}):t,o)),a=o=>r(u({},"__esModule",{value:!0}),o),i={};w(i,{default:()=>G}),m.exports=a(i);var n=_(10),y=l(_(3707)),G=L(d({},(0,n.generateSimpleGetters)(y.default)),{featureProperties:o=>o.gfiFeaturesOfLayer.map(e=>e.getProperties()).map(e=>o.headers.map(({key:t})=>{var s;return(s=e[t])!=null?s:""})),featureDetails:(o,e,t,s)=>{var p,c,v,D,E,z;const C=o.selectedFeature.getAttributesToShow(),F=o.selectedFeature.getProperties();return((v=(c=(p=o.selectedFeature)==null?void 0:p.getTheme())==null?void 0:c.params)==null?void 0:v.linkHrefKey)!==""&&delete F[(z=(E=(D=o.selectedFeature)==null?void 0:D.getTheme())==null?void 0:E.params)==null?void 0:z.linkHrefKey],C==="showAll"?Object.entries(F).filter(([j,J])=>J&&!s.ignoredKeys.includes(j.toUpperCase())):Object.entries(C).filter(([j])=>F[j]).map(([j,J])=>[J,F[j]])},headers:(o,e,t,s)=>{const p=Object.entries(o.gfiFeaturesOfLayer.reduce((c,v)=>{var D,E;const z=(E=(D=v.getTheme())==null?void 0:D.params)==null?void 0:E.linkHrefKey;let C=v.getAttributesToShow();return C=C==="showAll"?Object.keys(v.getProperties()).map(F=>[F,F]):Object.entries(C),C.forEach(([F,j])=>{!s.ignoredKeys.includes(F.toUpperCase())&&F!==z&&(typeof j=="object"&&Object.prototype.hasOwnProperty.call(j,"name")?c[F]=j.name:c[F]=j)}),c},{})).map(([c,v])=>({key:c,value:v}));return o.headers=p,p}})},3857:function(m,N,_){var S=Object.create,u=Object.defineProperty,M=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,V=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,P=(r,l)=>{for(var a in l)u(r,a,{get:l[a],enumerable:!0})},b=(r,l,a,i)=>{if(l&&typeof l=="object"||typeof l=="function")for(let n of T(l))!x.call(r,n)&&n!==a&&u(r,n,{get:()=>l[n],enumerable:!(i=M(l,n))||i.enumerable});return r},h=(r,l,a)=>(a=r!=null?S(V(r)):{},b(l||!r||!r.__esModule?u(a,"default",{value:r,enumerable:!0}):a,r)),O=r=>b(u({},"__esModule",{value:!0}),r),f={};P(f,{default:()=>w}),m.exports=O(f);var d=h(_(60)),L=_(5),w={switchToList({state:r,rootGetters:l,commit:a},i){a("setLayer",i),r.layer&&(a("setLayerId",i.id),a("setGfiFeaturesOfLayer",l["Maps/getVisibleLayerList"]),a("setFeatureCount",r.gfiFeaturesOfLayer.length),a("setShownFeatures",r.gfiFeaturesOfLayer.length<r.maxFeatures?r.gfiFeaturesOfLayer.length:r.maxFeatures),a("setLayerListView",!1),a("setFeatureDetailView",!1),a("setFeatureListView",!0))},clickOnFeature({state:r,commit:l,dispatch:a},i){if(i!==""&&i>=0&&i<=r.shownFeatures){const n=r.gfiFeaturesOfLayer[i],y=r.rawFeaturesOfLayer[i].getGeometry(),g=r.layer.geometryType.toLowerCase().indexOf("polygon")>-1?r.highlightVectorRulesPolygon:r.highlightVectorRulesPointLine;l("setSelectedFeature",n),a("switchToDetails"),g&&g.zoomLevel&&y&&typeof y.getType=="function"&&(y.getType()==="Point"?a("Maps/setCenter",y.getCoordinates(),{root:!0}):a("Maps/setCenter",(0,L.getCenter)(y.getExtent()),{root:!0}),a("Maps/setZoomLevel",g.zoomLevel,{root:!0}))}},hoverOverFeature({state:r,dispatch:l},a){if(a!==""&&a>=0&&a<=r.shownFeatures){const i=r.nestedFeatures?r.rawFeaturesOfLayer[a]:r.layer.features[a];l("highlightFeature",i.getId())}},highlightFeature({state:r,rootGetters:l,dispatch:a},i){var n;a("Maps/removeHighlightFeature","decrease",{root:!0});let y="";const g=l["Maps/getVisibleLayerList"].find(p=>p.values_.id===r.layer.id),G=r.nestedFeatures?r.rawFeaturesOfLayer:g.getSource().getFeatures(),o=G.find(p=>(y=p.getGeometry().getType(),p.getId().toString()===i)),e=d.default.getLayerWhere({id:r.layer.id}),t=r.layer.geometryType.toLowerCase().indexOf("polygon")>-1?r.highlightVectorRulesPolygon:r.highlightVectorRulesPointLine,s={type:y==="Point"||y==="MultiPoint"?"increase":"highlightPolygon",id:i,layer:g,feature:o,scale:(n=t.image)==null?void 0:n.scale};y==="LineString"&&(s.type="highlightLine"),g.id=r.layer.id,t.zoomLevel&&(s.zoomLevel=t.zoomLevel),e&&e.styleId&&(s.styleId=e.styleId),s.highlightStyle={fill:t.fill,stroke:t.stroke,image:t.image},a("Maps/highlightFeature",s,{root:!0})},switchToThemes({commit:r}){r("resetToThemeChooser")},switchToDetails({state:r,commit:l}){r.selectedFeature&&(l("setLayerListView",!1),l("setFeatureListView",!1),l("setFeatureDetailView",!0))},showMore({state:r,commit:l}){const a=r.shownFeatures<r.featureCount-10?r.shownFeatures+10:r.featureCount;l("setShownFeatures",a)}}},3858:function(m,N,_){var S=Object.create,u=Object.defineProperty,M=Object.defineProperties,T=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,f=(e,t,s)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))h.call(t,s)&&f(e,s,t[s]);if(P)for(var s of P(t))O.call(t,s)&&f(e,s,t[s]);return e},L=(e,t)=>M(e,V(t)),w=(e,t)=>{for(var s in t)u(e,s,{get:t[s],enumerable:!0})},r=(e,t,s,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of x(t))!h.call(e,c)&&c!==s&&u(e,c,{get:()=>t[c],enumerable:!(p=T(t,c))||p.enumerable});return e},l=(e,t,s)=>(s=e!=null?S(b(e)):{},r(t||!e||!e.__esModule?u(s,"default",{value:e,enumerable:!0}):s,e)),a=e=>r(u({},"__esModule",{value:!0}),e),i={};w(i,{default:()=>o}),m.exports=a(i);var n=_(10),y=l(_(3707)),g=_(823),o=L(d({},(0,n.generateSimpleMutations)(y.default)),{setGfiFeaturesOfLayer:(e,t)=>{if(e.layer.features){const s=[],p=[],c=t.find(v=>v.get("id")===e.layer.id);e.layer.features.forEach(v=>{v.values_&&Object.prototype.hasOwnProperty.call(v.values_,"features")?(v.values_.features.forEach(D=>{p.push(D),s.push((0,g.getGfiFeature)(c.values_,D.values_))}),e.nestedFeatures=!0):(p.push(v),s.push((0,g.getGfiFeature)(c.values_,v.values_)),e.nestedFeatures=!1)}),e.rawFeaturesOfLayer=p,e.gfiFeaturesOfLayer=s}},resetToThemeChooser:e=>{e.selectedFeature=null,e.layer=null,e.layerListView=!0,e.featureListView=!1,e.featureDetailView=!1}})},4116:function(m,N,_){var S=Object.create,u=Object.defineProperty,M=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,V=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,P=(a,i)=>{for(var n in i)u(a,n,{get:i[n],enumerable:!0})},b=(a,i,n,y)=>{if(i&&typeof i=="object"||typeof i=="function")for(let g of T(i))!x.call(a,g)&&g!==n&&u(a,g,{get:()=>i[g],enumerable:!(y=M(i,g))||y.enumerable});return a},h=(a,i,n)=>(n=a!=null?S(V(a)):{},b(i||!a||!a.__esModule?u(n,"default",{value:a,enumerable:!0}):n,a)),O=a=>b(u({},"__esModule",{value:!0}),a),f={};P(f,{default:()=>l}),m.exports=O(f);var d=h(_(3857)),L=h(_(3858)),w=h(_(3856)),r=h(_(3707)),l={namespaced:!0,state:r.default,mutations:L.default,actions:d.default,getters:w.default}}}]);
