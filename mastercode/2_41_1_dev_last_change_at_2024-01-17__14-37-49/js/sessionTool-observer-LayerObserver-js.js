(window.webpackJsonp=window.webpackJsonp||[]).push([[502,509],{3879:function(g,w,b){(function(n){var l=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,A=(i,s)=>{for(var e in s)l(i,e,{get:s[e],enumerable:!0})},O=(i,s,e,t)=>{if(s&&typeof s=="object"||typeof s=="function")for(let r of v(s))!L.call(i,r)&&r!==e&&l(i,r,{get:()=>s[r],enumerable:!(t=_(s,r))||t.enumerable});return i},p=i=>O(l({},"__esModule",{value:!0}),i),o={};A(o,{addLayerByLayerId:()=>d,getLayerByAttributes:()=>c,getLayersByAttributes:()=>B}),g.exports=p(o);function B(i){return n.request("ModelList","getModelsByAttributes",i)}function c(i){return n.request("ModelList","getModelByAttributes",i)}function d(i){n.trigger("ModelList","addModelsByAttributes",{id:i})}}).call(this,b(3))},4061:function(g,w,b){var n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,L=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},A=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let y of _(t))!v.call(e,y)&&y!==r&&n(e,y,{get:()=>t[y],enumerable:!(a=l(t,y))||a.enumerable});return e},O=e=>A(n({},"__esModule",{value:!0}),e),p={};L(p,{getCurrentLayerList:()=>c,getLayerIdBlacklistFromAccordions:()=>s,getModelByLayerId:()=>i,register:()=>B,setLayers:()=>d}),g.exports=O(p);var o=b(3879);function B(e){e.dispatch("Tools/SessionTool/register",{key:"Layers",getter:c,setter:d})}function c(){const e=(0,o.getLayersByAttributes)({isSelected:!0,type:"layer"}),t=[];return Array.isArray(e)&&e.length?e.forEach(r=>t.push({id:r?.id,visibility:typeof r.get=="function"?r.get("isVisibleInMap"):!0})):e?.id&&t.push({id:e?.id,visibility:typeof e.get=="function"?e.get("isVisibleInMap"):!0}),{layerIds:t}}function d(e,t=!1){var r;if(!Array.isArray(e?.layerIds))return!1;const a=(0,o.getLayersByAttributes)({isSelected:!0,type:"layer"}),y=s((r=t?.Filter)==null?void 0:r.selectedAccordions);return Array.isArray(a)&&a.forEach(u=>{u.setIsSelected(!1)}),e.layerIds.forEach(u=>{if(Object.prototype.hasOwnProperty.call(y,u.id))return;const f=i(u.id);typeof f?.setIsSelected=="function"&&(f.setIsSelected(!0),typeof u.visibility<"u"&&f.setIsVisibleInMap(u.visibility))}),!0}function i(e){if(typeof e!="string"&&typeof e!="number")return!1;const t=(0,o.getLayersByAttributes)({id:e});let r;return Array.isArray(t)&&t.length>0?r=t[0]:((0,o.addLayerByLayerId)(e),r=(0,o.getLayerByAttributes)({id:e})),r}function s(e){const t={};return Array.isArray(e)?(e.forEach(r=>{if(r?.category){r.layers.forEach(a=>{t[a.layerId]=!0});return}t[r.layerId]=!0}),t):{}}}}]);
