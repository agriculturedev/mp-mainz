(window.webpackJsonp=window.webpackJsonp||[]).push([[557],{4095:function(H,K,i){(function(M,T,m){var P=Object.create,f=Object.defineProperty,x=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,C=(e,t)=>{for(var a in t)f(e,a,{get:t[a],enumerable:!0})},g=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of A(t))!_.call(e,r)&&r!==a&&f(e,r,{get:()=>t[r],enumerable:!(n=x(t,r))||n.enumerable});return e},h=(e,t,a)=>(a=e!=null?P(S(e)):{},g(t||!e||!e.__esModule?f(a,"default",{value:e,enumerable:!0}):a,e)),z=e=>g(f({},"__esModule",{value:!0}),e),v={};C(v,{getAbsTrafficCount:()=>b,getKfzTrafficCount:()=>p,getPhenomenonTimeRange:()=>y}),H.exports=z(v);var s=h(i(53)),c=h(i(284));M.Events.listenTo(T.channel("GFI"),{changeFeature:j});function j(e){const t=e.get("dataStreamValue"),a=e.get("richtung"),n=e.get("layerName")?e.get("layerName"):"",r=m.t("additional:modules.tools.verkehrsfunctions.bicycleHeaderSuffix"),u=m.t("additional:modules.tools.verkehrsfunctions.carsHeaderSuffix"),w=m.t("additional:modules.tools.verkehrsfunctions.trucksHeaderSuffix");let l="",D="invalid date",o="",O="",Y="",d="";if(e.get("Datastreams")&&Array.isArray(e.get("Datastreams"))&&e.get("Datastreams").length&&e.get("Datastreams")[0].Observations&&Array.isArray(e.get("Datastreams")[0].Observations)&&e.get("Datastreams")[0].Observations.length&&e.get("Datastreams")[0].Observations[0].phenomenonTime&&(l=e.get("Datastreams")[0].Observations[0].phenomenonTime),l&&l.split("/").length===2){const N=l.split("/")[0],k=l.split("/")[1];D=y(N,k)}typeof a=="string"&&(d="("+a+")"),t&&(o=b(t),n.includes("Anzahl_Fahrraeder")?o=r+": "+(0,c.default)(o)+" "+d:n.includes("Anzahl_Kfz")&&n.indexOf(" | ")===-1&&o.indexOf(" | ")===-1?o=u+": "+(0,c.default)(o)+" "+d:n.includes("Anzahl_SV")&&n.indexOf(" | ")>-1&&o.indexOf(" | ")>-1&&(O=p(o,n,"Anzahl_Kfz"),Y=p(o,n,"Anzahl_SV"),o=u+": "+(0,c.default)(O)+" "+d+"<br><span class='title'>"+w+": "+(0,c.default)(Y)+"</span>")),e.set("absTrafficCount",o),e.set("phenomenonTimeRange",D)}function b(e){let t="No data";return e!=null&&(t=e),t}function p(e,t,a){let n="No data";return t.split(" | ").forEach((r,u)=>{r.includes(a)&&(n=e.split(" | ")[u])}),n}function y(e,t){const a=(0,s.default)(e).format("DD.MM.YYYY"),n=(0,s.default)(t).format("DD.MM.YYYY");let r="";return a!==n?r=(0,s.default)(e).format("DD.MM.YYYY, HH:mm")+" Uhr - "+(0,s.default)(t).add(1,"second").format("DD.MM.YYYY, HH:mm")+" Uhr":r=(0,s.default)(e).format("DD.MM.YYYY, HH:mm")+" Uhr - "+(0,s.default)(t).add(1,"second").format("HH:mm")+" Uhr",r}}).call(this,i(13),i(3),i(6))}}]);
