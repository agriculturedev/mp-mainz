(window.webpackJsonp=window.webpackJsonp||[]).push([[446],{4008:function(O,D,l){(function(P,_,d){var w=Object.create,u=Object.defineProperty,j=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,F=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,S=(e,t)=>{for(var r in t)u(e,r,{get:t[r],enumerable:!0})},v=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of A(t))!M.call(e,a)&&a!==r&&u(e,a,{get:()=>t[a],enumerable:!(o=j(t,a))||o.enumerable});return e},T=(e,t,r)=>(r=e!=null?w(F(e)):{},v(t||!e||!e.__esModule?u(r,"default",{value:e,enumerable:!0}):r,e)),C=e=>v(u({},"__esModule",{value:!0}),e),y=(e,t,r)=>new Promise((o,a)=>{var c=s=>{try{f(r.next(s))}catch(p){a(p)}},n=s=>{try{f(r.throw(s))}catch(p){a(p)}},f=s=>s.done?o(s.value):Promise.resolve(s.value).then(c,n);f((r=r.apply(e,t)).next())}),h={};S(h,{createFeature:()=>m,createLayer:()=>g,prepareProperties:()=>b}),O.exports=C(h);var G=l(453),i=T(l(7)),N=l(372);P.Events.listenTo(_.channel("Searchbar"),{hit:x});function x(e){return y(this,null,function*(){var t,r,o;const a=(o=(r=(t=i.default.getters)==null?void 0:t.portalConfig)==null?void 0:r.searchBar)==null?void 0:o.gazetteer;if(a?.gfiOnClick===!0&&e?.type===d.t("common:modules.searchbar.type.address")){const c=e.storedQuery==="houseNumbersForStreet"?B(e):e,n=m(yield c,a);i.default.commit("Maps/setClickCoordinate",[e.coordinate[0],e.coordinate[1]]),i.default.commit("Tools/Gfi/setGfiFeatures",[n])}})}function B(e){return y(this,null,function*(){let t=[];try{t=yield(0,G.search)(e.name,{map:mapCollection.getMap("2D"),searchAddress:!0},!1)}catch(r){console.error(r)}return t.length>0?t[0]:t})}function m(e,t){return(0,N.createGfiFeature)(g(e,t),null,{getProperties:()=>b(e.properties)})}function g(e,t){var r,o;const a=(o=(r=i.default)==null?void 0:r.getters)==null?void 0:o.getRestServiceById(t.serviceId);return{get:n=>n==="name"?d.t("additional:modules.gfiOnAddress.title",{searchResultName:e.name}):n==="gfiTheme"?t.gfiTheme||a?.gfiTheme||"default":n==="gfiAttributes"?t.gfiAttributes||a?.gfiAttributes||"showAll":null}}function b(e){const t={};return Object.keys(e).forEach(r=>{let o=e[r];typeof o=="object"&&(o=o._),t[r]=o}),t}}).call(this,l(13),l(3),l(6))}}]);
