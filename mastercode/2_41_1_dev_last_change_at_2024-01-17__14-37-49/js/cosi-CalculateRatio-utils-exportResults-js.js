(window.webpackJsonp=window.webpackJsonp||[]).push([[258,391,395,396,399],{3652:function(m,B){var u=Object.defineProperty,S=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,x=Object.prototype.hasOwnProperty,T=(y,f)=>{for(var c in f)u(y,c,{get:f[c],enumerable:!0})},F=(y,f,c,g)=>{if(f&&typeof f=="object"||typeof f=="function")for(let _ of p(f))!x.call(y,_)&&_!==c&&u(y,_,{get:()=>f[_],enumerable:!(g=S(f,_))||g.enumerable});return y},J=y=>F(u({},"__esModule",{value:!0}),y),j={};T(j,{default:()=>P}),m.exports=J(j);function P(y,f){const c=document.createElement("a"),g=URL.createObjectURL(y);c.setAttribute("href",g),c.setAttribute("download",f),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}},3653:function(m,B,u){var S=Object.create,p=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,F=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,j=(o,e)=>{for(var t in e)p(o,t,{get:e[t],enumerable:!0})},P=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let v of T(e))!J.call(o,v)&&v!==t&&p(o,v,{get:()=>e[v],enumerable:!(r=x(e,v))||r.enumerable});return o},y=(o,e,t)=>(t=o!=null?S(F(o)):{},P(e||!o||!o.__esModule?p(t,"default",{value:o,enumerable:!0}):t,o)),f=o=>P(p({},"__esModule",{value:!0}),o),c={};j(c,{default:()=>O,download:()=>_,downloadCsvToFile:()=>d,downloadJsonToFile:()=>s,downloadTextToFile:()=>i}),m.exports=f(c);var g=y(u(3652));function _(o,e){const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("download",e),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function s(o,e){const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o));_(t,e)}function i(o,e){const t="data:text/plain;charset=utf-8,"+encodeURI(o);_(t,e)}function d(o,e){const t="data:text/csv;charset=utf-8,"+encodeURI(o);_(t,e)}var O={download:_,downloadCsvToFile:d,downloadJsonToFile:s,downloadTextToFile:i,downloadBlobToFile:g.default}},3654:function(m,B,u){var S=Object.create,p=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,F=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,j=(s,i,d,O)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of T(i))!J.call(s,o)&&o!==d&&p(s,o,{get:()=>i[o],enumerable:!(O=x(i,o))||O.enumerable});return s},P=(s,i,d)=>(d=s!=null?S(F(s)):{},j(i||!s||!s.__esModule?p(d,"default",{value:s,enumerable:!0}):d,s)),y=P(u(21)),f=u(58),c=P(u(18));function g(s,i=!1,d="EPSG:25832",O="EPSG:4326"){if(!(0,c.default)(s)||!(s instanceof y.default))return console.error("utils/features/convertToGeoJson: The first parameter must be an ol feature object, but got "+typeof s),!1;if(typeof i!="boolean")return console.error("utils/features/convertToGeoJson: The second parameter must be a boolean, but got "+typeof i),!1;if(typeof d!="string"||typeof O!="string")return console.error("utils/features/convertToGeoJson: The third and the fourth parameter must both be a string, but got "+typeof d+" and "+typeof O),!1;const o=new f.GeoJSON({dataProjection:O,featureProjection:d});return i?o.writeFeature(s):o.writeFeatureObject(s)}function _(s,i=!1,d="EPSG:25832",O="EPSG:4326"){if(!Array.isArray(s))return console.error("utils/features/convertToGeoJson: The first parameter must be an array, but got "+typeof s),!1;if(typeof i!="boolean")return console.error("utils/features/convertToGeoJson: The second parameter must be a boolean, but got "+typeof i),!1;if(typeof d!="string"||typeof O!="string")return console.error("utils/features/convertToGeoJson: The third and the fourth parameter must both be a string, but got "+typeof d+" and "+typeof O),!1;const o=new f.GeoJSON({dataProjection:O,featureProjection:d});return i?o.writeFeatures(s):o.writeFeaturesObject(s)}m.exports={featureToGeoJson:g,featuresToGeoJsonCollection:_}},3726:function(m,B,u){var S=Object.create,p=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,F=Object.getPrototypeOf,J=Object.prototype.hasOwnProperty,j=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})},P=(e,t,r,v)=>{if(t&&typeof t=="object"||typeof t=="function")for(let b of T(t))!J.call(e,b)&&b!==r&&p(e,b,{get:()=>t[b],enumerable:!(v=x(t,b))||v.enumerable});return e},y=(e,t,r)=>(r=e!=null?S(F(e)):{},P(t||!e||!e.__esModule?p(r,"default",{value:e,enumerable:!0}):r,e)),f=e=>P(p({},"__esModule",{value:!0}),e),c={};j(c,{generateColorScale:()=>i,generateColorScaleByColor:()=>d}),m.exports=f(c);var g=u(4178),_=y(u(4179)),s=u(4165);function i(e=[0,1],t="interpolateBlues",r=5,v="sequential",b="rgb(51, 153, 204)"){const w="rgb(99,99,99)",G=e.filter(D=>!isNaN(D)),A=e.filter(D=>D===void 0),N=Math.min(...G),a=Math.max(...G);let n,l={values:[],colors:[]};if(N!==a&&G.length>0){switch(v){case"linear":n=(0,g.scaleLinear)().range(typeof t=="string"?_[t]:t).domain([N,a]);break;default:n=(0,g.scaleSequential)().interpolator(typeof t=="string"?_[t]:t).domain([N,a]);break}l.values=O(N,a,r),l.colors=o(n,l.values),A.length>0&&(l.values.push("Keine Daten"),l.colors.push(w))}else e.length!==A.length?(n=function(){return b},l=null):e.length===A.length&&(n=function(){return w},l.values.push("Keine Daten"),l.colors.push(w));return{scale:n,legend:l}}function d(e,t){const r=(0,s.hsl)(e),v=String(r);let b="",w="",G="";return r.h+=10,r.s=100,r.l=80,r.opacity=1,b=String(r),r.h-=10,r.s=0,r.l-=10,r.opacity=.75,w=String(r),G=[w,v,b],(0,g.scaleLinear)().domain([0,t]).range(G)}function O(e,t,r=5){const v=[e],b=(t-e)/(r-1);for(let w=0;w<r-1;w++)v.push(v[w]+b);return v}function o(e,t){const r=[];return t.forEach(v=>{r.push(e(v))}),r}},3922:function(m,B,u){var S=Object.create,p=Object.defineProperty,x=Object.defineProperties,T=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,P=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,c=(a,n,l)=>n in a?p(a,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[n]=l,g=(a,n)=>{for(var l in n||(n={}))y.call(n,l)&&c(a,l,n[l]);if(j)for(var l of j(n))f.call(n,l)&&c(a,l,n[l]);return a},_=(a,n)=>x(a,F(n)),s=(a,n)=>{for(var l in n)p(a,l,{get:n[l],enumerable:!0})},i=(a,n,l,D)=>{if(n&&typeof n=="object"||typeof n=="function")for(let C of J(n))!y.call(a,C)&&C!==l&&p(a,C,{get:()=>n[C],enumerable:!(D=T(n,C))||D.enumerable});return a},d=(a,n,l)=>(l=a!=null?S(P(a)):{},i(n||!a||!a.__esModule?p(l,"default",{value:a,enumerable:!0}):l,a)),O=a=>i(p({},"__esModule",{value:!0}),a),o={};s(o,{exportAsGeoJson:()=>N}),m.exports=O(o);var e=u(3654),t=u(3653),r=d(u(7)),v=u(3726),b=u(40),w=u(285);function G(){return r.default.getters["Maps/projectionCode"]}function A(){return r.default.getters["Tools/DistrictSelector/keyOfAttrName"]}function N(a){const n=G(),l=this.dataSets[a].results.find(h=>h.scope==="Gesamt"),D=this.results.find(h=>h.scope==="Durchschnitt"),C=(0,e.featuresToGeoJsonCollection)(this.selectedFeatures,!1,n),L=this.results.map(h=>h.coverage),V=(0,v.generateColorScale)(L);for(const h of C.features){const M=this.dataSets[a].results.find(R=>R.scope===h.properties[A()]),E=(0,w.convertColor)(V.scale(M.coverage),"rgb"),I=new b.Style({fill:new b.Fill({color:[...E,.75]}),zIndex:1,text:new b.Text({font:"16px Calibri,sans-serif",fill:new b.Fill({color:[255,255,255]}),stroke:new b.Stroke({color:[0,0,0],width:3}),text:M.coverage?parseFloat(M.coverage).toLocaleString("de-DE"):"Keine Daten vorhanden"})});h.properties=_(g(_(g({},h.properties),{paramA_name:this.selectedFieldA.id,paramB_name:this.selectedFieldB.id}),M),{total:l,average:D,style:I}),delete h.properties.stats}for(const h of[this.selectedFieldA,this.selectedFieldB])if("layerId"in h){const M=this.layerList.find(E=>E.get("name")===h.id).getSource().getFeatures();for(const E of M){const I=(0,e.featureToGeoJson)(E);I.properties={},C.features.push(I)}}(0,t.downloadJsonToFile)(C,"Versorgungsanalyse_CoSI.geojson")}}}]);
