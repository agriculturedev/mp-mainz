(window.webpackJsonp=window.webpackJsonp||[]).push([[22,564,573,577,580],{3896:function(T,F,O){(function(v){var w=Object.create,D=Object.defineProperty,M=Object.defineProperties,C=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,r=(s,t,i)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,n=(s,t)=>{for(var i in t||(t={}))p.call(t,i)&&r(s,i,t[i]);if(L)for(var i of L(t))d.call(t,i)&&r(s,i,t[i]);return s},e=(s,t)=>M(s,E(t)),c=(s,t)=>{for(var i in t)D(s,i,{get:t[i],enumerable:!0})},f=(s,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of P(t))!p.call(s,l)&&l!==i&&D(s,l,{get:()=>t[l],enumerable:!(a=C(t,l))||a.enumerable});return s},y=(s,t,i)=>(i=s!=null?w(j(s)):{},f(t||!s||!s.__esModule?D(i,"default",{value:s,enumerable:!0}):i,s)),N=s=>f(D({},"__esModule",{value:!0}),s),V={};c(V,{default:()=>B}),T.exports=N(V);var S=O(10),_=y(O(3766)),x=y(O(4102)),A=y(O(4103)),m=y(O(4104)),k=O(4105),B=e(n(n(n(n({},(0,S.generateSimpleMutations)(_.default)),x.default),A.default),m.default),{setSumVisitorsPerMonth(s,t){const i=t.data,a={},l={};Object.keys(i).forEach(o=>{const u=i[o],b=new Date(u.date),g=b.getMonth(),h=b.getFullYear();a[h]||(a[h]=[]),a[h][g]||(a[h][g]={sum:0,totalNumberOfDaysInMonthsOverYears:0}),a[h][g].sum=u.sum_num_visitors+a[h][g].sum,a[h][g].totalNumberOfDaysInMonthsOverYears++}),Object.keys(a).forEach(o=>{l[o]=[{index:"0",avg:"n/a",sum:"n/a"},{index:"1",avg:"n/a",sum:"n/a"},{index:"2",avg:"n/a",sum:"n/a"},{index:"3",avg:"n/a",sum:"n/a"},{index:"4",avg:"n/a",sum:"n/a"},{index:"5",avg:"n/a",sum:"n/a"},{index:"6",avg:"n/a",sum:"n/a"},{index:"7",avg:"n/a",sum:"n/a"},{index:"8",avg:"n/a",sum:"n/a"},{index:"9",avg:"n/a",sum:"n/a"},{index:"10",avg:"n/a",sum:"n/a"},{index:"11",avg:"n/a",sum:"n/a"}],Object.keys(a[o]).forEach(u=>{l[o].find(b=>b.index===u).avg=Math.ceil(a[o][u].sum/100/a[o][u].totalNumberOfDaysInMonthsOverYears)*100,l[o].find(b=>b.index===u).sum=Math.ceil(a[o][u].sum/100)*100})}),s.sumVisitorsPerMonth=l},setAverageVisitorsPerDay(s,t){const i=t.data,a={},l={};Object.keys(i).forEach(o=>{const u=i[o],b=new Date(u.date),g=b.getDay()===0?6:b.getDay()-1,h=b.getMonth(),Y=b.getFullYear();a[Y]||(a[Y]=[]),a[Y][h]||(a[Y][h]=[]),a[Y][h][g]||(a[Y][h][g]={sum:0,totalNumberOfWeekdaysInMonthsOverYears:0}),a[Y][h][g].sum=u.sum_num_visitors+a[Y][h][g].sum,a[Y][h][g].totalNumberOfWeekdaysInMonthsOverYears++}),Object.keys(a).forEach(o=>{l[o]=[],Object.keys(a[o]).forEach(u=>{l[o][u]=[{index:"0",avg:"n/a"},{index:"1",avg:"n/a"},{index:"2",avg:"n/a"},{index:"3",avg:"n/a"},{index:"4",avg:"n/a"},{index:"5",avg:"n/a"},{index:"6",avg:"n/a"}],Object.keys(a[o][u]).forEach(b=>{l[o][u].find(g=>g.index===b).avg=Math.ceil(a[o][u][b].sum/100/a[o][u][b].totalNumberOfWeekdaysInMonthsOverYears)*100})});for(let u=0;u<12;u++)l[o][u]||(l[o][u]=[{index:"0",avg:"n/a"},{index:"1",avg:"n/a"},{index:"2",avg:"n/a"},{index:"3",avg:"n/a"},{index:"4",avg:"n/a"},{index:"5",avg:"n/a"},{index:"6",avg:"n/a"}])}),s.averageVisitorsPerDay=l},setActivitiesPerYear(s,t){const i=t.data,a={},l=[];Object.keys(i).forEach(o=>{const u=i[o],b=new Date(u.date),g=b.getFullYear();a[g]||(a[g]=0),a[g]+=u.sum_num_visitors}),Object.keys(a).forEach(o=>{l.push({date__year:o,avg:Math.ceil(a[o]/100)*100})}),s.activitiesPerYear=l},setAllLocationsGeoJson(s,t){const i={type:"FeatureCollection",crs:{type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/proj4/",type:"proj4"}},features:[]},a=[];let l;t.forEach(o=>{l={type:"Feature",id:o.location.id,geometry:o.location.point,properties:{street:o.location.street,id:o.location.id}},i.features.push(l),a.push({id:o.location.id,street:o.location.street})}),i.styles=[{styleId:"customLayer",rules:[{style:{circleStrokeColor:[255,0,0,1],circleFillColor:[255,0,0,.5]}}]}],s.allLocationsGeoJson=i,s.allLocationsArray=a.sort((o,u)=>o.street<u.street?-1:o.street>u.street?1:0)},setBarChartDailyData(s,t={year:2019,month:0}){const i=s.averageVisitorsPerDay[t.year][t.month],a=[],l=[],o=v.t("additional:modules.tools.vpidashboard.time.days",{returnObjects:!0});i.forEach((b,g)=>{let h=o[g];b.avg==="n/a"&&(h=[h,v.t("additional:modules.tools.vpidashboard.unique.noData")]),a.push(h),l.push(b.avg)});const u={labels:a,datasets:[{label:v.t("additional:modules.tools.vpidashboard.unique.dailyOverview",{year:t.year,month:v.t("additional:modules.tools.vpidashboard.time.months",{returnObjects:!0})[t.month]}),data:l,hoverOffset:4,backgroundColor:"#FD763B"}]};s.barChartDailyData=u},setLineChartDailyData(s,t={year:2019,month:0}){const i=s.averageVisitorsPerDay[t.year][t.month],a=[],l=[],o=v.t("additional:modules.tools.vpidashboard.time.days",{returnObjects:!0});i.forEach((b,g)=>{let h=o[g];b.avg==="n/a"&&(h=[h,v.t("additional:modules.tools.vpidashboard.unique.noData")]),a.push(h),l.push(b.avg)});const u={labels:a,datasets:[{label:v.t("additional:modules.tools.vpidashboard.unique.dailyOverview",{year:t.year,month:v.t("additional:modules.tools.vpidashboard.time.months",{returnObjects:!0})[t.month]}),data:l,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]};s.lineChartDailyData=u},setBarChartMonthlyData(s,t=2019){const i=s.sumVisitorsPerMonth[t],a=[],l=[],o=v.t("additional:modules.tools.vpidashboard.time.months",{returnObjects:!0});i.forEach(b=>{a.push(o[b.index]),l.push(b.sum)});const u={labels:a,datasets:[{label:v.t("additional:modules.tools.vpidashboard.unique.monthlyOverview",{year:t}),data:l,hoverOffset:4,backgroundColor:"#FD763B"}]};s.barChartMonthlyData=u},setLineChartMonthlyData(s,t=2019){const i=s.sumVisitorsPerMonth[t],a=[],l=[],o=v.t("additional:modules.tools.vpidashboard.time.months",{returnObjects:!0});i.forEach(b=>{a.push(o[b.index]),l.push(b.sum)});const u={labels:a,datasets:[{label:v.t("additional:modules.tools.vpidashboard.unique.monthlyOverview",{year:t}),data:l,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]};s.lineChartMonthlyData=u},setBarChartData(s,t){const i=t.data,a={};Object.keys(i).forEach(l=>{const o=i[l],u=(0,k.changeDateFormat)(new Date(o.date));a[u]||(a[u]=0),a[u]+=o.sum_num_visitors}),Object.keys(a).forEach(l=>{a[l]=Math.ceil(a[l]/100)*100}),s.barChartData={labels:Object.keys(a),datasets:[{label:v.t("additional:modules.tools.vpidashboard.unique.uniqueVisitors"),data:Object.values(a),hoverOffset:4,backgroundColor:"#FD763B"}]}},setLineChartData(s,t){const i=t.data,a={};Object.keys(i).forEach(l=>{const o=i[l],u=(0,k.changeDateFormat)(new Date(o.date));a[u]||(a[u]=0),a[u]+=o.sum_num_visitors}),Object.keys(a).forEach(l=>{a[l]=Math.ceil(a[l]/100)*100}),s.lineChartData={labels:Object.keys(a),datasets:[{label:v.t("additional:modules.tools.vpidashboard.unique.uniqueVisitors"),data:Object.values(a),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}},setLoader(s,t){s.showLoader=t},setSelectedLocationId(s,t){!s.selectLocationBInMap||t.source==="dropdown"?s.selectedLocationId=t.locationID:s.selectedLocationB=t.locationID},setSelectLocationBInMap(s,t){s.selectLocationBInMap=t}})}).call(this,O(6))},4102:function(T,F){var O=Object.defineProperty,v=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,M=(p,d)=>{for(var r in d)O(p,r,{get:d[r],enumerable:!0})},C=(p,d,r,n)=>{if(d&&typeof d=="object"||typeof d=="function")for(let e of w(d))!D.call(p,e)&&e!==r&&O(p,e,{get:()=>d[e],enumerable:!(n=v(d,e))||n.enumerable});return p},E=p=>C(O({},"__esModule",{value:!0}),p),P={};M(P,{default:()=>j}),T.exports=E(P);var j={setVisitorTypes(p,d){const r={},n={};d.forEach(e=>{const[c,f]=e.date.split("-");e.sum_num_visitors_origin=e.sum_num_visitors,e.sum_num_visitors=Math.ceil(e.sum_num_visitors/100)*100,r[c]||(r[c]={}),r[c][e.VisitorType]||(r[c][e.VisitorType]=[{index:"01",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"02",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"03",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"04",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"05",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"06",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"07",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"08",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"09",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"10",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"11",sum:"n/a",sumOrig:"n/a",label:e.VisitorType},{index:"12",sum:"n/a",sumOrig:"n/a",label:e.VisitorType}]),r[c][e.VisitorType].find(y=>y.index===f).sum=e.sum_num_visitors,r[c][e.VisitorType].find(y=>y.index===f).sumOrig=e.sum_num_visitors_origin}),Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(c=>{n[c]||(n[c]={}),n[c][e]||(n[c][e]=0),["Tagestouristen","\xDCbernachtungstouristen"].includes(c)&&(n.Touristen||(n.Touristen={}),n.Touristen[e]||(n.Touristen[e]=0));const f=r[e][c].reduce((V,S)=>S.sumOrig==="n/a"?V:V+S.sumOrig,0),y=r[e][c].filter(V=>V.sum!=="n/a"),N=y.length;n[c][e]=Math.ceil(f/N),["Tagestouristen","\xDCbernachtungstouristen"].includes(c)&&(n.Touristen[e]+=Math.ceil(f/N))})}),p.visitorTypesByYearAndTypeComplete=r,p.visitorTypesByTypeAndYear=n}}},4103:function(T,F,O){(function(v){var w=Object.defineProperty,D=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,E=(r,n)=>{for(var e in n)w(r,e,{get:n[e],enumerable:!0})},P=(r,n,e,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of M(n))!C.call(r,f)&&f!==e&&w(r,f,{get:()=>n[f],enumerable:!(c=D(n,f))||c.enumerable});return r},L=r=>P(w({},"__esModule",{value:!0}),r),j={};E(j,{default:()=>d}),T.exports=L(j);var d={setAllAgeGroupsData(r,n){r.allAgeGroupsData=n.data},setAllAgeGroupsMonthlyData(r){const n={},e={},c={},f={},y=v.t("additional:modules.tools.vpidashboard.time.months",{returnObjects:!0}),N={"18-19":"#708090","20-29":"#00aa55","30-39":"#007ea8","40-49":"#9784ff","50-59":"#CC3E00","60-69":"#ffa300",">69":"#f8e08e"},V=r.ageGroupPieChartLabels,S={};r.allAgeGroupsData.forEach(_=>{if(_.age_group==="u")return;const[x,A]=_.date.split("-"),m=_.age_group.replace(/[[\]']+/g,"");c[x]||(c[x]={},f[x]=[]),c[x][m]||(c[x][m]=[{index:"01",sum:"n/a",label:m},{index:"02",sum:"n/a",label:m},{index:"03",sum:"n/a",label:m},{index:"04",sum:"n/a",label:m},{index:"05",sum:"n/a",label:m},{index:"06",sum:"n/a",label:m},{index:"07",sum:"n/a",label:m},{index:"08",sum:"n/a",label:m},{index:"09",sum:"n/a",label:m},{index:"10",sum:"n/a",label:m},{index:"11",sum:"n/a",label:m},{index:"12",sum:"n/a",label:m}]),c[x][m].find(k=>k.index===A).sum=Math.ceil(_.sum_num_visitors/100)*100,f[x][m]||(f[x][m]=0),f[x][m]+=Math.ceil(_.sum_num_visitors/100)*100}),Object.keys(c).forEach(function(_){n[_]||(n[_]=[],e[_]=[],S[_]=[]);const x=Object.values(f[_]).reduce((m,k)=>m+k),A={data:[],hoverOffset:4,backgroundColor:[]};V.forEach(m=>{const k={data:[],hoverOffset:4,label:m,backgroundColor:N[m]},I={data:[],label:m,fill:!1,tension:.1,borderColor:N[m]};c[_][m].forEach(B=>{k.data.push(B.sum),I.data.push(B.sum)}),A.data.push((Math.round(f[_][m]*100/x*10)/10).toFixed(1)),A.backgroundColor.push(N[m]),n[_].push(k),e[_].push(I)}),S[_].push(A)}),r.allAgeGroupsMonthlyData=n,r.allAgeGroupsMonthlyDataLine=e,r.ageGroupxLabels=y,r.ageGroupsYearlyData=S}}}).call(this,O(6))},4104:function(T,F){var O=Object.defineProperty,v=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,M=(p,d)=>{for(var r in d)O(p,r,{get:d[r],enumerable:!0})},C=(p,d,r,n)=>{if(d&&typeof d=="object"||typeof d=="function")for(let e of w(d))!D.call(p,e)&&e!==r&&O(p,e,{get:()=>d[e],enumerable:!(n=v(d,e))||n.enumerable});return p},E=p=>C(O({},"__esModule",{value:!0}),p),P={};M(P,{default:()=>j}),T.exports=E(P);var j={setDwellTimes(p,d){const r={},n={};d.forEach(e=>{const[c,f]=e.date.split("-");r[c]||(r[c]={},n[c]={}),r[c][e.DwellTime]||(r[c][e.DwellTime]=[{index:"01",sum:"n/a",label:e.DwellTime},{index:"02",sum:"n/a",label:e.DwellTime},{index:"03",sum:"n/a",label:e.DwellTime},{index:"04",sum:"n/a",label:e.DwellTime},{index:"05",sum:"n/a",label:e.DwellTime},{index:"06",sum:"n/a",label:e.DwellTime},{index:"07",sum:"n/a",label:e.DwellTime},{index:"08",sum:"n/a",label:e.DwellTime},{index:"09",sum:"n/a",label:e.DwellTime},{index:"10",sum:"n/a",label:e.DwellTime},{index:"11",sum:"n/a",label:e.DwellTime},{index:"12",sum:"n/a",label:e.DwellTime}]),e.sum_num_visitors=Math.ceil(e.sum_num_visitors/100)*100,r[c][e.DwellTime].find(y=>y.index===f).sum=e.sum_num_visitors,n[c][e.DwellTime]||(n[c][e.DwellTime]=0),n[c][e.DwellTime]+=Math.ceil(e.sum_num_visitors/100)*100}),p.dwellTimesComplete=d,p.dwellTimesPerDate=r,p.dwellTimesPerYear=n}}},4105:function(T,F,O){var v=Object.defineProperty,w=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,C=(p,d)=>{for(var r in d)v(p,r,{get:d[r],enumerable:!0})},E=(p,d,r,n)=>{if(d&&typeof d=="object"||typeof d=="function")for(let e of D(d))!M.call(p,e)&&e!==r&&v(p,e,{get:()=>d[e],enumerable:!(n=w(d,e))||n.enumerable});return p},P=p=>E(v({},"__esModule",{value:!0}),p),L={};C(L,{changeDateFormat:()=>j}),T.exports=P(L);function j(p){const d=new Date(p),r=d.getFullYear();return`${(d.getMonth()+1).toString().padStart(2,"0")}-${r}`}}}]);
