(window.webpackJsonp=window.webpackJsonp||[]).push([[48,140,141,259,302,303,304,305,306,307,309,310,387,397,403,404,406,409,415,419,422,425,427],{215:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(m,p)=>{for(var v in p)u(m,v,{get:p[v],enumerable:!0})},x=(m,p,v,b)=>{if(p&&typeof p=="object"||typeof p=="function")for(let S of L(p))!w.call(m,S)&&S!==v&&u(m,S,{get:()=>p[S],enumerable:!(b=O(p,S))||b.enumerable});return m},f=(m,p,v)=>(v=m!=null?n(E(m)):{},x(p||!m||!m.__esModule?u(v,"default",{value:m,enumerable:!0}):v,m)),g=m=>x(u({},"__esModule",{value:!0}),m),i={};D(i,{default:()=>l}),P.exports=g(i);var e=f(r(5398)),t=f(r(3952)),a=f(r(3953)),s=f(r(3954)),l={component:e.default,store:t.default,locales:{de:a.default,en:s.default}}},3649:function(P,h,r){(function(n){var u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,w=(M,$)=>{for(var V in $)u(M,V,{get:$[V],enumerable:!0})},D=(M,$,V,W)=>{if($&&typeof $=="object"||typeof $=="function")for(let G of L($))!E.call(M,G)&&G!==V&&u(M,G,{get:()=>$[G],enumerable:!(W=O($,G))||W.enumerable});return M},x=M=>D(u({},"__esModule",{value:!0}),M),f={};w(f,{addByMouseHover:()=>A,addFolder:()=>d,addModelsByAttributes:()=>v,addVectorLayer:()=>c,closeAllExpandedFolder:()=>m,getCollection:()=>b,getItemByAttributes:()=>S,getItemsByAttributes:()=>j,getModelByAttributes:()=>s,getServiceUrl:()=>e,groupBy:()=>T,offSearchbar:()=>i,onFeaturesLoaded:()=>_,onResetFeatures:()=>y,onSearchbar:()=>g,onShowAllFeatures:()=>a,onShowFeaturesById:()=>t,removeItem:()=>o,removeModelsById:()=>p,renderTree:()=>l}),P.exports=x(f);function g(M){n.on("Searchbar","hit",M)}function i(){n.off("Searchbar","hit")}function e(M){return n.request("RestReader","getServiceById",M).get("url")}function t(M){n.on("ModelList","showFeaturesById",M)}function a(M){n.on("ModelList","showAllFeatures",M)}function s(M){return n.request("ModelList","getModelByAttributes",M)}function l(){n.trigger("ModelList","renderTree")}function m(){n.trigger("ModelList","closeAllExpandedFolder")}function p(M){n.trigger("ModelList","removeModelsById",M)}function v(M){n.trigger("ModelList","addModelsByAttributes",M)}function b(){return n.request("ModelList","getCollection")}function S(M){return n.request("Parser","getItemByAttributes",M)}function j(M){return n.request("Parser","getItemsByAttributes",M)}function d(M,$,V,W){n.trigger("Parser","addFolder",M,$,V,W)}function c(M,$,V,W,G,Q,k){n.trigger("Parser","addVectorLayer",M,$,V,W,G,Q,k)}function o(M){n.trigger("Parser","removeItem",M)}function _(M){n.on("VectorLayer","featuresLoaded",M)}function y(M){n.on("VectorLayer","resetFeatures",M)}function A(M){n.trigger("MouseHover","add",M)}function T(M,$){return n.request("Util","groupBy",M,$)}}).call(this,r(3))},3650:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of L(e))!w.call(i,s)&&s!==t&&u(i,s,{get:()=>e[s],enumerable:!(a=O(e,s))||a.enumerable});return i},x=(i,e,t)=>(t=i!=null?n(E(i)):{},D(e||!i||!i.__esModule?u(t,"default",{value:i,enumerable:!0}):t,i)),f=x(r(106));function g(i){var e;if(typeof i!="object"||i===null||typeof i.getSource!="function"||typeof((e=i.getSource())==null?void 0:e.getFeatures)!="function")return console.error("utils/layer/getLayerSource: layer must be a layer with a vector source",i),null;const t=i.getSource();return t.constructor===f.default?t.getSource():t}P.exports={getLayerSource:g}},3651:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(j,d)=>{for(var c in d)u(j,c,{get:d[c],enumerable:!0})},x=(j,d,c,o)=>{if(d&&typeof d=="object"||typeof d=="function")for(let _ of L(d))!w.call(j,_)&&_!==c&&u(j,_,{get:()=>d[_],enumerable:!(o=O(d,_))||o.enumerable});return j},f=(j,d,c)=>(c=j!=null?n(E(j)):{},x(d||!j||!j.__esModule?u(c,"default",{value:j,enumerable:!0}):c,j)),g=j=>x(u({},"__esModule",{value:!0}),j),i={};D(i,{default:()=>S,getAllContainingDistricts:()=>l,getContainingDistrictForExtent:()=>p,getContainingDistrictForFeature:()=>m,intersect:()=>b,union:()=>v}),P.exports=g(i);var e=f(r(4171)),t=f(r(4169)),a=r(58),s=r(5);function l(j,d,c=!1){var o;const _=[];for(const y of j)for(const A of y.districts){const T=(o=A.adminFeature)==null?void 0:o.getGeometry(),M=d.getGeometry().getExtent();if((!T||T.intersectsExtent(M))&&(_.push({districtLevel:y.label,district:A}),!c))break}return c?_:_[0]}function m(j,d,c=!0,o=!1){const _=[];for(const y of j.districts){const A=y.adminFeature.getGeometry(),T=d.getGeometry().getExtent(),M=(0,s.getCenter)(T);if(o)A.intersectsExtent(T)&&_.push(c?y:y.getName());else if(A.intersectsCoordinate(M)){_.push(c?y:y.getName());break}}return o?_:_[0]}function p(j,d,c=!0,o=!1){const _=[];for(const y of j.districts)if(y.adminFeature.getGeometry().intersectsExtent(d)&&(_.push(c?y:y.getName()),!o))break;return o?_:_[0]}function v(j,d=!1,c=!1,o="EPSG:25832",_="EPSG:4326"){const y=new a.GeoJSON({dataProjection:_,featureProjection:o}),A=y.writeFeaturesObject(j);let T=A.features[0];for(let M=1;M<A.features.length;M++)T=(0,e.default)(T,A.features[M]);return d&&(T.properties={}),c&&(T=y.readFeature(T)),T}function b(j,d=!1,c=!1,o="EPSG:25832",_="EPSG:4326"){const y=new a.GeoJSON({dataProjection:_,featureProjection:o}),A=y.writeFeaturesObject(j);let T=A.features[0];for(let M=1;M<A.features.length;M++)T=(0,t.default)(T,A.features[M]);return T&&(d&&(T.properties={}),c&&(T=y.readFeature(T))),T}var S={intersect:b,union:v,getContainingDistrictForFeature:m}},3661:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,D=(a,s,l)=>s in a?n(a,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[s]=l,x=(a,s)=>{for(var l in s||(s={}))E.call(s,l)&&D(a,l,s[l]);if(L)for(var l of L(s))w.call(s,l)&&D(a,l,s[l]);return a},f=(a,s)=>{for(var l in s)n(a,l,{get:s[l],enumerable:!0})},g=(a,s,l,m)=>{if(s&&typeof s=="object"||typeof s=="function")for(let p of O(s))!E.call(a,p)&&p!==l&&n(a,p,{get:()=>s[p],enumerable:!(m=u(s,p))||m.enumerable});return a},i=a=>g(n({},"__esModule",{value:!0}),a),e={};f(e,{replaceValues:()=>t}),P.exports=i(e);function t(a,s={},l=!1,m=!1,p="de-DE"){const v=x({},a);let b;for(b in v){if(l&&typeof v[b]=="boolean"&&(v[b]=v[b].toString()),s[v[b]]){v[b]=s[v[b]];continue}m&&typeof v[b]=="number"&&(v[b]=v[b].toLocaleString(p))}return v}},3663:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(p,v)=>{for(var b in v)u(p,b,{get:v[b],enumerable:!0})},x=(p,v,b,S)=>{if(v&&typeof v=="object"||typeof v=="function")for(let j of L(v))!w.call(p,j)&&j!==b&&u(p,j,{get:()=>v[j],enumerable:!(S=O(v,j))||S.enumerable});return p},f=(p,v,b)=>(b=p!=null?n(E(p)):{},x(v||!p||!p.__esModule?u(b,"default",{value:p,enumerable:!0}):b,p)),g=p=>x(u({},"__esModule",{value:!0}),p),i=(p,v,b)=>new Promise((S,j)=>{var d=_=>{try{o(b.next(_))}catch(y){j(y)}},c=_=>{try{o(b.throw(_))}catch(y){j(y)}},o=_=>_.done?S(_.value):Promise.resolve(_.value).then(d,c);o((b=b.apply(p,v)).next())}),e={};D(e,{default:()=>m,parseJsonToXlsx:()=>l}),P.exports=g(e);var t=f(r(4200)),a=f(r(18));function s(p,v){const b=v||2;return p.map(S=>({wch:S.length*b}))}function l(p,v,b,S,j="json_to_sheet"){if((0,a.default)(v)){Object.entries(v).forEach(([y,A])=>{b.sheetname=y,l(p,A,b,S,j)});return}const d=b.sheetname.substring(0,31)||"Neues Arbeitsblatt",c=b.colOptions||p?s(p,b.multiplyColWidth):void 0,o=b.rowOptions,_=t.utils[j](v,{header:p});_["!cols"]=c,_["!rows"]=o,t.utils.book_append_sheet(S,_,d)}function m(p,v,b){return i(this,arguments,function*(S,j,d,c={},o="json_to_sheet"){if(!j||j.length===0)return console.warn("Die zu exportierende Tabelle ist leer oder existiert nicht, bitte \xFCberpr\xFCfen Sie Ihre Einstellungen"),!1;const _=t.utils.book_new();return l(S,j,{sheetname:c.sheetname||d,rowOptions:c.rowOptions,colOptions:c.colOptions,multiplyColWidth:c.multiplyColWidth},_,o),t.writeFile(_,d+".xlsx"),!0})}},3671:function(P,h){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,L=(f,g)=>{for(var i in g)r(f,i,{get:g[i],enumerable:!0})},E=(f,g,i,e)=>{if(g&&typeof g=="object"||typeof g=="function")for(let t of u(g))!O.call(f,t)&&t!==i&&r(f,t,{get:()=>g[t],enumerable:!(e=n(g,t))||e.enumerable});return f},w=f=>E(r({},"__esModule",{value:!0}),f),D={};L(D,{default:()=>x}),P.exports=w(D);class x{constructor({id:g="cg",name:i,data:e,type:t,beginAtZero:a=!1,stacked:s=!1,scaleLabels:l,color:m="blue",source:p="",sub:v=!1,sub_graph:b,sub_index:S,sub_length:j,options:d}){if(!(i&&e&&t&&typeof i=="string"&&(typeof t=="string"||Array.isArray(t))&&typeof e=="object"))throw new EvalError(`ChartDataset: 'name', 'data' and 'type' musst be provided in the options. Got ${i}, ${e} and ${t} instead`);this.type=t,this.id=g,this.name=i,this.color=m,this.data=e,this.scaleLabels=l,this.source=p,this.source=p,this.beginAtZero=a,this.stacked=s,this.sub=v,this.sub_graph=b,this.sub_index=S,this.sub_length=j,this.options=d,this.cgid=g+"-"+i}}},3676:function(P,h){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,L=(g,i)=>{for(var e in i)r(g,e,{get:i[e],enumerable:!0})},E=(g,i,e,t)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of u(i))!O.call(g,a)&&a!==e&&r(g,a,{get:()=>i[a],enumerable:!(t=n(i,a))||t.enumerable});return g},w=g=>E(r({},"__esModule",{value:!0}),g),D={};L(D,{default:()=>f}),P.exports=w(D);var f={active:!1,deactivateGFI:!1,icon:"bi-apple",id:"featuresList",isVisibleInMenu:!0,name:"Einrichtungs\xFCbersicht",renderToWindow:!1,resizableWindow:!0,width:.5,mapping:[],featuresListItems:[],selectedFeatureItems:[],propBlacklist:["geometry","geom","the_geom","coordinates","flatCoordinates","x","y","lat","lon","latlon","lonlat","originalData"],disabledFeatureItems:[],distanceScoreEnabled:!0,readmeUrl:{"en-US":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/017featureslist.md","de-DE":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/017einrichtungsuebersicht.md"},show:!0}},3708:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of L(e))!w.call(i,s)&&s!==t&&u(i,s,{get:()=>e[s],enumerable:!(a=O(e,s))||a.enumerable});return i},x=(i,e,t)=>(t=i!=null?n(E(i)):{},D(e||!i||!i.__esModule?u(t,"default",{value:i,enumerable:!0}):t,i)),f=x(r(21));function g(i){return typeof i!="object"||!(i instanceof f.default)?(console.error(`utils/features/unpackCluster: feature must be an ol feature object. Got ${i} instead`),!1):i.get("features")?i.get("features"):[i]}P.exports={unpackCluster:g}},3723:function(P,h){function r(n,u,O=!1){if(!Array.isArray(n)||!Array.isArray(u))return console.error("utils/array/isEqual: The first two parameters must be an array, but got "+typeof n+" and "+typeof u),!1;if(typeof O!="boolean")return console.error("utils/array/isEqual: Third parametes must be a boolean, but got "+typeof O),!1;if(n.length!==u.length)return!1;if(O){for(let L=0;L<n.length;L++)if(n[L]!==u[L])return!1}else for(const L of n)if(!u.find(w=>w===L))return!1;return!0}P.exports={isEqual:r}},3738:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(t,a)=>{for(var s in a)n(t,s,{get:a[s],enumerable:!0})},w=(t,a,s,l)=>{if(a&&typeof a=="object"||typeof a=="function")for(let m of O(a))!L.call(t,m)&&m!==s&&n(t,m,{get:()=>a[m],enumerable:!(l=u(a,m))||l.enumerable});return t},D=t=>w(n({},"__esModule",{value:!0}),t),x={};E(x,{createVectorLayerMappingObject:()=>f,default:()=>e}),P.exports=D(x);function f(t,a){const s=t.mouseHoverField||"name",l=t.addressField||"adresse";return{layerId:t.id,id:t.name,group:a,weighting:1,numericalValues:t.numericalValues||[],addressField:Array.isArray(l)?l:[l],categoryField:Array.isArray(t.searchField)?t.searchField[t.searchField.length-1]:t.searchField,keyOfAttrName:Array.isArray(s)?s[0]:s}}function g(t,a,s){return t.reduce((l,m)=>(m[a]&&l.push(f(m,s)),l),[])}function i(t,a){return(t.Ordner||[]).reduce((s,l)=>[...s,...i(l,a)],g(t.Layer||[],a,t.Titel))}function e(t,a=["Fachdaten","Fachdaten - Analyse / Simulation"],s="isFacility",l="Sonstiges"){const m=[];let p=a.length>0?t[a[0]]:t;if(a.length>1)for(let v=1;v<a.length;v++)p&&p.Ordner&&(p=p.Ordner.find(b=>b.Titel===a[v]));if(p){if(Array.isArray(p.Ordner))for(const v of p.Ordner)m.push({group:v.Titel,layer:i(v,s)});p.Layer&&p.Layer.length&&m.push({group:l,layer:g(p.Layer,s)})}return m}},3797:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.defineProperties,L=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,i=(d,c,o)=>c in d?u(d,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[c]=o,e=(d,c)=>{for(var o in c||(c={}))f.call(c,o)&&i(d,o,c[o]);if(D)for(var o of D(c))g.call(c,o)&&i(d,o,c[o]);return d},t=(d,c)=>O(d,E(c)),a=(d,c)=>{for(var o in c)u(d,o,{get:c[o],enumerable:!0})},s=(d,c,o,_)=>{if(c&&typeof c=="object"||typeof c=="function")for(let y of w(c))!f.call(d,y)&&y!==o&&u(d,y,{get:()=>c[y],enumerable:!(_=L(c,y))||_.enumerable});return d},l=(d,c,o)=>(o=d!=null?n(x(d)):{},s(c||!d||!d.__esModule?u(o,"default",{value:d,enumerable:!0}):o,d)),m=d=>s(u({},"__esModule",{value:!0}),d),p={};a(p,{default:()=>j}),P.exports=m(p);var v=r(10),b=l(r(3676)),j=t(e({},(0,v.generateSimpleGetters)(b.default)),{selectedFeatures(d,{selectedFeatureItems:c}){return c.map(o=>o.feature)},featuresList(d,{featuresListItems:c}){return c.map(o=>o.feature)},featureItemByAttributes:(d,{featuresListItems:c})=>o=>c.find(_=>{for(const y in o)if(_.feature.get(y)!==o[y])return!1;return!0}),featureByAttribute:(d,{featureItemByAttributes:c})=>o=>{var _;return(_=c(o))==null?void 0:_.feature},activeVectorLayerList(d,{flatActiveVectorLayerIdList:c}){return mapCollection.getMap("2D").getLayers().getArray().filter(_=>_.getVisible()).filter(_=>c.includes(_.get("id")))},activeLayerMapping(d,{mapping:c}){const o=mapCollection.getMap("2D").getLayers().getArray().filter(y=>y.getVisible()),_=o.map(y=>y.get("id"));return c.reduce((y,A)=>{const T=A.layer.filter(M=>_.includes(M.layerId));return T.length>0?[...y,{group:A.group,layer:T}]:y},[])},groupActiveLayer(d,{activeLayerMapping:c}){const o=[];return c.forEach(_=>{o.push({header:_.group}),_.layer.forEach(y=>{o.push({value:y,text:y.id})})}),o},flatLayerMapping(d,{mapping:c}){return c.reduce((o,_)=>[...o,..._.layer.map(y=>t(e({},y),{group:_.group}))],[])},flatActiveVectorLayerIdList(d,{activeLayerMapping:c}){return c.reduce((o,_)=>[...o,..._.layer.map(y=>y.layerId)],[])},flatActiveLayerMapping(d,{activeLayerMapping:c}){return c.reduce((o,_)=>[...o,..._.layer.map(y=>t(e({},y),{group:_.group}))],[])},layerMapById:(d,{flatActiveLayerMapping:c})=>o=>c.find(_=>_.layerId===o),isFeatureDisabled:(d,{disabledFeatureItems:c})=>o=>c.filter(_=>_.feature===o).length>0,isFeatureActive:(d,{isFeatureDisabled:c})=>o=>(typeof o.style_=="object"||o.style_===null||o.style_===void 0)&&!c(o)})},3798:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.defineProperties,L=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,i=(d,c,o)=>c in d?u(d,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[c]=o,e=(d,c)=>{for(var o in c||(c={}))f.call(c,o)&&i(d,o,c[o]);if(D)for(var o of D(c))g.call(c,o)&&i(d,o,c[o]);return d},t=(d,c)=>O(d,E(c)),a=(d,c)=>{for(var o in c)u(d,o,{get:c[o],enumerable:!0})},s=(d,c,o,_)=>{if(c&&typeof c=="object"||typeof c=="function")for(let y of w(c))!f.call(d,y)&&y!==o&&u(d,y,{get:()=>c[y],enumerable:!(_=L(c,y))||_.enumerable});return d},l=(d,c,o)=>(o=d!=null?n(x(d)):{},s(c||!d||!d.__esModule?u(o,"default",{value:d,enumerable:!0}):o,d)),m=d=>s(u({},"__esModule",{value:!0}),d),p={};a(p,{default:()=>j}),P.exports=m(p);var v=r(10),b=l(r(3676)),j=t(e({},(0,v.generateSimpleMutations)(b.default)),{addDisabledFeatureItem(d,c){d.disabledFeatureItems.push(c)},removeDisabledFeatureItem(d,c){d.disabledFeatureItems=d.disabledFeatureItems.filter(o=>o!==c)}})},3799:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(t,a)=>{for(var s in a)n(t,s,{get:a[s],enumerable:!0})},w=(t,a,s,l)=>{if(a&&typeof a=="object"||typeof a=="function")for(let m of O(a))!L.call(t,m)&&m!==s&&n(t,m,{get:()=>a[m],enumerable:!(l=u(a,m))||l.enumerable});return t},D=t=>w(n({},"__esModule",{value:!0}),t),x={};E(x,{default:()=>e}),P.exports=D(x);var f=r(3650),g=r(3738),e={toggleFeatureDisabled({dispatch:t,commit:a,rootGetters:s},l){var m;const p=s["Maps/getLayerById"],v=p({layerId:l.layerId}),b=(0,f.getLayerSource)(v);if(t("Maps/removeHighlightFeature",null,{root:!0}),v){let S;(l.isModified||l.isSimulation)&&(S=(m=s["Tools/ScenarioBuilder/activeScenario"])==null?void 0:m.getScenarioFeature(l.feature)),l.enabled?(S?S.renderFeature():b.addFeature(l.feature),a("removeDisabledFeatureItem",l)):(S?S.hideFeature():b.removeFeature(l.feature),a("addDisabledFeatureItem",l))}},addVectorlayerToMapping({commit:t,getters:a},s){const{mapping:l}=a,m=(0,g.createVectorLayerMappingObject)(s);let p=l.find(b=>b.group===s.group||b.group===s.parendId),v=l;p?p.layer.push(m):(p={group:s.group,layer:[m]},v=[...v,p]),t("setMapping",[...v])},removeVectorLayerFromMapping({commit:t,getters:a},s){const{mapping:l}=a;let m=[...l];for(const p of m)p.layer=p.layer.filter(v=>v!==s),p.layer.length===0&&(m=m.filter(v=>v!==p));t("setMapping",m)}}},3867:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(l,m)=>{for(var p in m)u(l,p,{get:m[p],enumerable:!0})},x=(l,m,p,v)=>{if(m&&typeof m=="object"||typeof m=="function")for(let b of L(m))!w.call(l,b)&&b!==p&&u(l,b,{get:()=>m[b],enumerable:!(v=O(m,b))||v.enumerable});return l},f=(l,m,p)=>(p=l!=null?n(E(l)):{},x(m||!l||!l.__esModule?u(p,"default",{value:l,enumerable:!0}):p,l)),g=l=>x(u({},"__esModule",{value:!0}),l),i={};D(i,{default:()=>s}),P.exports=g(i);var e=r(3708),t=f(r(7));function a(l){t.default.dispatch("Maps/highlightFeature",l)}function s(l,m){var p;const v=(0,e.unpackCluster)(l)[0],b=(p=v.getGeometry())==null?void 0:p.getType();b==="Point"?a({id:v.getId(),type:"increase",scale:1.4,layer:{id:m}}):(b==="Polygon"||b==="MultiPolygon")&&a({feature:v,type:"highlightPolygon",highlightStyle:{stroke:{color:"#F0E455",width:5}},layer:{id:m}})}},3868:function(P,h){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,L=(f,g)=>{for(var i in g)r(f,i,{get:g[i],enumerable:!0})},E=(f,g,i,e)=>{if(g&&typeof g=="object"||typeof g=="function")for(let t of u(g))!O.call(f,t)&&t!==i&&r(f,t,{get:()=>g[t],enumerable:!(e=n(g,t))||e.enumerable});return f},w=f=>E(r({},"__esModule",{value:!0}),f),D={};L(D,{default:()=>x}),P.exports=w(D);function x(f,g){const i=f.getGeometry(),e=i?.getType();if(e==="Polygon"||e==="MultiPolygon"){const t=Math.round((i.getArea()+Number.EPSILON)*100)/100;for(const a of g.area)f.set(a.key,t*a.factorToSqm)}else if(e==="LineString"||e==="MultiLineString"){let t;e==="LineString"?t=Math.round((i.getLength()+Number.EPSILON)*100)/100:e==="MultiLineString"&&(t=i.getLineStrings().reduce((a,s)=>a+Math.round((s.getLength()+Number.EPSILON)*100)/100,0));for(const a of g.lineString)f.set(a.key,t*a.factorToM)}}},3948:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,w=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,f=(d,c,o)=>c in d?u(d,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[c]=o,g=(d,c)=>{for(var o in c||(c={}))D.call(c,o)&&f(d,o,c[o]);if(E)for(var o of E(c))x.call(c,o)&&f(d,o,c[o]);return d},i=(d,c)=>{for(var o in c)u(d,o,{get:c[o],enumerable:!0})},e=(d,c,o,_)=>{if(c&&typeof c=="object"||typeof c=="function")for(let y of L(c))!D.call(d,y)&&y!==o&&u(d,y,{get:()=>c[y],enumerable:!(_=O(c,y))||_.enumerable});return d},t=(d,c,o)=>(o=d!=null?n(w(d)):{},e(c||!d||!d.__esModule?u(o,"default",{value:d,enumerable:!0}):o,d)),a=d=>e(u({},"__esModule",{value:!0}),d),s={};i(s,{composeFilename:()=>b,prepareDetailsExport:()=>j,prepareTableExport:()=>S}),P.exports=a(s);var l=r(3661),m=t(r(4229));const p={name:"Einrichtung",address:"Adresse",district:"Gebiet",type:"Typ",group:"Thema",style:"Icon",layerName:"Layer",actions:"Aktionen",enabled:"Ein-/Ausschalten",isSimulation:"Simuliert?",isModified:"Modifiziert?"},v={true:"Ja",false:"Nein"};function b(d){const c=new Date().toLocaleDateString("de-DE",{year:"numeric",month:"numeric",day:"numeric"});return`${d}_${c}`}function S(d){return d.constructor!==Array?(console.error("prepareTableExport: data must be an array"),null):d.map(o=>(0,l.replaceValues)((0,m.default)(p,o),v,!0,!1))}function j(d,c){return d.constructor!==Array?(console.error("prepareDetailsExport: data must be an array"),null):d.map(_=>{const y=Object.entries(_.feature.getProperties()).filter(A=>!c[_.layerId]||c[_.layerId].length===0?!0:c[_.layerId].includes(A[0]));return(0,l.replaceValues)((0,m.default)(p,g(g({},Object.fromEntries(y)),_)),v,!0,!1)})}},3949:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(e,t)=>{for(var a in t)n(e,a,{get:t[a],enumerable:!0})},w=(e,t,a,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of O(t))!L.call(e,l)&&l!==a&&n(e,l,{get:()=>t[l],enumerable:!(s=u(t,l))||s.enumerable});return e},D=e=>w(n({},"__esModule",{value:!0}),e),x={};E(x,{default:()=>i}),P.exports=D(x);var f=r(285);const g=["#FFB300","#803E75","#FF6800","#A6BDD7","#C10020","#CEA262","#817066","#007D34","#F6768E","#00538A","#FF7A5C","#53377A","#FF8E00","#B32851","#F4C800","#7F180D","#93AA00","#593315","#F13A13","#232C16"];function i(e,t){return t<=g.length&&e<t&&e>=0?(0,f.convertColor)(g[e],"rgb"):(0,f.convertColor)("#"+Math.floor(Math.random()*16777215).toString(16),"rgb")}},3950:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(s,l)=>{for(var m in l)u(s,m,{get:l[m],enumerable:!0})},x=(s,l,m,p)=>{if(l&&typeof l=="object"||typeof l=="function")for(let v of L(l))!w.call(s,v)&&v!==m&&u(s,v,{get:()=>l[v],enumerable:!(p=O(l,v))||p.enumerable});return s},f=(s,l,m)=>(m=s!=null?n(E(s)):{},x(l||!s||!s.__esModule?u(m,"default",{value:s,enumerable:!0}):m,s)),g=s=>x(u({},"__esModule",{value:!0}),s),i={};D(i,{createHistogram:()=>t,default:()=>a}),P.exports=g(i);var e=f(r(3671));function t(s){let l=s.filter(y=>!isNaN(parseInt(y.score.value,10))).map(y=>parseInt(y.score.value,10));const m=Math.max(...l),p=Math.min(...l),v=m-p,b=Math.ceil(v/100)<100?100:1e3,S=p/100<10?100:1e3,j=Math.floor(p/S)*S,d=Math.ceil(v/b),c=new Array(d).fill(j).map((y,A)=>y+A*b),o=c[c.length-1]+b,_=[...c];m>o&&(c.push(o),_.push(o));for(let y=c.length-1;y>=0;y--){const A=l.filter(T=>T<c[y]);_[y]=l.length-A.length,l=A}return{quantiles:c,data:_}}var a={showDistanceScoreForItem(s){const l=Object.keys(s.score.distance).length>3?"RadarChart":"BarChart",m={labels:Object.keys(s.score.distance.facilities).map(v=>s.score.distance.facilities[v].layerName),datasets:[{label:s.name,data:Object.keys(s.score.distance.facilities).map(v=>{var b;return(b=s.score.distance.facilities[v].value)==null?void 0:b.toFixed(1)})}]},p=new e.default({id:"sb-"+s.key,name:`${this.$t("additional:modules.tools.cosi.featuresList.scoresDialogTitle")} - Gewichteter Durchschnitt: ${s.score.distance.average.toLocaleString(this.currentLocale)} (Standortanalyse)`,type:l,color:"rainbow",source:"Standortanalyse",scaleLabels:[this.$t("additional:modules.tools.cosi.featuresList.distanceScoreChartYLabel"),""],data:m});this.channelGraphData(p)},showDistanceScoresForSelected(s){const l=s.length>2?"RadarChart":"BarChart",m={labels:s.map(v=>v.id),datasets:this.getActiveItems().map(v=>({label:v.name,data:s.map(b=>v.score.distance.facilities[b.layerId].value),tooltip:`Gewichteter Durchschnitt: ${v.score.distance.average.toLocaleString("de-DE")}`}))},p=new e.default({id:"sb-"+this.getActiveItems().map(v=>v.key).join(","),name:`${this.$t("additional:modules.tools.cosi.featuresList.scoresDialogTitle")} (Standortanalyse)`,type:l,color:"rainbow",source:"Standortanalyse",scaleLabels:[this.$t("additional:modules.tools.cosi.featuresList.distanceScoreChartYLabel"),""],data:m});this.channelGraphData(p)},showDistanceScoreHistogram(s){const l=t(this.getActiveItems()),m={labels:l.quantiles.map(b=>Math.round(b)),datasets:[{data:l.data,label:s.map(b=>b.id).join(", "),barPercentage:1,categoryPercentage:1}]},p={scales:{xAxes:[{ticks:{labelOffset:-20},scaleLabel:{display:!0,labelString:""}}],yAxes:[{scaleLabel:{display:!0,labelString:""}}]},tooltips:{callbacks:{title:(b,S)=>"> "+S.labels[b[0].index]+"m"}}},v=new e.default({id:"sb-histogram",name:this.$t("additional:modules.tools.cosi.featuresList.scoresDialogHistogramTitle"),type:"BarChart",color:"rainbow",source:"Standortanalyse",scaleLabels:[this.$t("additional:modules.tools.cosi.featuresList.count"),this.$t("additional:modules.tools.cosi.featuresList.distanceScore")],data:m,options:p,beginAtZero:!0});this.channelGraphData(v)},createCharts(){this.sumUpLayers?this.createChartsForLayers():this.createChartsForTypes()},createChartsForLayers(){const s=this.getActiveItems(),l=[...this.numericalColumns,{value:"count",text:"Anzahl"}],m=l.map(p=>{const v=p.value==="count"?this.getActiveLayers():this.getActiveLayersWithNumValue(p.value),b=p.value==="count"?s:s.filter(d=>!!d[p.value]),S=[...new Set(b.map(d=>d.district))].sort(),j={labels:S,datasets:v.map(d=>({label:d.id,data:S.map(c=>b.reduce((o,_)=>_.district===c&&_.layerId===d.layerId?p.value==="count"?o+1:o+parseFloat(_[p.value]):o,0))}))};return new e.default({id:this.id+"-"+p.value+"-allLayers",name:p.text,type:"BarChart",color:"rainbow",source:this.$t("additional:modules.tools.cosi.featuresList.title"),scaleLabels:[p.text,this.$t("additional:modules.tools.cosi.featuresList.colDistrict")],data:j,beginAtZero:!0})});this.channelGraphData(m)},createChartsForTypes(){const s=this.getActiveItems(),{districts:l,types:m}=this.getDistrictsAndTypes(s),p=this.getActiveLayers(),v=p.reduce((b,S)=>{const j=this.distanceScoreEnabled?[...S.numericalValues,{id:"distanceScore",name:"Anbindng"},{id:"count",name:"Anzahl"}]:[...S.numericalValues,{id:"count",name:"Anzahl"}],d=j.map(c=>{const o=s.filter(y=>y.layerId===S.layerId),_={labels:l[S.layerId],datasets:m[S.layerId].map(y=>({label:y||S.id,data:l[S.layerId].map(A=>o.reduce((T,M)=>M.district===A&&M.type===y?c.id==="count"?T+1:T+parseFloat(M[c.id]):T,0))}))};return new e.default({id:this.id+"-"+S.layerId+"-"+c.id,name:S.id,type:"BarChart",color:"rainbow",source:this.$t("additional:modules.tools.cosi.featuresList.title"),scaleLabels:[c.name,this.$t("additional:modules.tools.cosi.featuresList.colDistrict")],data:_,beginAtZero:!0})});return[...b,...d]},[]);this.channelGraphData(v)},createDipasCharts(){const s=[];this.createDipasCommentsNumberGraphs(s),this.createDipasTimeGraphs(s),this.createDipasScatterGraphs(s),this.channelGraphData(s)},createDipasCommentsNumberGraphs(s){const l=this.getActiveDipasItems(),m=this.getDistrictsAndTypes(l).types,p=this.getActiveDipasLayers(),v=p.map(b=>{const S=this.sumUpLayers?[...new Set(Object.values(m).flat())]:m[b.layerId],j={labels:S,datasets:[{label:this.$t("additional:modules.tools.cosi.featuresList.dipas.comments"),data:S.map(d=>l.reduce((c,o)=>this.sumUpLayers?o.type===d?c+parseInt(o.commentsNumber,10):c:o.layerId===b.layerId&&o.type===d?c+parseInt(o.commentsNumber,10):c,0))}]};return new e.default({id:this.id+"-"+b.layerId+"-commentsNumberChart",name:b.id.replace(" contributions","")+this.$t("additional:modules.tools.cosi.featuresList.dipas.commentsPerCategory"),type:"BarChart",color:"rainbow",source:this.$t("additional:modules.tools.cosi.dipas.title"),scaleLabels:[this.$t("additional:modules.tools.cosi.featuresList.dipas.comments"),this.$t("additional:modules.tools.cosi.featuresList.dipas.category")],data:j,beginAtZero:!0})});s.push(...v)},createDipasTimeGraphs(s){const l=this.getActiveDipasItems(),m=this.getActiveDipasLayers(),p=m.map(v=>{const b=l.filter(d=>this.sumUpLayers||d.layerId===v.layerId).map(d=>d.feature.values_.dateCreated).sort(),S={labels:b,datasets:[{label:this.$t("additional:modules.tools.cosi.featuresList.dipas.contributions"),data:b.map((d,c)=>({t:d,y:c+1}))}]},j=this.currentLocale;return new e.default({id:this.id+"-"+v.layerId+"-timeChart",name:v.id.replace(" contributions","")+this.$t("additional:modules.tools.cosi.featuresList.dipas.contributionsOverTime"),type:"LineChart",color:"rainbow",source:this.$t("additional:modules.tools.cosi.dipas.title"),scaleLabels:[this.$t("additional:modules.tools.cosi.featuresList.dipas.contributions"),this.$t("additional:modules.tools.cosi.featuresList.dipas.contributions")],options:{scales:{xAxes:[{type:"time"}]},tooltips:{callbacks:{title:function(d){return new Date(d[0].label).toLocaleString(j)}}}},data:S,beginAtZero:!0})});s.push(...p)},createDipasScatterGraphs(s){const l=this.getActiveDipasItems(),m=this.getActiveDipasLayers(),p=m.map(v=>{const b={datasets:[{label:this.$t("additional:modules.tools.cosi.featuresList.dipas.commentsVoting"),data:l.filter(S=>this.sumUpLayers||S.layerId===v.layerId).map(S=>({x:parseInt(S.votingPro,10)-parseInt(S.votingContra,10),y:parseInt(S.commentsNumber,10),name:S.name}))}]};return new e.default({id:this.id+"-"+v.layerId+"-scatterChart",name:v.id.replace(" contributions","")+this.$t("additional:modules.tools.cosi.featuresList.dipas.commentsVotingText"),type:"ScatterChart",color:"rainbow",source:this.$t("additional:modules.tools.cosi.dipas.title"),scaleLabels:[this.$t("additional:modules.tools.cosi.featuresList.dipas.comments"),this.$t("additional:modules.tools.cosi.featuresList.dipas.voting")],options:{tooltips:{callbacks:{label:function(S,j){const d=S.index;return j.datasets[0].data[d].name},title:function(S,j){return j.datasets[0].label+" ("+S[0].yLabel+"/"+S[0].xLabel+")"},footer:()=>null}}},data:b,beginAtZero:!0})});s.push(...p)}}},3951:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{default:()=>g}),P.exports=D(x);var f=r(40);function g(i,e){return i.getStyle()?i.getStyle():e?e(i):i.styleRule?i.styleRule.style.type==="Icon"?new f.Style({image:new f.Icon({src:(i.styleRule.style.imagePath||Config.wfsImgPath)+i.styleRule.style.imageName,width:40,height:40})}):new f.Style({fill:new f.Fill({color:i.styleRule.style.polygonFillColor||i.styleRule.style.circleFillColor}),stroke:new f.Stroke({color:i.styleRule.style.polygonStrokeColor||i.styleRule.style.circleStrokeColor,width:i.styleRule.style.polygonStrokeWidth||i.styleRule.style.circleStrokeWidth})}):null}},3952:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,w=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,f=(S,j,d)=>j in S?u(S,j,{enumerable:!0,configurable:!0,writable:!0,value:d}):S[j]=d,g=(S,j)=>{for(var d in j||(j={}))D.call(j,d)&&f(S,d,j[d]);if(E)for(var d of E(j))x.call(j,d)&&f(S,d,j[d]);return S},i=(S,j)=>{for(var d in j)u(S,d,{get:j[d],enumerable:!0})},e=(S,j,d,c)=>{if(j&&typeof j=="object"||typeof j=="function")for(let o of L(j))!D.call(S,o)&&o!==d&&u(S,o,{get:()=>j[o],enumerable:!(c=O(j,o))||c.enumerable});return S},t=(S,j,d)=>(d=S!=null?n(w(S)):{},e(j||!S||!S.__esModule?u(d,"default",{value:S,enumerable:!0}):d,S)),a=S=>e(u({},"__esModule",{value:!0}),S),s={};i(s,{default:()=>b}),P.exports=a(s);var l=t(r(3797)),m=t(r(3798)),p=t(r(3676)),v=t(r(3799)),b={namespaced:!0,state:g({},p.default),mutations:m.default,getters:l.default,actions:v.default}},3953:function(P){P.exports=JSON.parse('{"modules":{"tools":{"cosi":{"featuresList":{"title":"Einrichtungs\xFCbersicht","titleLocationScore":"Standortbewertung","help":"Listet alle geladenen Einrichtungen f\xFCr die ausgew\xE4hlten Gebiete","layerFilter":"Liste nach Thema filtern","search":"Liste durchsuchen","colIcon":"Icon","colFacility":"Einrichtung","colDistrict":"Gebiet","colLayerName":"Layer","colType":"Typ","colGroup":"Thema","colActions":"Aktionen","colToggleEnabled":"Ein-/ Ausblenden","colAddress":"Adresse","inactiveFeature":"Die ausgew\xE4hlte Einrichtung ist gegenw\xE4rtig inaktiv geschaltet.","exportTable":"\xDCbersicht exportieren","exportDetails":"inkl. Detailansicht","exportFilename":"CoSI_Einrichtungs\xFCbersicht","weighting":"Gewichtung der Einrichtungen","distanceScoreChartTooltip":"Standortbewertung f\xFCr ausgew\xE4hlte visualisieren","distanceScoreHistogramTooltip":"Verteilung der Standortbewertungen visualisieren","distanceScore":"Anbindung (\xD8 in m)","distanceScoreLayerLabel":"Einrichtungen f\xFCr die Standortbewertung","distanceScoreChartYLabel":"Anbindung in m","abort":"Abbrechen","warning":"ACHTUNG: ","warningIsModified":"Wurde in CoSI modifiziert","warningIsSimulated":"Wurde in CoSI simuliert","scoresDialogTitle":"Zusammensetzung der Anbindung","scoresDialogHistogramTitle":"Verteilung der Bewertungen","itemsPerPage":"Eintr\xE4ge pro Seite","itemsPerPageAll":"Alle","count":"Anzahl","createCharts":"Diagramme erstellen","sumUpLayers":"Layer zusammenziehen","sumUpLayersTooltip":"Layer mit gleichen Attributen (z.B. Fl\xE4che in m\xB2) in einem gemeinsamen Diagramm betrachten","dipas":{"warningWrongGeometry":"Urspr\xFCnglich keine Punktgeometrie: ","warningNoGeometry":"Enthielt keine Geometrie. Wurde auf den Mittelpunkt des Projektes gesetzt.","createCharts":"DIPAS Diagramme erstellen","comments":"Kommentare","commentsPerCategory":" Kommentare pro Kategorie","category":"Kategorie","contributions":"Beitr\xE4ge","contributionsOverTime":" Beitr\xE4ge im Verlauf der Zeit","commentsVoting":"Kommentare/Voting","commentsVotingText":" Anzahl Kommentare nach Voting","voting":"Voting","allProjects":"Alle Verfahren"},"show":"Einblenden","hide":"Ausblenden"},"timeSeriesAnalyse":{"title":"Zeitreihenanalyse"}}}}}')},3954:function(P){P.exports=JSON.parse(`{"modules":{"tools":{"cosi":{"featuresList":{"title":"Facilities Overview","titleLocationScore":"Location Score","help":"Lists all active facilities for the selected districts","layerFilter":"Filter list by topic","search":"Search List","colIcon":"Icon","colFacility":"Facility","colDistrict":"District","colLayerName":"Layer","colType":"Type","colGroup":"Topic","colActions":"Actions","colToggleEnabled":"Enable/Disable","colAddress":"Address","inactiveFeature":"The selected facility ist currently set to 'inactive'.","exportTable":"Export overview","exportDetails":"include details","weighting":"Weighting of the layer","distanceScoreLayerLabel":"Layers for distance scoreing (SB)","distanceScoreChartYLabel":"distance / m","abort":"abort","warning":"WARNING: ","warningIsModified":"Was modified in CoSI","warningIsSimulated":"Was simulated in CoSI","scoresDialogHistogramTitle":"Distribution of scores","scoresDialogTitle":"Zusammensetzung","itemsPerPage":"Rows per Page","itemsPerPageAll":"All","count":"count","createCharts":"create charts","dipas":{"warningWrongGeometry":"Initially no point geometry: ","warningNoGeometry":"Didn't have a geometry. Was centered in the projects extent.","createCharts":"create DIPAS charts","comments":"comments","commentsPerCategory":" comments per category","category":"category","contributions":"contributions","contributionsOverTime":" contributions over time","commentsVoting":"comments/voting","commentsVotingText":" number of comments by voting","voting":"voting","allProjects":"All projects"},"show":"Show","hide":"Hide"},"timeSeriesAnalyse":{"title":"Time Series analyse"}}}}}`)},4154:function(P,h,r){"use strict";r.r(h);var n=r(4155),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4155:function(P,h,r){var n=Object.defineProperty,u=Object.defineProperties,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,f=(p,v,b)=>v in p?n(p,v,{enumerable:!0,configurable:!0,writable:!0,value:b}):p[v]=b,g=(p,v)=>{for(var b in v||(v={}))D.call(v,b)&&f(p,b,v[b]);if(w)for(var b of w(v))x.call(v,b)&&f(p,b,v[b]);return p},i=(p,v)=>u(p,L(v)),e=(p,v)=>{for(var b in v)n(p,b,{get:v[b],enumerable:!0})},t=(p,v,b,S)=>{if(v&&typeof v=="object"||typeof v=="function")for(let j of E(v))!D.call(p,j)&&j!==b&&n(p,j,{get:()=>v[j],enumerable:!(S=O(v,j))||S.enumerable});return p},a=p=>t(n({},"__esModule",{value:!0}),p),s={};e(s,{default:()=>m}),P.exports=a(s);var l=r(8),m={name:"ToolInfo",props:{title:{type:String,default:"Werkzeuginformationen (Link \xF6ffnen)"},url:{type:[String,Object],default:null},infoText:{type:String,default:void 0},summary:{type:String,default:null},locale:{type:String,default:"de"}},methods:i(g({},(0,l.mapActions)("Alerting",["addSingleAlert","cleanup"])),{showInfo(){return this.url?window.open(this.getUrl(),"_blank"):(this.infoText&&(this.cleanup(),this.addSingleAlert({category:"Info",content:this.infoText,displayClass:"info"})),null)},getUrl(){if(typeof this.url=="string")return this.url;const p=Object.keys(this.url).find(v=>v.substring(0,v.indexOf("-"))===this.locale.substring(0,v.indexOf("-")));return this.url[p]}})}},4156:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("div",[t("v-row",{attrs:{dense:"",justify:"end"}},[t("v-col",{attrs:{cols:"17"}},[e.summary?t("p",[e._v(`
                `+e._s(e.summary)+`
            `)]):e._e()]),e._v(" "),t("v-col",{attrs:{cols:"1"}},[e.infoText||e.url?t("v-btn",{staticClass:"info_btn",attrs:{title:e.title,depressed:"",right:"",icon:"","x-small":""},on:{click:e.showInfo}},[t("v-icon",[e._v("mdi-help-circle")])],1):e._e()],1)],1),e._v(" "),t("v-divider")],1)},g=[];f._withStripped=!0},4157:function(P,h,r){},4162:function(P,h,r){"use strict";r.r(h);var n=r(4163),u=r(4154);for(var O in u)["default"].indexOf(O)<0&&function(D){r.d(h,D,function(){return u[D]})}(O);var L=r(4164),E=r(1),w=Object(E.a)(u.default,n.render,n.staticRenderFns,!1,null,"0f052480",null);h.default=w.exports},4163:function(P,h,r){"use strict";var n=r(4156),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},4164:function(P,h,r){"use strict";var n=r(4157),u=r.n(n)},4169:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(l,m)=>{for(var p in m)u(l,p,{get:m[p],enumerable:!0})},x=(l,m,p,v)=>{if(m&&typeof m=="object"||typeof m=="function")for(let b of L(m))!w.call(l,b)&&b!==p&&u(l,b,{get:()=>m[b],enumerable:!(v=O(m,b))||v.enumerable});return l},f=(l,m,p)=>(p=l!=null?n(E(l)):{},x(m||!l||!l.__esModule?u(p,"default",{value:l,enumerable:!0}):p,l)),g=l=>x(u({},"__esModule",{value:!0}),l),i={};D(i,{default:()=>s}),P.exports=g(i);var e=r(4158),t=r(4168),a=f(r(4185));function s(l,m,p){p===void 0&&(p={});var v=(0,t.getGeom)(l),b=(0,t.getGeom)(m),S=a.default.intersection(v.coordinates,b.coordinates);return S.length===0?null:S.length===1?(0,e.polygon)(S[0],p.properties):(0,e.multiPolygon)(S,p.properties)}},4180:function(P,h){},4201:function(P,h){function r(n){var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}r.keys=function(){return[]},r.resolve=r,P.exports=r,r.id=4201},4202:function(P,h){},4203:function(P,h){},4229:function(P,h){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,O=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,w=(t,a,s)=>a in t?r(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,D=(t,a)=>{for(var s in a||(a={}))L.call(a,s)&&w(t,s,a[s]);if(O)for(var s of O(a))E.call(a,s)&&w(t,s,a[s]);return t},x=(t,a)=>{for(var s in a)r(t,s,{get:a[s],enumerable:!0})},f=(t,a,s,l)=>{if(a&&typeof a=="object"||typeof a=="function")for(let m of u(a))!L.call(t,m)&&m!==s&&r(t,m,{get:()=>a[m],enumerable:!(l=n(a,m))||l.enumerable});return t},g=t=>f(r({},"__esModule",{value:!0}),t),i={};x(i,{default:()=>e}),P.exports=g(i);function e(t,a){return Object.keys(a).reduce((s,l)=>D(D({},s),{[t[l]||l]:a[l]}),{})}},4386:function(P,h,r){"use strict";r.r(h);var n=r(4387),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4387:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.defineProperties,L=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,i=(F,I,C)=>I in F?u(F,I,{enumerable:!0,configurable:!0,writable:!0,value:C}):F[I]=C,e=(F,I)=>{for(var C in I||(I={}))f.call(I,C)&&i(F,C,I[C]);if(D)for(var C of D(I))g.call(I,C)&&i(F,C,I[C]);return F},t=(F,I)=>O(F,E(I)),a=(F,I)=>{for(var C in I)u(F,C,{get:I[C],enumerable:!0})},s=(F,I,C,B)=>{if(I&&typeof I=="object"||typeof I=="function")for(let N of w(I))!f.call(F,N)&&N!==C&&u(F,N,{get:()=>I[N],enumerable:!(B=L(I,N))||B.enumerable});return F},l=(F,I,C)=>(C=F!=null?n(x(F)):{},s(I||!F||!F.__esModule?u(C,"default",{value:F,enumerable:!0}):C,F)),m=F=>s(u({},"__esModule",{value:!0}),F),p=(F,I,C)=>new Promise((B,N)=>{var U=z=>{try{K(C.next(z))}catch(R){N(R)}},J=z=>{try{K(C.throw(z))}catch(R){N(R)}},K=z=>z.done?B(z.value):Promise.resolve(z.value).then(U,J);K((C=C.apply(F,I)).next())}),v={};a(v,{default:()=>oe}),P.exports=m(v);var b=l(r(59)),S=r(41),j=r(8),d=l(r(3797)),c=l(r(3798)),o=l(r(3799)),_=l(r(3738)),y=r(3651),A=r(3650),T=l(r(3867)),M=l(r(5400)),$=l(r(5402)),V=l(r(5405)),W=r(3948),G=l(r(3663)),Q=r(3723),k=l(r(3949)),Y=l(r(3950)),q=l(r(5408)),ee=l(r(3868)),te=l(r(3951)),H=r(40),re=l(r(21)),se=l(r(4162)),Z=r(3649),oe={name:"FeaturesList",components:{Tool:b.default,ToolInfo:se.default,DetailView:M.default,FeatureIcon:$.default,FeaturesScore:q.default,FeaturesListToolbar:V.default},data(){return{search:"",layerFilter:[],expanded:[],filterProps:{},filteredItems:[],excludedPropsForExport:["Icon","Aktionen","Ein-/ Ausblenden","layerId","feature","key","gfiAttributes"],featureColumns:[{text:this.$t("additional:modules.tools.cosi.featuresList.colIcon"),value:"style",filterable:!1,sortable:!1},{text:this.$t("additional:modules.tools.cosi.featuresList.colToggleEnabled"),value:"enabled"},{text:this.$t("additional:modules.tools.cosi.featuresList.colFacility"),value:"name"},{value:"warning"},{text:this.$t("additional:modules.tools.cosi.featuresList.colDistrict"),value:"district"},{text:this.$t("additional:modules.tools.cosi.featuresList.colAddress"),value:"address",divider:!0},{text:this.$t("additional:modules.tools.cosi.featuresList.colLayerName"),value:"layerName",filter:F=>this.layerFilter.length<1?!0:this.layerFilter.map(I=>I.id).includes(F)},{text:this.$t("additional:modules.tools.cosi.featuresList.colType"),value:"type",divider:!0},{text:this.$t("additional:modules.tools.cosi.featuresList.colGroup"),value:"group",divider:!0}],actionColumns:[{text:this.$t("additional:modules.tools.cosi.featuresList.colToggleEnabled"),value:"enabled"}],numericalColumns:[],distScoreLayer:null,exportDetails:!1,dipasInFeaturesList:!0,sumUpLayers:!1}},computed:t(e(e(e(e(e(e({},(0,j.mapGetters)("Language",["currentLocale"])),(0,j.mapGetters)("Tools/FeaturesList",Object.keys(d.default))),(0,j.mapGetters)("Tools/ScenarioBuilder",["activeSimulatedFeatures","scenarioUpdated","geomAttributes"])),(0,j.mapGetters)("Tools/DistrictSelector",{selectedDistrictLevel:"selectedDistrictLevel",selectedDistrictFeatures:"selectedFeatures",districtLayer:"layer",bufferValue:"bufferValue",extent:"extent"})),(0,j.mapGetters)("Tools/DistanceScoreService",["wmsLayersInfo"])),(0,j.mapState)(["configJson"])),{columns(){return[...this.featureColumns,...this.numericalColumns]},selected:{get(){return this.selectedFeatureItems},set(F){this.setSelectedFeatureItems(F)}},items:{get(){return this.featuresListItems},set(F){this.setFeaturesListItems(F),this.numericalColumns=this.getNumericalColumns()}}}),watch:{active(F){if(!F){const I=(0,S.getComponent)(this.id);I&&I.set("isActive",!1),this.removeHighlightFeature(),this.setShow(!0)}},selected(F){this.removeHighlightFeature(),F.forEach(I=>{this.highlightVectorFeature(I.feature,I.layerId)}),this.showDistanceScoreFeatures()},scenarioUpdated:"updateFeaturesList",selectedDistrictLevel:"updateFeaturesList",activeVectorLayerList(F,I){(0,Q.isEqual)(F,I)||this.$nextTick(()=>{this.updateFeaturesList()})},groupActiveLayer(){this.numericalColumns=this.getNumericalColumns()},items(F){F.length>0&&F.some(I=>I.group==="DIPAS")?this.dipasInFeaturesList=!0:this.dipasInFeaturesList=!1,this.showDistanceScoreFeatures()},layerFilter(){this.numericalColumns=this.getNumericalColumns()},show(F){F?this.$nextTick(()=>{this.active&&(this.$el.style.width="inherit",this.$el.querySelector("#basic-resize-handle-sidebar").style.display="inherit",mapCollection.getMap("2D").updateSize())}):this.$nextTick(()=>{this.active&&(this.$el.style.width="80px",this.$el.querySelector("#basic-resize-handle-sidebar").style.display="none",mapCollection.getMap("2D").updateSize())})}},created(){this.$on("close",()=>{this.setActive(!1)}),this.isTimeSeriesAnalyseShow=typeof this.$store.state.configJson.Portalconfig.menu.tools.children.timeSeriesAnalyse<"u"},mounted(){return p(this,null,function*(){this.setMapping((0,_.default)(this.configJson.Themenconfig)),this.updateFeaturesList(),(0,Z.onFeaturesLoaded)(this.updateFeaturesList),(0,Z.onResetFeatures)(this.updateFeaturesList),(0,Z.onShowFeaturesById)(this.updateFeaturesList),(0,Z.onShowAllFeatures)(this.updateFeaturesList),this.$root.$on("updateFeaturesList",this.updateFeaturesList),this.distScoreLayer=yield this.addNewLayerIfNotExists({layerName:"distance-score-features"}),this.distScoreLayer.setVisible(!0),this.distScoreLayer.setZIndex(22)})},methods:t(e(e(e(e(e(e(e({},(0,j.mapMutations)("Tools/FeaturesList",Object.keys(c.default))),(0,j.mapActions)("Tools/FeaturesList",Object.keys(o.default))),(0,j.mapActions)("Tools/DistanceScoreService",["getDistanceScore","getFeatureValues"])),(0,j.mapActions)("Tools",["setToolActive"])),(0,j.mapActions)("Maps",["removeHighlightFeature","addNewLayerIfNotExists"])),(0,j.mapActions)("Tools/ChartGenerator",["channelGraphData"])),Y.default),{getNumericalColumns(){var F,I;const C=this.getActiveLayers().reduce((B,N)=>{const U=N.numericalValues.map(J=>({text:J.name,value:J.id}));for(const J of U)B.find(K=>K.value===J.value)||B.push(J);return B},[]);return C.length>0&&(C[C.length-1].divider=!0),this.items.length&&typeof((I=(F=this.items[0])==null?void 0:F.score)==null?void 0:I.value)<"u"&&C.push({text:this.$t("additional:modules.tools.cosi.featuresList.distanceScore"),value:"distanceScore",divider:!0,hasAction:!0,invertColor:!0}),this.items.length&&this.wmsLayersInfo.forEach(B=>{Object.hasOwn(this.items[0],B.name)&&C.push({text:B.name,value:B.name})}),C},updateFeaturesList(F){this.groupActiveLayer.length>0?this.items=this.activeVectorLayerList.reduce((I,C)=>{var B,N;const U=((B=(0,A.getLayerSource)(C))==null?void 0:B.getFeatures())||[],J=U.filter(this.isFeatureActive),K=this.layerMapById(C.get("id")),z=(N=C.getStyleFunction)==null?void 0:N.call(C);return I.push(...this.checkDisabledFeatures(C)),[...I,...J.map(R=>((0,ee.default)(R,this.geomAttributes),e({key:R.getId(),name:R.get(K.keyOfAttrName),style:(0,te.default)(R,z),district:(0,y.getContainingDistrictForFeature)(this.selectedDistrictLevel,R,!1),group:K.group,layerName:K.id,layerId:K.layerId,gfiAttributes:C.values_.gfiAttributes,type:R.get(K.categoryField),address:K.addressField.map(X=>R.get(X)).join(", "),feature:R,enabled:!0,isSimulation:R.get("isSimulation")||!1,isModified:R.get("isModified")||!1},Object.fromEntries(K.numericalValues.map(X=>[X.id,R.get(X.id)])))))]},[]):this.items=[],this.$root.$emit("featureListUpdatedBy-"+(F||"Unknown"))},checkDisabledFeatures(F){return this.disabledFeatureItems.filter(I=>I.layerId===F.get("id"))},getRowClasses(F){const I=[];return F.isSimulation&&I.push("light-green","lighten-5"),I},handleClickRow(F){F.enabled&&(this.removeHighlightFeature(),this.highlightVectorFeature(F.feature,F.layerId))},updateFilterProps(F){this.filterProps=e(e({},this.filterProps),F)},editFeature(F){console.warn(F,"not implemented")},deleteFeature(F){console.warn(F,"not implemented")},setFilteredItems(F){this.filteredItems=F},getActiveItems(){return this.items.filter(F=>!(this.search&&!this.filteredItems.includes(F)||this.selected.length>0&&!this.selected.includes(F)||this.layerFilter.length>0&&!this.layerFilter.map(I=>I.layerId).includes(F.layerId)))},getActiveDipasItems(){return this.getActiveItems().filter(F=>F.group==="DIPAS")},getActiveLayers(){return this.layerFilter.length>0?this.flatActiveLayerMapping.filter(F=>this.layerFilter.map(I=>I.layerId).includes(F.layerId)):this.flatActiveLayerMapping},getActiveDipasLayers(){return this.sumUpLayers?[{id:this.$t("additional:modules.tools.cosi.featuresList.dipas.allProjects"),layerId:this.$t("additional:modules.tools.cosi.featuresList.dipas.allProjects")}]:this.getActiveLayers().filter(F=>F.group==="DIPAS")},getActiveLayersWithNumValue(F){return this.getActiveLayers().filter(I=>I.numericalValues.map(C=>C.id).includes(F))},exportTable(F){const I=this.getActiveItems(),C=F?(0,W.prepareDetailsExport)(I,this.filterProps):(0,W.prepareTableExport)(I),B=(0,W.composeFilename)(this.$t("additional:modules.tools.cosi.featuresList.exportFilename"));(0,G.default)(C,B,{exclude:this.excludedPropsForExport})},toggleFeature(F){F.enabled=!F.enabled,this.toggleFeatureDisabled(F),this.$root.$emit("updateFeature")},searchAllAttributes(F,I,C){const B=e(e({},C.feature.getProperties()),C);return Object.values(B).some(N=>N&&N.toString().toLowerCase().includes(I.toLowerCase()))},getNumericalValueColor(F,I,C){const B=Math.max(...this.items.map(U=>parseFloat(U[I])).filter(U=>!isNaN(U)));let N=parseFloat(F[I])/B;return C&&(N=1-N),isNaN(N)?"grey":N>.9?"purple":N>.8?"indigo":N>.7?"blue":N>.6?"cyan":N>.5?"teal":N>.4?"green":N>.4?"light-green":N>.2?"lime":N>.1?"amber":"red"},getNumericalValueStyle(F,I){const C=parseFloat(F[I]),B=Math.max(...this.items.map(N=>parseFloat(N[I])).filter(N=>!isNaN(N)));return{padding:0,height:"10px",width:Math.round(100*C/B)+"%"}},getDistrictsAndTypes(F){const I={},C={};for(const B of this.flatActiveLayerMapping){I[B.layerId]=[],C[B.layerId]=[];for(const N of F.filter(U=>U.layerId===B.layerId))I[B.layerId].includes(N.district)||I[B.layerId].push(N.district),C[B.layerId].includes(N.type)||C[B.layerId].push(N.type);I[B.layerId].sort(),C[B.layerId].sort()}return{districts:I,types:C}},showDistanceScoreFeatures(){if(this.distScoreLayer===null||this.selected.length===0||!this.selected[0].score){this.distScoreLayer&&this.distScoreLayer.getSource().clear();return}const F=Object.keys(this.selected[0].score.distance.facilities),I=F.reduce((C,B,N)=>t(e({},C),{[B]:(0,k.default)(N,F.length)}),{});this.selected.forEach(C=>{if(C.score.distance){for(const[B,N]of Object.entries(C.score.distance.facilities))if(N.feature){const U=new re.default({geometry:N.feature.getGeometry()});U.set("styleId",N.feature.getId()+"-ds"),U.setStyle(new H.Style({image:new H.Circle({radius:5,fill:new H.Fill({color:I[B]})}),text:new H.Text({text:N.layerName,placement:"point",offsetY:-10,offsetX:10,font:"12px Calibri, sans-serif",fill:new H.Fill({color:[255,2550,255]}),stroke:new H.Stroke({color:[0,0,0],width:1})})})),this.distScoreLayer.getSource().addFeature(U)}}})},updateItems(F){this.items=F,this.selected=this.selected.map(I=>this.items.find(C=>C.key===I.key))},highlightVectorFeature:T.default,openTimeSeriesAnalyse(){this.setToolActive({id:"TimeSeriesAnalyse",active:!0}),this.setShow(!1)},toggleTool(){this.setShow(!this.show)},setLayerFilter(F){this.layerFilter=F},setSearch(F){this.search=F}})}},4388:function(P,h,r){"use strict";r.r(h);var n=r(4389),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4389:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,E=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,D=(a,s)=>{for(var l in s)u(a,l,{get:s[l],enumerable:!0})},x=(a,s,l,m)=>{if(s&&typeof s=="object"||typeof s=="function")for(let p of L(s))!w.call(a,p)&&p!==l&&u(a,p,{get:()=>s[p],enumerable:!(m=O(s,p))||m.enumerable});return a},f=(a,s,l)=>(l=a!=null?n(E(a)):{},x(s||!a||!a.__esModule?u(l,"default",{value:a,enumerable:!0}):l,a)),g=a=>x(u({},"__esModule",{value:!0}),a),i={};D(i,{default:()=>t}),P.exports=g(i);var e=f(r(317)),t={name:"DetailView",props:{item:{required:!0,type:Object},propBlacklist:{required:!1,type:Array,default:()=>[]},filterProps:{required:!1,type:Object,default:void 0}},data:()=>({selectedProps:[]}),computed:{featureProperties(){const a=this.propBlacklist,s=this.item.feature.getProperties(),l=Object.entries(s).filter(m=>!a.includes(m[0]));return Object.fromEntries(l)}},watch:{filterProps(){this.updateFilterProps()}},mounted(){this.updateFilterProps()},methods:{beautifyKey:a=>(0,e.default)(a),gfiOrBeautifyKey(a){return this.item.gfiAttributes[a]?this.item.gfiAttributes[a]:(0,e.default)(a)},onChangeProps(){this.$emit("filterProps",{[this.item.layerId]:this.selectedProps})},updateFilterProps(){Object.prototype.hasOwnProperty.call(this.filterProps,this.item.layerId)&&(this.selectedProps=this.filterProps[this.item.layerId])}}}},4390:function(P,h,r){"use strict";r.r(h);var n=r(4391),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4391:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.defineProperties,L=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,i=(o,_,y)=>_ in o?u(o,_,{enumerable:!0,configurable:!0,writable:!0,value:y}):o[_]=y,e=(o,_)=>{for(var y in _||(_={}))f.call(_,y)&&i(o,y,_[y]);if(D)for(var y of D(_))g.call(_,y)&&i(o,y,_[y]);return o},t=(o,_)=>O(o,E(_)),a=(o,_)=>{for(var y in _)u(o,y,{get:_[y],enumerable:!0})},s=(o,_,y,A)=>{if(_&&typeof _=="object"||typeof _=="function")for(let T of w(_))!f.call(o,T)&&T!==y&&u(o,T,{get:()=>_[T],enumerable:!(A=L(_,T))||A.enumerable});return o},l=(o,_,y)=>(y=o!=null?n(x(o)):{},s(_||!o||!o.__esModule?u(y,"default",{value:o,enumerable:!0}):y,o)),m=o=>s(u({},"__esModule",{value:!0}),o),p={};a(p,{default:()=>c}),P.exports=m(p);var v=l(r(290)),b=l(r(319)),S=r(8),j=r(5),d=l(r(4392)),c={name:"FeatureIcon",components:{InlineSvg:d.default},props:{item:{required:!0,type:Object}},computed:{style(){return Array.isArray(this.item.style)?this.item.style[0]:this.item.style}},methods:t(e(e({},(0,S.mapActions)("Maps",["zoomToExtent"])),(0,S.mapActions)("Alerting",["addSingleAlert"])),{getSvgSrc(){var o,_;if(((_=(o=this.style)==null?void 0:o.getImage())==null?void 0:_.constructor)===v.default){const y=this.style.getImage().getSrc();if(y.substring(y.length-4)===".svg")return y}},getIconSrc(){var o,_;if(((_=(o=this.style)==null?void 0:o.getImage())==null?void 0:_.constructor)===v.default)return this.style.getImage().getSrc()},getCircleStyle(){var o,_;if(((_=(o=this.style)==null?void 0:o.getImage())==null?void 0:_.constructor)===b.default)return this.style.getImage()},getSvgColor(){return this.convertColor(this.style.getImage().getColor())||"grey"},getBgColor(o){var _;return this.convertColor((_=o?.getFill())==null?void 0:_.getColor())||"grey"},getBorderColor(o){var _;return this.convertColor((_=o?.getStroke())==null?void 0:_.getColor())||"grey"},convertColor(o){if(o?.constructor===Array)return o.length===3?`rgb(${o.toString()})`:`rgba(${o.toString()})`;if(o?.constructor===String)return o},getBorderWidth(o){var _;return((_=o?.getStroke())==null?void 0:_.getWidth())+"px"||!1},zoomToFeature(){const o=this.item.feature.getGeometry().getExtent(),_=(0,j.buffer)(o,500);this.zoomToExtent({extent:_,options:{}}),this.item.enabled||this.addSingleAlert({content:this.$t("additional:modules.tools.cosi.featuresList.inactiveFeature"),category:"Info",displayClass:"info"})},getTitle(o){let _="";const y=o.feature.get("originalGeometryType"),A=![void 0,"Point"].includes(y),T=!(o.feature.get("dipasLocated")||o.feature.get("dipasLocated")===void 0);return(o.isSimulation||A||T)&&(_+=this.$t("additional:modules.tools.cosi.featuresList.warning")),o.isSimulation&&(_+=this.$t("additional:modules.tools.cosi.featuresList.warningIsSimulated")+`
`),A&&(_+=this.$t("additional:modules.tools.cosi.featuresList.dipas.warningWrongGeometry")+y+`
`),T&&(_+=this.$t("additional:modules.tools.cosi.featuresList.dipas.warningNoGeometry")+`
`),_}})}},4392:function(P,h,r){(function(n,u){u(h)})(h,function(n){"use strict";var u={};function O(x){return Object.keys(x).reduce(function(f,g){return x[g]!==!1&&x[g]!==null&&x[g]!==void 0&&(f[g]=x[g]),f},{})}var L={name:"InlineSvg",inheritAttrs:!1,render:function(f){return this.svgElSource?f("svg",{on:this.$listeners,attrs:Object.assign(this.getSvgAttrs(this.svgElSource),O(this.$attrs)),domProps:{innerHTML:this.getSvgContent(this.svgElSource)}}):null},props:{src:{type:String,required:!0},title:{type:String},transformSource:{type:Function,default:function(f){return f}},keepDuringLoading:{type:Boolean,default:!0}},data:function(){return{svgElSource:null}},watch:{src:function(f){this.getSource(f)}},mounted:function(){this.getSource(this.src)},methods:{getSvgAttrs:function(f){var g={},i=f.attributes;if(!i)return g;for(var e=i.length-1;e>=0;e--)g[i[e].name]=i[e].value;return g},getSvgContent:function(f){return f=f.cloneNode(!0),f=this.transformSource(f),this.title&&E(f,this.title),f.innerHTML},getSource:function(f){var g=this;u[f]||(u[f]=this.download(f)),this.svgElSource&&u[f].isPending()&&!this.keepDuringLoading&&(this.svgElSource=null,this.$emit("unloaded")),u[f].then(function(i){g.svgElSource=i,g.$nextTick(function(){g.$emit("loaded",g.$el)})}).catch(function(i){g.svgElSource&&(g.svgElSource=null,g.$emit("unloaded")),delete u[f],g.$emit("error",i)})},download:function(f){return w(new Promise(function(g,i){var e=new XMLHttpRequest;e.open("GET",f,!0),e.onload=function(){if(e.status>=200&&e.status<400)try{var t=new DOMParser,a=t.parseFromString(e.responseText,"text/xml"),s=a.getElementsByTagName("svg")[0];s?g(s):i(new Error('Loaded file is not valid SVG"'))}catch(l){i(l)}else i(new Error("Error loading SVG"))},e.onerror=i,e.send()}))}}};function E(x,f){var g=x.getElementsByTagName("title");if(g.length)g[0].textContent=f;else{var i=document.createElementNS("http://www.w3.org/2000/svg","title");i.textContent=f,x.appendChild(i)}}function w(x){if(x.isPending)return x;var f=!0,g=x.then(function(i){return f=!1,i},function(i){throw f=!1,i});return g.isPending=function(){return f},g}var D={install:function(f){f.component("inline-svg",L)}};n.InlineSvgComponent=L,n.InlineSvgPlugin=D,n.default=L,Object.defineProperty(n,"__esModule",{value:!0})})},4393:function(P,h,r){"use strict";r.r(h);var n=r(4394),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4394:function(P,h){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,L=(f,g)=>{for(var i in g)r(f,i,{get:g[i],enumerable:!0})},E=(f,g,i,e)=>{if(g&&typeof g=="object"||typeof g=="function")for(let t of u(g))!O.call(f,t)&&t!==i&&r(f,t,{get:()=>g[t],enumerable:!(e=n(g,t))||e.enumerable});return f},w=f=>E(r({},"__esModule",{value:!0}),f),D={};L(D,{default:()=>x}),P.exports=w(D);var x={name:"FeaturesListToolbar",props:{filterItems:{type:Array,required:!0},showDipasButton:{type:Boolean,default:!1}},data(){return{search:"",selectedLayerList:[],exportDetails:!1,sumUpLayers:!1}},watch:{selectedLayerList(f){this.$emit("setLayerFilter",f)},search(f){this.$emit("setSearch",f)}}}},4395:function(P,h,r){"use strict";r.r(h);var n=r(4396),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4396:function(P,h,r){var n=Object.create,u=Object.defineProperty,O=Object.defineProperties,L=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,i=(o,_,y)=>_ in o?u(o,_,{enumerable:!0,configurable:!0,writable:!0,value:y}):o[_]=y,e=(o,_)=>{for(var y in _||(_={}))f.call(_,y)&&i(o,y,_[y]);if(D)for(var y of D(_))g.call(_,y)&&i(o,y,_[y]);return o},t=(o,_)=>O(o,E(_)),a=(o,_)=>{for(var y in _)u(o,y,{get:_[y],enumerable:!0})},s=(o,_,y,A)=>{if(_&&typeof _=="object"||typeof _=="function")for(let T of w(_))!f.call(o,T)&&T!==y&&u(o,T,{get:()=>_[T],enumerable:!(A=L(_,T))||A.enumerable});return o},l=(o,_,y)=>(y=o!=null?n(x(o)):{},s(_||!o||!o.__esModule?u(y,"default",{value:o,enumerable:!0}):y,o)),m=o=>s(u({},"__esModule",{value:!0}),o),p=(o,_,y)=>new Promise((A,T)=>{var M=W=>{try{V(y.next(W))}catch(G){T(G)}},$=W=>{try{V(y.throw(W))}catch(G){T(G)}},V=W=>W.done?A(W.value):Promise.resolve(W.value).then(M,$);V((y=y.apply(o,_)).next())}),v={};a(v,{default:()=>c}),P.exports=m(v);var b=l(r(4162)),S=l(r(5410)),j=r(8),d=l(r(4224)),c={name:"FeaturesListScore",components:{ToolInfo:b.default,Weights:S.default},props:{featureList:{type:Array,required:!0},groupedLayer:{type:Array,required:!0}},data(){return{featureQueue:[],showWeightsDialog:!1,selectedLayerList:[],disableChartButtons:!0}},computed:{layerList(){let o=[];return this.groupedLayer.forEach(_=>{o.push({header:_.group}),o=o.concat(_.layer)}),o},progressValue(){return this.featureQueue.length&&this.featureList.length?Math.round(100-this.featureQueue.length/this.featureList.length*100):0},scoringIsOngoing(){return this.featureQueue.length!==0}},watch:{featureList:{handler:function(o,_){var y;(0,d.default)(o.map(A=>A.key),_.map(A=>A.key))||this.runFeaturesScore(this.featureList,this.selectedLayerList),typeof((y=o[0])==null?void 0:y.distanceScore)<"u"&&(this.disableChartButtons=!1)},deep:!0}},methods:t(e({},(0,j.mapActions)("Tools/DistanceScoreService",["getDistanceScore","getFeatureValues"])),{runFeaturesScore(o,_){return p(this,null,function*(){if(o&&o.length&&_.length>0){const y=[];for(this.featureQueue=o.map(A=>e({},A));this.featureQueue.length;){const A=this.featureQueue.shift();A.score={distance:yield this.getDistanceScore({feature:A.feature,layers:_})},A.score.value=this.getFeatureScore(A.score),A.distanceScore=A.score.value,y.push(A)}this.$emit("updateItems",y)}})},getFeatureScore(o){let _=0;return Object.keys(o).forEach(y=>{_+=parseFloat(o[y].average,10)}),(_/Object.keys(o).length).toFixed(1)},toggleWeightsDialog(o){this.showWeightsDialog=o,o||this.runFeaturesScore(this.featureList,this.selectedLayerList)}})}},4397:function(P,h,r){"use strict";r.r(h);var n=r(4398),u=r.n(n);for(var O in n)["default"].indexOf(O)<0&&function(L){r.d(h,L,function(){return n[L]})}(O);h.default=u.a},4398:function(P,h){var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,L=(f,g)=>{for(var i in g)r(f,i,{get:g[i],enumerable:!0})},E=(f,g,i,e)=>{if(g&&typeof g=="object"||typeof g=="function")for(let t of u(g))!O.call(f,t)&&t!==i&&r(f,t,{get:()=>g[t],enumerable:!(e=n(g,t))||e.enumerable});return f},w=f=>E(r({},"__esModule",{value:!0}),f),D={};L(D,{default:()=>x}),P.exports=w(D);var x={name:"FeaturesListScoreWeights",props:{isVisible:{type:Boolean,required:!0},layerList:{type:Array,required:!0}},computed:{show(){return this.isVisible}},methods:{updateIsVisible(){this.$emit("toggleWeightsDialog",!1)}}}},4800:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("Tool",{ref:"tool",class:e.show?"show":"hide",attrs:{title:e.$t("additional:modules.tools.cosi.featuresList.title"),icon:e.icon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"deactivate-gfi":e.deactivateGFI},scopedSlots:e._u([e.active?{key:"toolBody",fn:function(){return[e.isTimeSeriesAnalyseShow?t("div",[t("v-btn",{staticClass:"ma-2 time-series",attrs:{color:"success",title:e.$t("additional:modules.tools.cosi.timeSeriesAnalyse.title")},on:{click:e.openTimeSeriesAnalyse,keydown:e.openTimeSeriesAnalyse}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.cosi.timeSeriesAnalyse.title"))+`
            `)])],1):e._e(),e._v(" "),e.isTimeSeriesAnalyseShow?t("div",{staticClass:"toggle",attrs:{role:"button",tabindex:"0"},on:{click:e.toggleTool,keydown:e.toggleTool}},[t("span",{class:e.show?"bi bi-chevron-double-right":"bi bi-chevron-double-left",attrs:{title:e.show?e.$t("additional:modules.tools.cosi.featuresList.hide"):e.$t("additional:modules.tools.cosi.featuresList.show")}})]):e._e(),e._v(" "),t("ToolInfo",{attrs:{url:e.readmeUrl,locale:e.currentLocale}}),e._v(" "),t("v-app",{attrs:{id:"features-list-wrapper"}},[t("FeaturesListToolbar",{attrs:{"filter-items":e.groupActiveLayer,"show-dipas-button":e.dipasInFeaturesList},on:{setLayerFilter:e.setLayerFilter,setSearch:e.setSearch,createCharts:e.createCharts,createDipasCharts:e.createDipasCharts,exportTable:e.exportTable}}),e._v(" "),t("v-divider"),e._v(" "),t("div",{attrs:{id:"features-list"}},[t("form",{staticClass:"features-list-table-wrapper"},[t("div",{staticClass:"features-list-table"},[t("v-data-table",{attrs:{headers:e.columns,items:e.items,search:e.search,"custom-filter":e.searchAllAttributes,expanded:e.expanded,"multi-sort":"","item-key":"key","show-select":"","fixed-header":"","show-expand":"","items-per-page":10,"footer-props":{itemsPerPageText:e.$t("additional:modules.tools.cosi.featuresList.itemsPerPage"),itemsPerPageAllText:e.$t("additional:modules.tools.cosi.featuresList.itemsPerPageAll")},"item-class":e.getRowClasses},on:{"update:expanded":function(a){e.expanded=a},"click:row":e.handleClickRow,"current-items":e.setFilteredItems},scopedSlots:e._u([{key:"expanded-item",fn:function({headers:a,item:s}){return[t("td",{staticClass:"detail-view",attrs:{colspan:a.length}},[t("DetailView",{attrs:{item:s,"prop-blacklist":e.propBlacklist,"filter-props":e.filterProps},on:{filterProps:e.updateFilterProps}})],1)]}},{key:"item.warning",fn:function({item:a}){return[a.isModified?t("v-icon",{attrs:{title:e.$t("additional:modules.tools.cosi.featuresList.warningIsModified")}},[e._v(`
                                    mdi-alert
                                `)]):e._e(),e._v(" "),a.isSimulation?t("v-icon",{attrs:{title:e.$t("additional:modules.tools.cosi.featuresList.warningIsSimulated")}},[e._v(`
                                    mdi-sprout
                                `)]):e._e()]}},{key:"item.style",fn:function({item:a}){return[t("FeatureIcon",{attrs:{item:a}})]}},{key:"item.enabled",fn:function({item:a}){return[t("div",{staticClass:"text-center"},[t("v-icon",{staticClass:"featureToggle",attrs:{right:""},on:{click:function(s){return e.toggleFeature(a)}}},[e._v(`
                                        `+e._s(a.enabled?"mdi-eye":"mdi-eye-off")+`
                                    `)])],1)]}},e._l(e.numericalColumns,function(a){return{key:`item.${a.value}`,fn:function({item:s}){return[isNaN(parseFloat(s[a.value]))?e._e():[t("div",{key:a.value,staticClass:"text-right",class:a.hasAction?"number-action":"",attrs:{role:"button",tabindex:"0"},on:{click:function(l){a.hasAction&&e.showDistanceScoreForItem(s)},keydown:function(l){a.hasAction&&e.showDistanceScoreForItem(s)}}},[t("div",[e._v(`
                                            `+e._s(parseFloat(s[a.value]).toLocaleString(e.currentLocale))+`
                                            `+e._s(s[a])+`
                                        `)]),e._v(" "),t("div",[t("v-chip",{style:e.getNumericalValueStyle(s,a.value),attrs:{color:e.getNumericalValueColor(s,a.value,a.invertColor),dark:"",dense:""}})],1)])]]}}})],null,!0),model:{value:e.selected,callback:function(a){e.selected=a},expression:"selected"}})],1)])]),e._v(" "),e.distanceScoreEnabled?t("FeaturesScore",{attrs:{"grouped-layer":e.mapping,"feature-list":e.items},on:{showDistanceScoreHistogram:e.showDistanceScoreHistogram,showDistanceScoresForSelected:e.showDistanceScoresForSelected,updateItems:e.updateItems}}):e._e()],1),e._v(" "),t("div",{staticClass:"mini-sidebar"})]},proxy:!0}:null],null,!0)})},g=[];f._withStripped=!0},4801:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("v-sheet",[t("v-card",[t("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",{staticClass:"detail-view-row"},e._l(e.featureProperties,function(a,s){return t("tr",{key:s},[t("td",[t("v-checkbox",{attrs:{value:s,dense:"","hide-details":""},on:{change:e.onChangeProps},model:{value:e.selectedProps,callback:function(l){e.selectedProps=l},expression:"selectedProps"}})],1),e._v(" "),t("th",[e._v(e._s(e.gfiOrBeautifyKey(s)))]),e._v(" "),t("td",[e._v(e._s(a))])])}),0)]},proxy:!0}])})],1)],1)},g=[];f._withStripped=!0},4802:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"feature-icon",attrs:{role:"button",tabindex:"0",title:e.getTitle(e.item)},on:{click:e.zoomToFeature,keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.zoomToFeature.apply(null,arguments)}}},[e.getSvgSrc()?t("InlineSvg",{staticClass:"marker",attrs:{src:e.getSvgSrc(),fill:e.getSvgColor(),alt:"no img"}}):e.getIconSrc()?t("img",{staticClass:"marker",attrs:{src:e.getIconSrc(),alt:"no img"}}):e.getCircleStyle()?t("span",{staticClass:"marker",style:{backgroundColor:e.getBgColor(e.getCircleStyle()),borderWidth:e.getBorderWidth(e.getCircleStyle()),borderColor:e.getBorderColor(e.getCircleStyle())}}):t("span",{staticClass:"marker",style:{backgroundColor:e.getBgColor(e.style),borderWidth:e.getBorderWidth(e.style),borderColor:e.getBorderColor(e.style)}}),e._v(" "),e.item.isSimulation?t("span",{staticClass:"simulation-overlay"},[e._v(`
        *
    `)]):e.item.isModified?t("span",{staticClass:"simulation-overlay"},[e._v(`
        \u21C4
    `)]):e._e(),e._v(" "),[void 0,"Point"].includes(e.item.feature.get("originalGeometryType"))?e._e():t("span",{staticClass:"dipas-geometry-overlay"},[e._v(`
        *
    `)]),e._v(" "),e.item.feature.get("dipasLocated")||e.item.feature.get("dipasLocated")===void 0?e._e():t("span",{staticClass:"dipas-geometry-overlay"},[e._v(`
        ?
    `)])],1)},g=[];f._withStripped=!0},4803:function(P,h,r){},4804:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"features-list-toolbar"}},[t("v-row",[t("v-col",{attrs:{cols:"8"}},[t("v-select",{attrs:{items:e.filterItems,multiple:"",dense:"",outlined:"","small-chips":"","deletable-chips":"","hide-details":"","menu-props":{closeOnContentClick:!0},label:e.$t("additional:modules.tools.cosi.featuresList.layerFilter")},model:{value:e.selectedLayerList,callback:function(a){e.selectedLayerList=a},expression:"selectedLayerList"}})],1),e._v(" "),t("v-col",{staticClass:"border-style"},[t("v-btn",{attrs:{tile:"",depressed:"",small:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.featuresList.createCharts")},on:{click:function(a){return e.$emit("createCharts")}}},[t("v-icon",{attrs:{small:"",left:""}},[e._v(`
                    mdi-poll
                `)]),e._v(`
                `+e._s(e.$t("additional:modules.tools.cosi.featuresList.createCharts"))+`
            `)],1),e._v(" "),e.showDipasButton?t("v-btn",{attrs:{small:"",depressed:"",tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.featuresList.dipas.createCharts")},on:{click:function(a){return e.$emit("createDipasCharts")}}},[t("v-icon",[e._v("mdi-thumbs-up-down")])],1):e._e(),e._v(" "),t("br"),e._v(" "),t("v-checkbox",{attrs:{dense:"","hide-details":"",label:e.$t("additional:modules.tools.cosi.featuresList.sumUpLayers"),title:e.$t("additional:modules.tools.cosi.featuresList.sumUpLayersTooltip")},model:{value:e.sumUpLayers,callback:function(a){e.sumUpLayers=a},expression:"sumUpLayers"}})],1)],1),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"8"}},[t("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:e.$t("additional:modules.tools.cosi.featuresList.search"),dense:"",outlined:"","hide-details":"",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),e._v(" "),t("v-col",{staticClass:"border-style"},[t("v-btn",{attrs:{id:"export-table",tile:"",depressed:"",small:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.featuresList.exportTable")},on:{click:function(a){return e.$emit("exportTable",e.exportDetails)}}},[t("v-icon",{attrs:{small:"",left:""}},[e._v(`
                    mdi-file-export
                `)]),e._v(`
                `+e._s(e.$t("additional:modules.tools.cosi.featuresList.exportTable"))+`
            `)],1),e._v(" "),t("br"),e._v(" "),t("v-checkbox",{attrs:{id:"export-details",dense:"","hide-details":"",label:e.$t("additional:modules.tools.cosi.featuresList.exportDetails"),title:e.$t("additional:modules.tools.cosi.featuresList.exportDetails")},model:{value:e.exportDetails,callback:function(a){e.exportDetails=a},expression:"exportDetails"}})],1)],1)],1)},g=[];f._withStripped=!0},4805:function(P,h,r){P.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},4806:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("v-card",{staticClass:"mb-4",attrs:{outlined:"",rounded:"0"}},[e.progressValue>0?t("v-progress-linear",{attrs:{value:e.progressValue,height:"25"}},[t("strong",[e._v(e._s(e.progressValue)+"%")])]):e._e(),e._v(" "),t("v-card-title",[e._v(`
        `+e._s(e.$t("additional:modules.tools.cosi.featuresList.titleLocationScore"))+`
    `)]),e._v(" "),t("v-card-text",[t("ToolInfo",{attrs:{summary:"Die Entfernung (Fu\xDFweg) zur n\xE4chstgelegenen ausgew\xE4hlten Einrichtung wird berechnet. Werden mehrere Einrichtungen ausgew\xE4hlt, wird die Entfernung gemittelt."}}),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-autocomplete",{staticClass:"rounded-0",attrs:{id:"selectedDistanceScoreLayers",items:e.layerList,label:e.$t("additional:modules.tools.cosi.featuresList.distanceScoreLayerLabel"),outlined:"",disabled:e.scoringIsOngoing,dense:"","item-text":"id","return-object":"","hide-details":"",chips:"",clearable:"","deletable-chips":"",multiple:"","small-chips":""},model:{value:e.selectedLayerList,callback:function(a){e.selectedLayerList=a},expression:"selectedLayerList"}})],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{staticClass:"ml-1",attrs:{depressed:"",disabled:e.scoringIsOngoing||e.selectedLayerList.length===0,tile:"",color:"grey lighten-1"},nativeOn:{click:function(a){return e.runFeaturesScore(e.featureList,e.selectedLayerList)}}},[e._v(`
            Berechnung starten
        `)]),e._v(" "),t("v-btn",{attrs:{depressed:"",disabled:e.scoringIsOngoing||e.selectedLayerList.length<2,tile:"",color:"grey lighten-1"},nativeOn:{click:function(a){return e.toggleWeightsDialog(!0)}}},[e._v(`
            `+e._s(e.$t("additional:modules.tools.cosi.featuresList.weighting"))+`
        `)]),e._v(" "),t("v-btn",{attrs:{depressed:"",disabled:e.scoringIsOngoing||e.disableChartButtons,tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.featuresList.distanceScoreChartTooltip")},nativeOn:{click:function(a){return e.$emit("showDistanceScoresForSelected",e.selectedLayerList)}}},[t("v-icon",[e._v("mdi-radar")])],1),e._v(" "),t("v-btn",{attrs:{depressed:"",disabled:e.scoringIsOngoing||e.disableChartButtons,tile:"",color:"grey lighten-1",title:e.$t("additional:modules.tools.cosi.featuresList.distanceScoreHistogramTooltip")},nativeOn:{click:function(a){return e.$emit("showDistanceScoreHistogram",e.selectedLayerList)}}},[t("v-icon",[e._v("mdi-chart-histogram")])],1)],1),e._v(" "),t("Weights",{attrs:{"is-visible":e.showWeightsDialog,"layer-list":e.selectedLayerList},on:{toggleWeightsDialog:e.toggleWeightsDialog}})],1)},g=[];f._withStripped=!0},4807:function(P,h,r){var n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,E=(i,e)=>{for(var t in e)n(i,t,{get:e[t],enumerable:!0})},w=(i,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of O(e))!L.call(i,s)&&s!==t&&n(i,s,{get:()=>e[s],enumerable:!(a=u(e,s))||a.enumerable});return i},D=i=>w(n({},"__esModule",{value:!0}),i),x={};E(x,{render:()=>f,staticRenderFns:()=>g}),P.exports=D(x);var f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t("v-dialog",{attrs:{width:"500"},model:{value:e.show,callback:function(a){e.show=a},expression:"show"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5 white lighten-2"},[e._v(`
                `+e._s(e.$t("additional:modules.tools.cosi.featuresList.weighting"))+`
            `)]),e._v(" "),e._l(e.layerList,function(a){return t("div",{key:a.layerId},[t("v-subheader",[e._v(`
                    `+e._s(a.id)+`
                `)]),e._v(" "),t("v-card-text",[t("v-slider",{staticClass:"align-center",attrs:{max:1,min:0,step:"0.1","hide-details":""},scopedSlots:e._u([{key:"append",fn:function(){return[t("v-text-field",{staticClass:"mt-0 pt-0 slider-text",attrs:{"hide-details":"","single-line":"",type:"number",step:"0.1",max:"1",min:"0"},model:{value:a.weighting,callback:function(s){e.$set(a,"weighting",s)},expression:"layer.weighting"}})]},proxy:!0}],null,!0),model:{value:a.weighting,callback:function(s){e.$set(a,"weighting",s)},expression:"layer.weighting"}})],1)],1)}),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary",text:""},on:{click:e.updateIsVisible}},[e._v(`
                    Ok
                `)])],1)],2)],1)],1)},g=[];f._withStripped=!0},4808:function(P,h,r){},4809:function(P,h,r){P.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},4810:function(P,h,r){},5398:function(P,h,r){"use strict";r.r(h);var n=r(5399),u=r(4386);for(var O in u)["default"].indexOf(O)<0&&function(x){r.d(h,x,function(){return u[x]})}(O);var L=r(5413),E=r(5414),w=r(1),D=Object(w.a)(u.default,n.render,n.staticRenderFns,!1,null,"763244c2",null);h.default=D.exports},5399:function(P,h,r){"use strict";var n=r(4800),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},5400:function(P,h,r){"use strict";r.r(h);var n=r(5401),u=r(4388);for(var O in u)["default"].indexOf(O)<0&&function(w){r.d(h,w,function(){return u[w]})}(O);var L=r(1),E=Object(L.a)(u.default,n.render,n.staticRenderFns,!1,null,null,null);h.default=E.exports},5401:function(P,h,r){"use strict";var n=r(4801),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},5402:function(P,h,r){"use strict";r.r(h);var n=r(5403),u=r(4390);for(var O in u)["default"].indexOf(O)<0&&function(D){r.d(h,D,function(){return u[D]})}(O);var L=r(5404),E=r(1),w=Object(E.a)(u.default,n.render,n.staticRenderFns,!1,null,"0193f011",null);h.default=w.exports},5403:function(P,h,r){"use strict";var n=r(4802),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},5404:function(P,h,r){"use strict";var n=r(4803),u=r.n(n)},5405:function(P,h,r){"use strict";r.r(h);var n=r(5406),u=r(4393);for(var O in u)["default"].indexOf(O)<0&&function(D){r.d(h,D,function(){return u[D]})}(O);var L=r(5407),E=r(1),w=Object(E.a)(u.default,n.render,n.staticRenderFns,!1,null,null,null);h.default=w.exports},5406:function(P,h,r){"use strict";var n=r(4804),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},5407:function(P,h,r){"use strict";var n=r(4805),u=r.n(n)},5408:function(P,h,r){"use strict";r.r(h);var n=r(5409),u=r(4395);for(var O in u)["default"].indexOf(O)<0&&function(w){r.d(h,w,function(){return u[w]})}(O);var L=r(1),E=Object(L.a)(u.default,n.render,n.staticRenderFns,!1,null,"990b7fbc",null);h.default=E.exports},5409:function(P,h,r){"use strict";var n=r(4806),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},5410:function(P,h,r){"use strict";r.r(h);var n=r(5411),u=r(4397);for(var O in u)["default"].indexOf(O)<0&&function(D){r.d(h,D,function(){return u[D]})}(O);var L=r(5412),E=r(1),w=Object(E.a)(u.default,n.render,n.staticRenderFns,!1,null,"5e3c995c",null);h.default=w.exports},5411:function(P,h,r){"use strict";var n=r(4807),u=r.n(n);r.o(n,"render")&&r.d(h,"render",function(){return n.render}),r.o(n,"staticRenderFns")&&r.d(h,"staticRenderFns",function(){return n.staticRenderFns})},5412:function(P,h,r){"use strict";var n=r(4808),u=r.n(n)},5413:function(P,h,r){"use strict";var n=r(4809),u=r.n(n)},5414:function(P,h,r){"use strict";var n=r(4810),u=r.n(n)}}]);
