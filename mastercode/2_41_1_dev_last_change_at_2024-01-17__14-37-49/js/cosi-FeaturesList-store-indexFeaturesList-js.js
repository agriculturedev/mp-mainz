(window.webpackJsonp=window.webpackJsonp||[]).push([[304,302,303,305,306,309,422],{3650:function(h,x,d){var b=Object.create,y=Object.defineProperty,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,w=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,P=(n,f,a,o)=>{if(f&&typeof f=="object"||typeof f=="function")for(let s of L(f))!M.call(n,s)&&s!==a&&y(n,s,{get:()=>f[s],enumerable:!(o=j(f,s))||o.enumerable});return n},F=(n,f,a)=>(a=n!=null?b(w(n)):{},P(f||!n||!n.__esModule?y(a,"default",{value:n,enumerable:!0}):a,n)),m=F(d(106));function O(n){var f;if(typeof n!="object"||n===null||typeof n.getSource!="function"||typeof((f=n.getSource())==null?void 0:f.getFeatures)!="function")return console.error("utils/layer/getLayerSource: layer must be a layer with a vector source",n),null;const a=n.getSource();return a.constructor===m.default?a.getSource():a}h.exports={getLayerSource:O}},3676:function(h,x){var d=Object.defineProperty,b=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,j=Object.prototype.hasOwnProperty,L=(O,n)=>{for(var f in n)d(O,f,{get:n[f],enumerable:!0})},w=(O,n,f,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of y(n))!j.call(O,o)&&o!==f&&d(O,o,{get:()=>n[o],enumerable:!(a=b(n,o))||a.enumerable});return O},M=O=>w(d({},"__esModule",{value:!0}),O),P={};L(P,{default:()=>m}),h.exports=M(P);var m={active:!1,deactivateGFI:!1,icon:"bi-apple",id:"featuresList",isVisibleInMenu:!0,name:"Einrichtungs\xFCbersicht",renderToWindow:!1,resizableWindow:!0,width:.5,mapping:[],featuresListItems:[],selectedFeatureItems:[],propBlacklist:["geometry","geom","the_geom","coordinates","flatCoordinates","x","y","lat","lon","latlon","lonlat","originalData"],disabledFeatureItems:[],distanceScoreEnabled:!0,readmeUrl:{"en-US":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/017featureslist.md","de-DE":"https://bitbucket.org/geowerkstatt-hamburg/addons/src/dev/cosi/manuals/017einrichtungsuebersicht.md"},show:!0}},3738:function(h,x,d){var b=Object.defineProperty,y=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,w=(a,o)=>{for(var s in o)b(a,s,{get:o[s],enumerable:!0})},M=(a,o,s,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let u of j(o))!L.call(a,u)&&u!==s&&b(a,u,{get:()=>o[u],enumerable:!(i=y(o,u))||i.enumerable});return a},P=a=>M(b({},"__esModule",{value:!0}),a),F={};w(F,{createVectorLayerMappingObject:()=>m,default:()=>f}),h.exports=P(F);function m(a,o){const s=a.mouseHoverField||"name",i=a.addressField||"adresse";return{layerId:a.id,id:a.name,group:o,weighting:1,numericalValues:a.numericalValues||[],addressField:Array.isArray(i)?i:[i],categoryField:Array.isArray(a.searchField)?a.searchField[a.searchField.length-1]:a.searchField,keyOfAttrName:Array.isArray(s)?s[0]:s}}function O(a,o,s){return a.reduce((i,u)=>(u[o]&&i.push(m(u,s)),i),[])}function n(a,o){return(a.Ordner||[]).reduce((s,i)=>[...s,...n(i,o)],O(a.Layer||[],o,a.Titel))}function f(a,o=["Fachdaten","Fachdaten - Analyse / Simulation"],s="isFacility",i="Sonstiges"){const u=[];let l=o.length>0?a[o[0]]:a;if(o.length>1)for(let v=1;v<o.length;v++)l&&l.Ordner&&(l=l.Ordner.find(S=>S.Titel===o[v]));if(l){if(Array.isArray(l.Ordner))for(const v of l.Ordner)u.push({group:v.Titel,layer:n(v,s)});l.Layer&&l.Layer.length&&u.push({group:i,layer:O(l.Layer,s)})}return u}},3797:function(h,x,d){var b=Object.create,y=Object.defineProperty,j=Object.defineProperties,L=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,F=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,n=(e,r,t)=>r in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,f=(e,r)=>{for(var t in r||(r={}))m.call(r,t)&&n(e,t,r[t]);if(P)for(var t of P(r))O.call(r,t)&&n(e,t,r[t]);return e},a=(e,r)=>j(e,w(r)),o=(e,r)=>{for(var t in r)y(e,t,{get:r[t],enumerable:!0})},s=(e,r,t,p)=>{if(r&&typeof r=="object"||typeof r=="function")for(let _ of M(r))!m.call(e,_)&&_!==t&&y(e,_,{get:()=>r[_],enumerable:!(p=L(r,_))||p.enumerable});return e},i=(e,r,t)=>(t=e!=null?b(F(e)):{},s(r||!e||!e.__esModule?y(t,"default",{value:e,enumerable:!0}):t,e)),u=e=>s(y({},"__esModule",{value:!0}),e),l={};o(l,{default:()=>g}),h.exports=u(l);var v=d(10),S=i(d(3676)),g=a(f({},(0,v.generateSimpleGetters)(S.default)),{selectedFeatures(e,{selectedFeatureItems:r}){return r.map(t=>t.feature)},featuresList(e,{featuresListItems:r}){return r.map(t=>t.feature)},featureItemByAttributes:(e,{featuresListItems:r})=>t=>r.find(p=>{for(const _ in t)if(p.feature.get(_)!==t[_])return!1;return!0}),featureByAttribute:(e,{featureItemByAttributes:r})=>t=>{var p;return(p=r(t))==null?void 0:p.feature},activeVectorLayerList(e,{flatActiveVectorLayerIdList:r}){return mapCollection.getMap("2D").getLayers().getArray().filter(p=>p.getVisible()).filter(p=>r.includes(p.get("id")))},activeLayerMapping(e,{mapping:r}){const t=mapCollection.getMap("2D").getLayers().getArray().filter(_=>_.getVisible()),p=t.map(_=>_.get("id"));return r.reduce((_,D)=>{const I=D.layer.filter(A=>p.includes(A.layerId));return I.length>0?[..._,{group:D.group,layer:I}]:_},[])},groupActiveLayer(e,{activeLayerMapping:r}){const t=[];return r.forEach(p=>{t.push({header:p.group}),p.layer.forEach(_=>{t.push({value:_,text:_.id})})}),t},flatLayerMapping(e,{mapping:r}){return r.reduce((t,p)=>[...t,...p.layer.map(_=>a(f({},_),{group:p.group}))],[])},flatActiveVectorLayerIdList(e,{activeLayerMapping:r}){return r.reduce((t,p)=>[...t,...p.layer.map(_=>_.layerId)],[])},flatActiveLayerMapping(e,{activeLayerMapping:r}){return r.reduce((t,p)=>[...t,...p.layer.map(_=>a(f({},_),{group:p.group}))],[])},layerMapById:(e,{flatActiveLayerMapping:r})=>t=>r.find(p=>p.layerId===t),isFeatureDisabled:(e,{disabledFeatureItems:r})=>t=>r.filter(p=>p.feature===t).length>0,isFeatureActive:(e,{isFeatureDisabled:r})=>t=>(typeof t.style_=="object"||t.style_===null||t.style_===void 0)&&!r(t)})},3798:function(h,x,d){var b=Object.create,y=Object.defineProperty,j=Object.defineProperties,L=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,F=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,n=(e,r,t)=>r in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,f=(e,r)=>{for(var t in r||(r={}))m.call(r,t)&&n(e,t,r[t]);if(P)for(var t of P(r))O.call(r,t)&&n(e,t,r[t]);return e},a=(e,r)=>j(e,w(r)),o=(e,r)=>{for(var t in r)y(e,t,{get:r[t],enumerable:!0})},s=(e,r,t,p)=>{if(r&&typeof r=="object"||typeof r=="function")for(let _ of M(r))!m.call(e,_)&&_!==t&&y(e,_,{get:()=>r[_],enumerable:!(p=L(r,_))||p.enumerable});return e},i=(e,r,t)=>(t=e!=null?b(F(e)):{},s(r||!e||!e.__esModule?y(t,"default",{value:e,enumerable:!0}):t,e)),u=e=>s(y({},"__esModule",{value:!0}),e),l={};o(l,{default:()=>g}),h.exports=u(l);var v=d(10),S=i(d(3676)),g=a(f({},(0,v.generateSimpleMutations)(S.default)),{addDisabledFeatureItem(e,r){e.disabledFeatureItems.push(r)},removeDisabledFeatureItem(e,r){e.disabledFeatureItems=e.disabledFeatureItems.filter(t=>t!==r)}})},3799:function(h,x,d){var b=Object.defineProperty,y=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,w=(a,o)=>{for(var s in o)b(a,s,{get:o[s],enumerable:!0})},M=(a,o,s,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let u of j(o))!L.call(a,u)&&u!==s&&b(a,u,{get:()=>o[u],enumerable:!(i=y(o,u))||i.enumerable});return a},P=a=>M(b({},"__esModule",{value:!0}),a),F={};w(F,{default:()=>f}),h.exports=P(F);var m=d(3650),O=d(3738),f={toggleFeatureDisabled({dispatch:a,commit:o,rootGetters:s},i){var u;const l=s["Maps/getLayerById"],v=l({layerId:i.layerId}),S=(0,m.getLayerSource)(v);if(a("Maps/removeHighlightFeature",null,{root:!0}),v){let c;(i.isModified||i.isSimulation)&&(c=(u=s["Tools/ScenarioBuilder/activeScenario"])==null?void 0:u.getScenarioFeature(i.feature)),i.enabled?(c?c.renderFeature():S.addFeature(i.feature),o("removeDisabledFeatureItem",i)):(c?c.hideFeature():S.removeFeature(i.feature),o("addDisabledFeatureItem",i))}},addVectorlayerToMapping({commit:a,getters:o},s){const{mapping:i}=o,u=(0,O.createVectorLayerMappingObject)(s);let l=i.find(S=>S.group===s.group||S.group===s.parendId),v=i;l?l.layer.push(u):(l={group:s.group,layer:[u]},v=[...v,l]),a("setMapping",[...v])},removeVectorLayerFromMapping({commit:a,getters:o},s){const{mapping:i}=o;let u=[...i];for(const l of u)l.layer=l.layer.filter(v=>v!==s),l.layer.length===0&&(u=u.filter(v=>v!==l));a("setMapping",u)}}},3952:function(h,x,d){var b=Object.create,y=Object.defineProperty,j=Object.getOwnPropertyDescriptor,L=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,m=(c,g,e)=>g in c?y(c,g,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[g]=e,O=(c,g)=>{for(var e in g||(g={}))P.call(g,e)&&m(c,e,g[e]);if(w)for(var e of w(g))F.call(g,e)&&m(c,e,g[e]);return c},n=(c,g)=>{for(var e in g)y(c,e,{get:g[e],enumerable:!0})},f=(c,g,e,r)=>{if(g&&typeof g=="object"||typeof g=="function")for(let t of L(g))!P.call(c,t)&&t!==e&&y(c,t,{get:()=>g[t],enumerable:!(r=j(g,t))||r.enumerable});return c},a=(c,g,e)=>(e=c!=null?b(M(c)):{},f(g||!c||!c.__esModule?y(e,"default",{value:c,enumerable:!0}):e,c)),o=c=>f(y({},"__esModule",{value:!0}),c),s={};n(s,{default:()=>S}),h.exports=o(s);var i=a(d(3797)),u=a(d(3798)),l=a(d(3676)),v=a(d(3799)),S={namespaced:!0,state:O({},l.default),mutations:u.default,getters:i.default,actions:v.default}}}]);
